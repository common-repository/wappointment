(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"/vDO":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-terms{\n    font-size: .7em;\n    text-align: left;\n    line-height: 1.4;\n    margin-bottom: .3em;\n}\n\n",""])},"0LHV":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.commands-div{\n    min-width:280px;\n}\n",""])},"0dk3":function(t,e,n){var i=n("sc10");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("73e3fd82",i,!0,{})},"15Q4":function(t,e,n){var i=n("2CS4");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("0b0501e5",i,!0,{})},"2CS4":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n#follower{\n    border-radius: 1rem;\n  box-shadow: 0 1.2rem 1rem 0 rgba(0,0,0,0.1);\n  margin: 0 auto;\n  width: 450px;\n  text-align: center;\n  position: absolute;\n  border: 2px solid var(--warning);\n  background-color: white;\n  color: #797676;\n  font-size: 1.1rem;\n  font-weight: bold;\n  left: 36%;\n  padding: 0.4rem;\n  top:4px;\n}\n",""])},"2RkK":function(t,e,n){var i=n("zXQP");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("0bd5698e",i,!0,{})},"2o8U":function(t,e,n){var i=n("VYcA");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("914d5402",i,!0,{})},"2sO2":function(t,e,n){var i=n("J1PL");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("0626cf5e",i,!0,{})},"3R/I":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-front .wap-booking-fields label{\n    color: var(--wappo-body-tx);\n}\n.wap-front .phone-field .dropdown ul {\n    position: initial;\n    max-width: 266px;\n    min-width: 224px;\n    margin-top: 12px;\n    overflow-y: scroll !important;\n    overflow: hidden;\n}\n.wap-front .phone-field .dropdown {\n    border-radius: .2em;\n}\n.wap-front .phone-field .dropdown.open + input {\n    display:none;\n}\n.wap-front .address-service{\n    border-radius: .2em;\n    padding: .3em;\n    margin: auto;\n    text-align: left;\n    margin-bottom: .6rem;\n}\n.wap-front .address-service .icon-address{\n    padding: 0 .3em;\n}\n.wap-front .address-service address{\n    margin-left: .6em;\n}\n.wap-booking-fields {\n    text-align: left;\n    margin: .5em 0;\n}\n.wap-booking-fields label{\n    margin-bottom: 0;\n    font-size: .9em;\n}\n.wap-terms{\n    font-size: .7em;\n    text-align: left;\n    line-height: 1.4;\n    margin-bottom: .3em;\n}\n.wap-front .wrounded{\n  border-radius : 50%;\n}\n.wap-front .wshadow{\n  box-shadow: inset 0px 8px 10px 0 rgba(0,0,0,.08);\n}\n.wap-front .form-summary .wselected {\n    display: inline-flex !important;\n    font-size: .8em;\n}\n\n",""])},"4nX5":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.drag-actions {\n  height: 50px;\n  text-align: center;\n}\n.drag-actions .btn{\n    width:100%;\n}\n",""])},"5Kp/":function(t,e,n){"use strict";var i=n("2sO2");n.n(i).a},"5qZH":function(t,e,n){"use strict";var i={mixins:[n("whSN").a],props:["options","wrapper","largeVersion"],data:function(){return{opts:null,widthWrapper:!1,baseFontSize:"20px",calendarRound:.6}},created:function(){this.opts=Object.assign({},this.options)},computed:{buttonIsBold:function(){return!0===this.opts.button.check_bold?"font-weight:bold;":""},buttonIsFull:function(){return!0===this.opts.button.check_full?"width:100%;":""}},mounted:function(){this.widthWrapper=document.getElementById(this.wrapper).clientWidth,this.largeVersion?this.widthWrapper>"620"?this.baseFontSize="22px":this.baseFontSize=this.widthWrapper<"620"?"21px":"20px":this.baseFontSize="20px"}},s=n("KHd+"),o=Object(s.a)(i,function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-style",[t._v("\n    :root {\n        --wappo-pri-bg: "+t._s(t.hx_rgb(t.opts.colors.primary.bg))+";\n        --wappo-pri-tx: "+t._s(t.hx_rgb(t.opts.colors.primary.text))+";\n        --wappo-pri-tx-lt: "+t._s(t.hx_rgb(t.opts.colors.primary.text,.8))+";\n        --wappo-sec-bg: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg))+";\n        --wappo-sec-tx: "+t._s(t.hx_rgb(t.opts.colors.secondary.text))+";\n        --wappo-sec-sel-bg: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg_selected))+";\n        --wappo-sec-sel-tx: "+t._s(t.hx_rgb(t.opts.colors.secondary.text_selected))+";\n        --wappo-header-tx: "+t._s(t.hx_rgb(t.opts.colors.header.text))+";\n        --wappo-body-tx: "+t._s(t.hx_rgb(t.opts.colors.body.text))+";\n        --wappo-body-bg: "+t._s(t.hx_rgb(t.opts.colors.body.bg))+";\n        --wappo-success-tx: "+t._s(t.hx_rgb(t.opts.colors.confirmation.text))+";\n        --wappo-error-tx: "+t._s(t.hx_rgb(t.opts.colors.form.error))+";\n        --wappo-valid-tx: "+t._s(t.hx_rgb(t.opts.colors.form.success))+";\n        --wappo-input-col: "+t._s(t.hx_rgb("#495057"))+";\n        --wappo-input-ph: "+t._s(t.hx_rgb("#aeadad"))+";\n        --wappo-input-bor: "+t._s(t.hx_rgb("#ced4da"))+";\n        --wappo-input-box-s: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.25))+";\n        --wappo-payment-border: "+t._s(t.hx_rgb(t.opts.colors.form.payment))+";\n    }\n    .wap-front .wbtn.wbtn-primary-light,\n    .wap-front .wbtn.wbtn-primary-light:not(:disabled):not(.disabled):active, \n    .wap-front .wbtn.wbtn-primary-light:not(:disabled):not(.disabled).active {\n        background: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.8))+";\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.8))+";\n        border-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.6))+";\n        color: var(--wappo-pri-tx);\n        box-shadow: 0 .1em 0 "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.4))+";\n    }\n    .wap-front .wbtn.wbtn-primary.wbtn-booking,\n    .wap-front .wbtn-primary.wbtn-booking:not(:disabled):not(.disabled):active, \n    .wap-front .wbtn-primary.wbtn-booking:not(:disabled):not(.disabled).active {\n        font-size: "+t._s(t.opts.button.slide_size+"em")+" !important;\n        "+t._s(t.buttonIsBold)+"\n        "+t._s(t.buttonIsFull)+"\n    }\n    .wap-front .wbtn.wbtn-primary,\n    .wap-front .wbtn-primary:not(:disabled):not(.disabled):active, \n    .wap-front .wbtn-primary:not(:disabled):not(.disabled).active {\n        background: var(--wappo-pri-bg);\n        background-color: var(--wappo-pri-bg);\n        border-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.8))+";\n        color: var(--wappo-pri-tx);\n        box-shadow: 0 .1em 0 "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.6))+";\n        margin: .2em 0;\n    }\n    .wap-front .d-section.ds-1 .wbtn.wbtn-primary{\n        margin: .2em;\n    }\n    .wap-front .wbtn.wbtn-primary:hover {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.9))+";\n        box-shadow: 0 0 0 .2em "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.5))+";\n    }\n\n    .wap-front .wbtn:focus, \n    .wap-front .wbtn.focus {\n        box-shadow: 0 0 0 .2em "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.25))+";\n    }\n    \n    .wap-front .wbtn-primary.disabled, \n    .wap-front .wbtn-primary:disabled, \n    .wap-front .wbtn-primary.disabled:hover, \n    .wap-front .wbtn-primary:disabled:hover {\n        background-color: var(--wappo-pri-bg) !important;\n        border-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.8))+" !important;\n        color: var(--wappo-pri-tx) !important;\n        box-shadow: 0 .1em 0 "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.6))+";\n    }\n\n    .wap-front .wbtn-primary:disabled:hover {\n        background-color: var(--wappo-pri-bg) !important;\n        border-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.8))+" !important;\n        color: var(--wappo-pri-tx) !important;\n        box-shadow: 0 .1em 0 "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.6))+";\n    }\n\n    .wap-front .address-service {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.address.bg))+";\n        border-color: "+t._s(t.hx_rgb(t.opts.colors.address.bg,.8))+";\n        color: "+t._s(t.hx_rgb(t.opts.colors.address.text))+";\n        box-shadow: 0 .1em 0 "+t._s(t.hx_rgb(t.opts.colors.address.bg,.6))+";\n    }\n    .wap-front .address-service a{\n        color: "+t._s(t.hx_rgb(t.opts.colors.address.text))+";\n    }\n\n    .wap-front .wbtn.wbtn-secondary,\n    .wap-front .wbtn.wbtn-secondary .wduration,\n    .wap-front .wbtn-secondary:not(:disabled):not(.disabled):active, \n    .wap-front .wbtn-secondary:not(:disabled):not(.disabled).active {\n        background: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg))+";\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg))+";\n        border-color: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg,.8))+";\n        color: "+t._s(t.hx_rgb(t.opts.colors.secondary.text))+";\n        box-shadow: 0 .1em 0 "+t._s(t.hx_rgb(t.opts.colors.secondary.bg,.6))+";\n        margin: .4em 0;\n    }\n\n    .wap-front .wrap-calendar .wbtn.wbtn-secondary div{\n        color: "+t._s(t.hx_rgb(t.opts.colors.secondary.text))+";\n    }\n\n    .wap-front .wrap-calendar .wbtn.wbtn-secondary.selected div{\n        color: "+t._s(t.hx_rgb(t.opts.colors.secondary.text_selected))+";\n    }\n\n    .wap-front .wbtn.wbtn-secondary:hover {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg,.9))+";\n        box-shadow: 0 0 0 .2em "+t._s(t.hx_rgb(t.opts.colors.secondary.bg,.5))+";\n    }\n\n    .wap-front .wbtn.wbtn-secondary.selected{\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg_selected))+";\n        border-color: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg_selected,.8))+";\n        color: "+t._s(t.hx_rgb(t.opts.colors.secondary.text_selected))+";\n        box-shadow: 0 .1em 0 "+t._s(t.hx_rgb(t.opts.colors.secondary.bg_selected,.6))+";\n    }\n    .wap-front .wbtn.wbtn-secondary.selected svg{\n        color: "+t._s(t.hx_rgb(t.opts.colors.secondary.text_selected))+";\n    }\n\n    .wap-front .wap-form-body .timezone {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.body.bg,.9))+";\n    }\n    \n    .wap-front .wap-form-body .no-avail, \n    .wap-front .wap-form-body .wbtn-link.disabled{\n        color: "+t._s(t.hx_rgb(t.opts.colors.body.disabled_links))+";\n    }\n\n    .wap-front .wap-head {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.header.bg))+";\n    }\n    .wap-front .wap-head.showall{\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.header.bg,.9))+";\n    }\n\n    .wap-bf.show{\n        border-radius: "+t._s(t.calendarRound)+"em;\n    }\n    \n    .wap-front .wbtn.wbtn-secondary.dayselected{\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.selected_day.bg))+";\n    }\n    .wap-front .wap-form-body .dayselected span.avail{\n        color: "+t._s(t.hx_rgb(t.opts.colors.selected_day.text))+";\n    }\n\n    .wap-front .wsummary-section {\n        border-bottom: 1px solid "+t._s(t.hx_rgb(t.opts.colors.body.text,.1))+";\n    }\n    \n\n    .confirmation-summary span{\n        color: "+t._s(t.hx_rgb(t.opts.colors.body.text,.8))+";\n    }\n    .wtitle{\n        color: "+t._s(t.hx_rgb(t.opts.colors.body.text,.8))+";\n        font-size: 1em;\n        text-align:center;\n    }\n    .wdescription{\n        color: "+t._s(t.hx_rgb(t.opts.colors.body.text,.8))+";\n    }\n    \n\n    .wap-front .wbtn-cell{\n        border-radius: "+t._s(t.calendarRound)+"em;\n    }\n\n    .wap-front .form-control:focus {\n        box-shadow: 0 0 0 1px "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.25))+";\n    }\n    .wap-front .wselected{\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.5))+";\n        color: var(--wappo-pri-tx);\n    }\n\n    .wap-front [data-tt]:before {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.8))+";\n        color: var(--wappo-pri-tx);\n    }\n\n    .wap-front [data-tt]:after {\n        border-top: 5px solid "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.9))+";\n    }\n\n    .wap-front .phone-field:focus-within {\n        box-shadow: 0 0 2px  "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.25))+";\n        border-color: var(--wappo-pri-bg);\n    }\n    .wap-front .field-required input:focus, \n    .wap-front .field-required select:focus {\n        border-color: var(--wappo-pri-bg);\n        box-shadow: 0 0 2px "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.6))+";\n        outline: 2px solid transparent;\n    }\n    .wap-front .confirmation-cell .success {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.confirmation.bg))+";\n    }\n    \n\n    .wap-wid.wclosable > .wclose::before, \n    .wap-wid.wclosable > .wclose::after {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.header.text,.7))+";\n    }\n\n\n    /** wrapper tag **/\n    "+t._s("#"+t.wrapper)+" .wap-front, \n    #wap-footer-container .wap-front {\n        font-size: "+t._s(t.baseFontSize)+";\n    }\n    \n")])},[],!1,null,null,null);e.a=o.exports},"5yDa":function(t,e,n){var i=n("/vDO");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("2cd561ef",i,!0,{})},"6DDQ":function(t,e,n){"use strict";var i=n("D6xo");n.n(i).a},"6tnm":function(t,e,n){"use strict";var i=n("15Q4");n.n(i).a},"6uyd":function(t,e,n){"use strict";e.a=function(){return navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en-US"}},"76M+":function(t,e,n){"use strict";var i=n("xyeX"),s={computed:{getCacheSafeUrl:function(){var t=window.location.href;return(t+=-1===t.indexOf("?")?"?":"&")+"wappoCacheSafe="+Object(i.a)()}}},o=(n("6DDQ"),n("KHd+")),a=Object(o.a)(s,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wappo-error"},[e("strong",[this._v("Oops, can't load the booking module")]),this._v(" "),e("p",[this._v("Click "),e("a",{attrs:{href:this.getCacheSafeUrl}},[this._v("here to reload the page")]),this._v(" and try again")])])},[],!1,null,null,null);e.a=a.exports},"77/Y":function(t,e,n){var i=n("SGSy");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("144ec0c5",i,!0,{})},"8MlL":function(t,e,n){var i=n("gkNc");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("3252066f",i,!0,{})},"8dkp":function(t,e,n){"use strict";var i=n("0dk3");n.n(i).a},"9MH3":function(t,e,n){var i=n("FRc/");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("355b7d5b",i,!0,{})},"9cgI":function(t,e,n){"use strict";var i={mixins:[n("tOgP").a],props:["service","relations","options"],computed:{locations:function(){return this.service.locations}},methods:{selectLocation:function(t){this.triggersDemoEvent("selection")||this.$emit("locationSelected","BookingCalendar",{location:t})},hasDesc:function(t){return!(void 0===t.options||void 0===t.options.description_on||!t.options.description_on)&&t.options.description}}},s=n("KHd+"),o=Object(s.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.locations.length>0?n("div",[void 0!==t.options?n("div",{staticClass:"title wtitle"},[t._v(t._s(t.options.service_location.select_location))]):t._e(),t._v(" "),n("div",{staticClass:"d-flex flex-wrap"},t._l(t.locations,function(e,i){return n("div",{staticClass:"d-flex align-items-center wbtn wbtn-cell wbtn-service wbtn-secondary",on:{click:function(n){t.selectLocation(e)}}},[n("WapImage",{staticClass:"mx-2",attrs:{element:e,desc:e.name,size:"md"}}),t._v(" "),n("div",{staticClass:"service-label"},[n("div",[t._v(t._s(e.name))]),t._v(" "),t.hasDesc(e)?n("div",{staticClass:"description"},[t._v(t._s(t.hasDesc(e)))]):t._e()])],1)}),0)]):t._e()},[],!1,null,null,null);e.a=o.exports},A3rf:function(t,e,n){"use strict";var i=n("m5jI");n.n(i).a},Acyh:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'\n.large-version .wap-wid{\n    max-width: 420px;\n}\n.large-version .wap-wid.step-BookingCalendar{\n    max-width: 100%;\n    min-width: 100%;\n}\n.wap-wid{\n    max-width: 360px;\n}\n.br-fixed .wap-wid .wbtn-booking{\n  float:right;\n}\n.wap-wid .loader {\n    min-height: 68px;\n}\n.wap-front a.initial{\n  color:initial !important;\n}\n.wap-front .wbtn.wbtn-secondary.wbtn-cell{\n  border-radius: .5em;\n  margin: .4em 0;\n}\n.wap-front .wbtn {\n  display: inline-block;\n  font-weight: 400;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: middle;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  border: 1px solid transparent;\n  padding: 0.375em;\n  font-size: .8em;\n  line-height: 1.5;\n  border-radius: 0.25em;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  margin: 0;\n  background-color: transparent;\n  background: transparent;\n  height: auto;\n  text-transform: none;\n}\n.wap-front .wbtn-block{\n  width: 100%;\n}\n.wap-front .wbtn:hover, \n  .wap-front .wbtn:focus {\n    text-decoration: none;\n}\n.wap-front .wbtn:focus, \n  .wap-front .wbtn.focus {\n    outline: 0;\n}\n.wap-front .wbtn.wbtn-disabled, \n  .wap-front .wbtn:disabled {\n    opacity: 0.65;\n}\n.wap-front .wbtn:not(:disabled):not(.wbtn-disabled) {\n    cursor: pointer;\n}\n.wap-front .wbtn:not(:disabled):not(.wbtn-disabled):active, \n  .wap-front .wbtn:not(:disabled):not(.wbtn-disabled).active {\n    background-image: none;\n}\n.wap-front a.wbtn.wbtn-disabled,\n  .wap-front fieldset:disabled a.wbtn {\n    pointer-events: none;\n}\n.wap-front .d-flex {\n  display: -ms-flexbox !important;\n  display: flex !important;\n}\n.wap-front .d-flex.d-flex-inline{\n    display: inline-flex !important;\n}\n.wap-front .flex-wrap {\n    -ms-flex-wrap: wrap !important;\n    flex-wrap: wrap !important;\n}\n.wap-front .flex-fill{\n    -ms-flex: 1 1 auto !important;\n    flex: 1 1 auto !important;\n}\n.wap-front .justify-content-between {\n  -ms-flex-pack: justify !important;\n  justify-content: space-between !important;\n}\n.wap-front .justify-content-around {\n  -ms-flex-pack: distribute !important;\n  justify-content: space-around !important;\n}\n.wap-front .justify-content-center {\n    -webkit-box-pack: center !important;\n    -ms-flex-pack: center !important;\n    justify-content: center !important;\n}\n.wap-front .align-items-center {\n  -ms-flex-align: center !important;\n  align-items: center !important;\n}\n.wap-front .align-items-start {\n    -webkit-box-align: start !important;\n    -ms-flex-align: start !important;\n    align-items: flex-start !important;\n}\n.wap-front .align-content-around {\n  -ms-flex-line-pack: distribute !important;\n  align-content: space-around !important;\n}\n.wap-front .align-self-center {\n  -ms-flex-item-align: center !important;\n  align-self: center !important;\n}\n.wap-front .align-self-stretch {\n  -ms-flex-item-align: stretch !important;\n  align-self: stretch !important;\n}\n.wap-wid.wclosable > .wclose {\n    position: absolute;\n    z-index: 2;\n    right: .3em;\n    top: .3em;\n}\n.wap-front .wml-2{\n    margin-left:.4em;\n}\nhtml[dir=rtl] .wap-front .wml-2{\n  margin-right: .4em !important;\n  margin-left: 0 !important;\n}\n.wprice{\n  font-weight: bold;\n}\n.wap-front .text-center{\n    text-align: center;\n}\n.wap-front .text-sm{\n  font-size: .7em;\n}\n.wappo-popped{\n  overflow: hidden;\n  position: relative;\n}\n.wap-front.wdesk.br-fixed {\n  min-width: 360px;\n}\n.wap-front.br-fixed{\n    position: fixed;\n    right: 0;\n    bottom: 0;\n    margin: 1rem;\n    max-height: 95%;\n    min-width: 320px;\n}\n.wap-booking-fields {\n    text-align: left;\n    margin: .5em 0;\n}\nhtml[dir=rtl] .wap-front.br-fixed{\n    right: auto;\n    left: 0;\n}\nhtml[dir=rtl] .br-fixed .wap-wid .wbtn-booking {\n  float: left;\n}\nhtml[dir=rtl] .wap-booking-fields{\n    text-align: right;\n}\n.wap-booking-fields input,\n.wap-booking-fields textarea{\n  color: var(--wappo-body-tx) !important;\n}\n.wap-booking-fields .isInvalid input[type="text"], \n.wap-booking-fields .isInvalid input[type="email"], \n.wap-booking-fields .isInvalid input[type="url"], \n.wap-booking-fields .isInvalid input[type="tel"],\n.wap-booking-fields .isInvalid textarea{\n    border-right: 4px solid var(--wappo-error-tx) !important;\n}\n.wap-booking-fields .isValid input[type="text"], \n.wap-booking-fields .isValid input[type="email"], \n.wap-booking-fields .isValid input[type="url"], \n.wap-booking-fields .isValid input[type="tel"],\n.wap-booking-fields .isValid textarea{\n    border-right: 4px solid var(--wappo-valid-tx) !important;\n}\nhtml[dir=rtl] .wap-booking-fields .isInvalid input[type="text"], \nhtml[dir=rtl] .wap-booking-fields .isInvalid input[type="email"], \nhtml[dir=rtl] .wap-booking-fields .isInvalid input[type="url"], \nhtml[dir=rtl] .wap-booking-fields .isInvalid input[type="tel"],\nhtml[dir=rtl] .wap-booking-fields .isInvalid textarea{\n    border-left: 4px solid var(--wappo-error-tx) !important;\n    border-right:1px solid var(--wappo-input-bor) !important;\n}\nhtml[dir=rtl] .wap-booking-fields .isValid input[type="text"], \nhtml[dir=rtl] .wap-booking-fields .isValid input[type="email"], \nhtml[dir=rtl] .wap-booking-fields .isValid input[type="url"], \nhtml[dir=rtl] .wap-booking-fields .isValid input[type="tel"],\nhtml[dir=rtl] .wap-booking-fields .isValid textarea{\n    border-left: 4px solid var(--wappo-valid-tx) !important;\n    border-right:1px solid var(--wappo-input-bor) !important;\n}\n.wap-booking-fields .field-required label::after {\n    content:" *";\n    color:var(--wappo-error-tx);\n}\n.wap-front .wappointment-errors{\n    background-color:var(--wappo-error-tx);    \n    border-radius:.25em;\n    padding: .3em;\n    margin: .5em 0;\n}\n.wap-front div.wappointment-errors div{\n    color: var(--wappo-pri-tx);\n}\n.wap-front .wrap-calendar div.wappointment-errors{\n    color: var(--wappo-pri-tx);\n    font-size: .9em;\n}\n.phone-field-wrap .dpselect .selection::after,\n.phone-field-wrap strong{\n    color: #645a5a;\n}\n.wap-front.poppedup{\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  overflow-y: scroll;\n}\n.wap-front.poppedup .wappo_module{\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: 99;\n}\n.wap-front.poppedup .wappo_module .wap-wid{\n  width: 500px;\n  margin: 0 auto;\n  position: relative;\n  max-width:none;\n}\n.wap-front.poppedup .wap-bg{\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, .7);\n  top: 0;\n  z-index: 0;\n  overflow-y: scroll;\n  margin: 0 auto;\n}\n@media only screen and (max-width: 500px) {\n.wap-front.poppedup .wappo_module .wap-wid{\n    min-width:100%;\n}\n.wap-abs{\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    max-height: 95%;\n    overflow-y: scroll;\n}\n.wap-front.wexpanded .wap-bg\n  .wap-front.br-fixed .wap-bg,\n  .wap-front.wexpanded .wap-bg{\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    background-color: rgba(0, 0, 0, .7);\n    top: 0;\n    z-index: 0;\n    overflow-y: scroll;\n}\n.wap-front.br-fixed,\n  .wap-front.wexpanded{\n    width: 100%;\n    margin: 0;\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    overflow-y: scroll;\n}\n.wap-front.wexpanded{\n    z-index: 999999999;\n    height: 100%;\n}\n.wap-front.br-fixed .wbtn.wbtn-booking.wbtn-primary{\n    margin: 0;\n    width:100%;\n    border-radius: .2rem .2rem 0 0;\n}\n.wap-front.br-fixed .wap-bf,\n  .wap-front.br-fixed .wap-wid,\n  .wap-front.wmobile .wap-bf,\n  .wap-front.wmobile .wap-wid{\n    max-width: 100%;\n    position:relative;\n    z-index: 1;\n}\n.wap-front.wmobile .wap-bf,\n  .wap-front.wmobile .wap-wid{\n    width:100%;\n}\n.wap-front.wmobile .wap-wid.step-button{\n    width: auto;\n}\n}\n',""])},BDLL:function(t,e,n){"use strict";var i={mixins:[n("G0ds").a],props:["options","typeSelected","typesAllowed"],mounted:function(){this.selection=this.typeSelected},methods:{isSelected:function(t){return this[t+"Selected"]},selectType:function(t){this.selection=t,this.$emit("selectType",t)},allowedType:function(t){return-1!==this.typesAllowed.indexOf(t)},getTypeObject:function(t){switch(t){case"zoom":return{label:this.options.form.byzoom,icon:["fas","video"]};case"physical":return{label:this.options.form.inperson,icon:"map-marked-alt"};case"phone":return{label:this.options.form.byphone,icon:"phone"};case"skype":return{label:this.options.form.byskype,icon:["fab","skype"]}}}}},s=n("KHd+"),o=Object(s.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},t._l(t.typesAllowed,function(e){return n("div",{staticClass:"wbtn wbtn-secondary wbtn-cell mr-2",class:{selected:t.isSelected(e)},attrs:{role:"button"},on:{click:function(n){t.selectType(e)}}},[n("WapImage",{attrs:{faIcon:t.getTypeObject(e).icon,size:"md"}}),t._v(" "),n("div",[t._v(t._s(t.getTypeObject(e).label))])],1)}),0)},[],!1,null,null,null);e.a=o.exports},D6xo:function(t,e,n){var i=n("X8YZ");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("0732dd64",i,!0,{})},Dla0:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n#calendar .calendar-settings{\n    position: absolute;\n    z-index: 2;\n    background-color: #f2f2f2;\n    border-radius: .5rem;\n    top: -10px;\n    box-shadow:0px 4px 10px -10px rgba(0,0,0,.9);\n}\n.dash-h3{\n    font-size: 2rem;\n    width: 32px;\n    height: 32px;\n}\n.calendar-settings .dropdown-menu.show{\n    overflow: scroll;\n    max-height: 300px;\n}\n.calendar-settings .dropdown-item {\n    padding: .1rem .4rem;\n    font-size: .8em;\n}\n",""])},FPjh:function(t,e,n){"use strict";n.r(e);var i=n("ibrO"),s=n("XfSa"),o=n("l9VS"),a={props:["title","menus"],data:function(){return{active:!0,nextTick:!1,completed:!1}},mounted:function(){this.nextTick=!0},methods:{onClick:function(t){this.$router.push({name:t})},getClass:function(t){return void 0!==t.class?t.class:""}},computed:{getStyle:function(){var t="",e="sidemenu-"+this.title;return this.nextTick=this.nextTick,void 0!==this.$refs[e]&&(t=this.active?"":"margin-bottom: -"+this.$refs[e].clientHeight+"px;"),t}}},r=(n("wDLf"),n("KHd+")),c=Object(r.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block-menu",class:{active:t.active,inactive:!t.active}},[n("div",{staticClass:"d-flex justify-content-between expand",on:{click:function(e){t.active=!t.active}}},[n("h2",[t.completed?n("span",{staticClass:"dashicons dashicons-yes text-success"}):t._e(),t._v(" "+t._s(t.title))]),t._v(" "),n("span",{staticClass:"dashicons arrow-flip align-self-center",class:[t.active?"dashicons-arrow-down-alt2":"dashicons-arrow-up-alt2"]})]),t._v(" "),n("ul",{ref:"sidemenu-"+t.title,style:t.getStyle},t._l(t.menus,function(e){return n("li",{staticClass:"m-0",class:t.getClass(e)},[n("button",{staticClass:"btn btn-sm btn-light btn-block",on:{click:function(n){t.onClick(e.route)}}},[t.getClass(e)?n("span",{staticClass:"dashicons dashicons-yes text-success"}):n("span",{staticClass:"dashicons dashicons-minus"}),t._v("\n            "+t._s(e.name)+"\n            ")])])}),0)])},[],!1,null,null,null).exports,l={extends:c,props:["progress"],created:function(){for(var t=0;t<this.menus.length;t++){this.menus[t];t<parseInt(this.progress)-1&&(this.menus[t].class="crossed")}this.progress>this.menus.length&&(this.completed=!0,this.active=!1)}},d={components:{BlockMenu:c,WizardMenu:Object(r.a)(l,void 0,void 0,!1,null,null,null).exports},props:["progressWizard"],data:function(){return{active:!0,wizardMenu:[{name:"Weekly availability",route:"wizard2"},{name:"Service setup",route:"wizard3"},{name:"Booking widget",route:"wizard4"}]}},computed:{initialSetupPending:function(){return this.progressWizard<4},hasMenus:function(){return this.initialSetupPending}}},u=(n("izdF"),Object(r.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasMenus?n("nav",{class:[t.active?"expanded":"collapsed"],attrs:{id:"sidebar"}},[n("div",{staticClass:"d-flex"},[n("div",{staticClass:"collapsebtn",on:{click:function(e){t.active=!t.active}}},[n("span",{staticClass:"dashicons",class:[t.active?"dashicons-arrow-left-alt2":"dashicons-arrow-right-alt2"]})]),t._v(" "),n("div",{staticClass:"items"},[t.initialSetupPending?n("WizardMenu",{attrs:{title:"Initial setup",menus:t.wizardMenu,progress:t.progressWizard}}):t._e()],1)])]):t._e()},[],!1,null,null,null).exports),p=n("3Am6"),h=n("iOEq"),f=n("p8AH"),v=n("Gbwi"),m=n("A5Wa"),g=n("SZB9"),b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var w=m.a,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.offsetForArray=function(t){return w.tz(t,this.timeZoneName).utcOffset()},e.prototype.timestampToArray=function(t){return w.tz(t,this.timeZoneName).toArray()},e}(g.n),y=(Object(g.T)({namedTimeZonedImpl:_}),n("6uyd")),x=m.a;function k(t){return function(e){return e?t.format(e):""}}function S(t,e,n,i){var s;return"local"===e?s=x(t):"UTC"===e?s=x.utc(t):x.tz?s=x.tz(t,e):(s=x.utc(t),null!=n&&s.utcOffset(n)),s.locale(Object(y.a)().substr(0,2)),s}Object(g.T)({cmdFormatter:function(t,e){var n=function t(e){var n=e.match(/^(.*?)\{(.*)\}(.*)$/);if(n){var i=t(n[2]);return{head:n[1],middle:i,tail:n[3],whole:n[1]+i.whole+n[3]}}return{head:null,middle:null,tail:null,whole:e}}(t);if(e.end){var i=S(e.start.array,e.timeZone,e.start.timeZoneOffset,e.localeCodes[0]),s=S(e.end.array,e.timeZone,e.end.timeZoneOffset,e.localeCodes[0]);return function t(e,n,i,s){if(e.middle){var o=n(e.head),a=t(e.middle,n,i,s),r=n(e.tail),c=i(e.head),l=t(e.middle,n,i,s),d=i(e.tail);if(o===c&&r===d)return o+(a===l?a:a+s+l)+r}var u=n(e.whole),p=i(e.whole);return u===p?u:u+s+p}(n,k(i),k(s),e.separator)}return S(e.date.array,e.timeZone,e.date.timeZoneOffset,e.localeCodes[0]).format(n.whole)}});var C=n("0EV1"),D={components:{FullCalendar:p.a},data:function(){return{calendarPlugins:[h.d,f.a,v.a,C.a],configPrepared:{},eventsPrepared:{},isReady:!1,calendarAPI:void 0}},props:{config:{type:Object,default:function(){return{}}}},computed:{getApi:function(){return this.calendarAPI}},created:function(){this.configPrepared=this.config.props,this.configPrepared.plugins=this.calendarPlugins,this.eventsPrepared=this.config.events},mounted:function(){this.calendarAPI=this.$refs.calendarcore.getApi(),this.isReady=!0,this.$emit("isReady")},methods:{apiReady:function(){return void 0!==this.calendarAPI},next:function(t){var e=t.clone().add(1,"days");return 28===t.get("date")&&9===t.get("month")&&e.add(1,"hours"),this.getApi.gotoDate(e.format()),this.getApi.refetchEvents(),e},prev:function(t){var e=t.clone().subtract(7,"days");return this.getApi.gotoDate(e.format()),this.getApi.refetchEvents(),e},refresh:function(){this.getApi.refetchEvents()},fireMethod:function(){this.apiReady();for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return-1!==e.indexOf("today")?this.getApi.today():-1!==e.indexOf("next")?this.getApi.gotodate():-1!==e.indexOf("prev")?this.getApi.prev():-1!==e.indexOf("getDate")?this.getApi.getDate():-1!==e.indexOf("refetchEvents")?this.getApi.refetchEvents():-1!==e.indexOf("unselect")?this.getApi.unselect():void 0},option:function(t,e){return this.apiReady(),this.getApi.setOption(t,e)}}},P=Object(r.a)(D,function(){var t=this.$createElement;return(this._self._c||t)("FullCalendar",this._g(this._b({ref:"calendarcore"},"FullCalendar",this.configPrepared,!1),this.eventsPrepared))},[],!1,null,null,null).exports,E=n("sHVe"),O=n("ExVU").DateTime,T=n("y43P"),A={props:{viewData:{type:Object},title:{type:String,default:"Booking Page"}},data:function(){return{showCreateBookingPage:!1}},components:{CreateBookingPage:T.a},computed:{hasBookingPage:function(){return 0!==this.viewData.booking_page_id&&!1!==this.viewData.booking_page_url}},methods:{savedPage:function(t){this.showCreateBookingPage=!1,this.$emit("saved",t)}}},I=Object(r.a)(A,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card d-flex flex-row justify-content-between"},[n("div",{staticClass:"h5 my-1 d-flex align-items-center"},[n("span",{staticClass:"dashicons mr-1",class:[t.hasBookingPage?"dashicons-text-page text-success":"dashicons-dismiss text-danger"]}),t._v(" "),n("span",[t._v(t._s(t.title))])]),t._v(" "),t.hasBookingPage?n("div",[n("a",{staticClass:"btn btn-link btn-xs",attrs:{href:t.viewData.booking_page_url,target:"_blank"}},[t._v("View")]),t._v(" |\n        "),n("a",{staticClass:"btn btn-link btn-xs",attrs:{href:"post.php?post="+t.viewData.booking_page_id+"&action=edit",target:"_blank"}},[t._v("Edit")])]):n("div",[n("span",{staticClass:"mr-2",class:{"text-danger":0===t.viewData.booking_page_id}},[t._v("You don't have a booking page yet")]),t._v(" "),n("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.showCreateBookingPage=!0}}},[t._v("Create one")])]),t._v(" "),t.showCreateBookingPage?n("WapModal",{attrs:{large:"",show:t.showCreateBookingPage},on:{hide:function(e){t.showCreateBookingPage=!1}}},[n("h4",{staticClass:"modal-title",attrs:{slot:"title"},slot:"title"},[t._v("Create a booking page")]),t._v(" "),n("CreateBookingPage",{attrs:{widgetDefault:t.viewData.widget,save:!0},on:{saved:t.savedPage}})],1):t._e()],1)},[],!1,null,null,null).exports,z=n("IXoI");var B,j,M={extends:s.a,props:["passviewData","selectedDuration","passshowWelcomePopup","totalSlots"],components:{BookingPageButton:I,InputPh:window.wappoGet("InputPh")},data:function(){return{showWelcomePopup:!1,serviceWappointment:null}},created:function(){this.serviceWappointment=this.$vueService(new z.a),this.showWelcomePopup=this.passshowWelcomePopup},computed:{getInstalledImg:function(){return window.apiWappointment.apiSite+"/plugin/"+window.apiWappointment.version+"/installed.gif"}},methods:{hideWelcome:function(){this.sendIgnore()},sendIgnore:function(){this.request(this.sendIgnoreRequest,!1,void 0,!1,this.closeAndRefreshWelcome)},sendIgnoreRequest:(B=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceWappointment.call("sendignore");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}),j=function(){var t=B.apply(this,arguments);return new Promise(function(e,n){return function i(s,o){try{var a=t[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});e(r)}("next")})},function(){return j.apply(this,arguments)}),closeAndRefreshWelcome:function(t){this.showWelcomePopup=!1,this.$emit("refreshEvents")}}},R=(n("hu2d"),Object(r.a)(M,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("WapModal",{attrs:{show:t.showWelcomePopup},on:{hide:t.hideWelcome}},[n("h1",{staticClass:"modal-title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.get_i18n("wizard_5_title","wizard")))]),t._v(" "),n("div",[n("div",{staticClass:"mt-4 p-3 text-center"},[n("h2",[t._v(t._s(t.get_i18n("wizard_5_welcome","wizard")))]),t._v(" "),n("div",{staticClass:"d-flex"},[n("img",{staticClass:"mb-3 rounded img-fluid mr-4",attrs:{src:t.getInstalledImg,alt:"See how your calendar works"}}),t._v(" "),n("div",{staticClass:"sm-box align-self-start text-left text-muted rounded bg-light p-2 pl-5"},[n("p",{staticClass:"h6"},[t._v(t._s(t.get_i18n("wizard_5_tips","wizard")))]),t._v(" "),n("ol",{staticClass:"ml-0 my-3"},[n("li",[t._v(t._s(t.get_i18n("wizard_5_tip1","wizard")))]),t._v(" "),n("li",[t._v(t._s(t.get_i18n("wizard_5_tip2","wizard")))]),t._v(" "),n("li",[t._v(t._s(t.get_i18n("wizard_5_tip3","wizard")))]),t._v(" "),n("li",[t._v(t._s(t.get_i18n("wizard_5_tip4","wizard")))])])])])])])])},[],!1,null,null,null).exports),F={props:["disabled","classIcon","title","subtitle"]},H=(n("Qhnu"),Object(r.a)(F,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn btn-secondary mr-md-2 align-items-center",class:{fdisabled:t.disabled},on:{click:function(e){t.$emit("click")}}},[n("div",{staticClass:"dashicons",class:t.classIcon}),t._v(" "),n("div",{staticClass:"text-center"},[n("p",{staticClass:"h6 m-0"},[t._v(t._s(t.title))]),t._v(" "),n("p",{staticClass:"small m-0"},[t._v(t._s(t.subtitle))])])])},[],!1,null,null,null).exports),L={props:["service","preselect"],data:function(){return{selection:!1}},mixins:[n("G0ds").a],components:{FaIcon:function(){return Promise.all([n.e(3),n.e(29),n.e(10)]).then(n.bind(null,"4LlT"))}},mounted:function(){1==this.service.type.length&&this.selectType(this.service.type[0]),this.preselect&&this.selectType(this.preselect)},computed:{serviceHasTypes:function(){return void 0!==this.service&&this.service.type.length>1}},methods:{allowedType:function(t){return void 0!==this.service&&-1!==this.service.type.indexOf(t)},selectType:function(t){this.selection=t,this.$emit("selected",t)}}},W=Object(r.a)(L,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.serviceHasTypes?n("div",{staticClass:"d-flex mb-4"},[t.allowedType("zoom")?n("div",{staticClass:"btn btn-secondary btn-cell",class:{selected:t.zoomSelected},attrs:{role:"button"},on:{click:function(e){t.selectType("zoom")}}},[n("span",{staticClass:"dashicons",class:[t.zoomSelected?"dashicons-yes-alt text-primary":"dashicons-marker"]}),t._v(" "),n("FaIcon",{attrs:{icon:"video",size:"lg"}}),t._v(" "),n("div",[t._v("Video meeting")]),t._v(" "),n("div",{staticClass:"small"},[t._v("(Zoom, Google meet, ...)")])],1):t._e(),t._v(" "),t.allowedType("physical")?n("div",{staticClass:"btn btn-secondary btn-cell",class:{selected:t.physicalSelected},attrs:{role:"button"},on:{click:function(e){t.selectType("physical")}}},[n("span",{staticClass:"dashicons",class:[t.physicalSelected?"dashicons-yes-alt text-primary":"dashicons-marker"]}),t._v(" "),n("FaIcon",{attrs:{icon:"map-marked-alt",size:"lg"}}),t._v(" "),n("div",[t._v("At an address")])],1):t._e(),t._v(" "),t.allowedType("phone")?n("div",{staticClass:"btn btn-secondary btn-cell",class:{selected:t.phoneSelected},attrs:{role:"button"},on:{click:function(e){t.selectType("phone")}}},[n("span",{staticClass:"dashicons",class:[t.phoneSelected?"dashicons-yes-alt text-primary":"dashicons-marker"]}),t._v(" "),n("FaIcon",{attrs:{icon:"phone",size:"lg"}}),t._v(" "),n("div",[t._v("By phone")])],1):t._e(),t._v(" "),t.allowedType("skype")?n("div",{staticClass:"btn btn-secondary btn-cell",class:{selected:t.skypeSelected},attrs:{role:"button"},on:{click:function(e){t.selectType("skype")}}},[n("span",{staticClass:"dashicons",class:[t.skypeSelected?"dashicons-yes-alt text-primary":"dashicons-marker"]}),t._v(" "),n("FaIcon",{attrs:{icon:["fab","skype"],size:"lg"}}),t._v(" "),n("div",[t._v("By skype")])],1):t._e()]):t._e()},[],!1,null,null,null).exports,$=n("I/71"),q=n("FYyN"),V=n("7dWI"),N=n("bx2X"),Q=n("/fjS"),Z=n("l8GO"),G=n("5qZH"),U=n("kGR+"),K=n("gsSy"),Y=n("9cgI"),X=n("xa6k");function J(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(s,o){try{var a=e[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})}}var tt,et,nt={props:["viewData","startTime","endTime","realEndTime","activeStaff"],mixins:window.wappointmentExtends.filter("WappointmentBehalfBookingMixins",[q.a]),components:{AppointmentTypeSelection:W,PhoneInput:Q.a,FormInputs:Z.a,StyleGenerator:G.a,ServiceSelection:U.a,DurationSelection:K.a,LocationSelection:Y.a},data:function(){return{clientSearching:!1,clientsResults:[],bookingForm:{email:"",phone:"",skype:"",name:""},clientSelected:!1,clientid:!1,serviceClient:null,showDropdown:!1,selectedAppointmentType:!1,phoneValid:!1,errorsOnFields:{},prevEmail:"",service:!1,duration:!1,durationSelectedFC:!1,location:!1,services:[],serviceBooking:null,endTimeParam:!1,requiresClient:!0}},created:function(){this.serviceClient=this.$vueService(new $.a),this.bookingForm={email:""},this.serviceBooking=this.$vueService(new X.a),this.services=this.activeStaff.services,this.hasMoreThanOneService||this.serviceSelected("ignore",{service:this.services[0]}),this.durationSelectedFC=(this.realEndTime.unix()-this.startTime.unix())/60},watch:{bookingForm:{handler:function(t){this.changedFormValue(t)},deep:!0}},computed:{serviceHasIcon:function(){return""!=this.service.options.icon},locationHasIcon:function(){return""!=this.location.options.icon},isToday:function(){return void 0!==this.firstDay&&void 0!==this.lastDay&&this.firstDay.unix()<momenttz().unix()&&this.lastDay.unix()>momenttz().unix()},preferredCountries:function(){return this.viewData.preferredCountries},skypeValid:function(){return/^[a-zA-Z][a-zA-Z0-9.\-_]{5,31}$/.test(this.bookingForm.skype)},phoneSelected:function(){return"phone"==this.selectedAppointmentType},skypeSelected:function(){return"skype"==this.selectedAppointmentType},hasMoreThanOneService:function(){return this.services.length>1},hasMoreThanOneDuration:function(){return this.service&&this.service.options.durations.length>1},hasMoreThanOneLocation:function(){return this.service&&void 0!==this.service.locations&&this.service.locations.length>1},allSelected:function(){return this.service&&this.duration&&this.location},readyToBook:function(){return this.allSelected&&(!1===this.requiresClient||void 0!==this.bookingForm.clientid&&-1===[!1,void 0].indexOf(this.bookingForm.clientid)||Object.keys(this.errorsOnFields).length<1&&this.isEmail(this.bookingForm.email))},formHasErrors:function(){return Object.keys(this.errorsOnFields).length>0},hasErrorEmail:function(){return-1===[void 0,!1].indexOf(this.errorsOnFields.email)}},methods:{isEmail:function(t){return Object(V.a)(t)},changedFormValue:function(t){this.errorsOnFields={},void 0!==t.email&&t.email.length>4&&-1!==t.email.indexOf("@")&&this.prevEmail!=t.email&&(this.searchClient(t.email),this.prevEmail=t.email),void 0!==t.name&&Object(N.a)(t.name)&&(this.errorsOnFields.name=!0),(void 0!==t.email&&Object(N.a)(t.email)||!Object(V.a)(t.email))&&(this.errorsOnFields.email=!0),void 0===t.phone||!this.phoneSelected||!Object(N.a)(t.phone)&&this.phoneValid||(this.errorsOnFields.phone=!0),void 0===t.skype||!this.skypeSelected||!Object(N.a)(t.skype)&&this.skypeValid||(this.errorsOnFields.skype=!0)},canShowDropdown:function(){this.clientsResults.length>0&&(this.showDropdown=!0)},clearDropdownDelay:function(){setTimeout(this.clearDropDown,100)},clearDropDown:function(){this.showDropdown=!1},onInput:function(t){var e=t.number,n=t.isValid;t.country;this.bookingForm.phone=e,this.phoneValid=n},selectingAppointmentType:function(t){this.bookingForm.type=t,this.selectedAppointmentType=t,this.changedFormValue(this.bookingForm)},clearClientSelection:function(){this.bookingForm.clientid=!1,this.clientSelected=!1},searchClient:function(){this.clientSearching||(this.clientSearching=!0,this.showDropdown=!0,this.clientsResults=[],this.searchClientRequest(this.bookingForm.email).then(function(t){return this.clientsFound(t)}.bind(this),function(t){return this.clientsError(t)}.bind(this)))},searchClientRequest:(et=J(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceClient.call("search",{email:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(t){return et.apply(this,arguments)}),clientsFound:function(t){this.clientSearching=!1,void 0!==t.data&&t.data.length>0&&(this.clientsResults=t.data)},clientsError:function(){this.clientSearching=!1},refreshEvents:function(){this.$emit("confirmed")},getFieldLabel:function(t){var e=!0,n=!1,i=void 0;try{for(var s,o=this.viewData.custom_fields[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var a=s.value;if(a.namekey==t)return a.name}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}},hasError:function(t){return-1===[void 0,!1].indexOf(this.errorsOnFields[t])?"isInvalid":"isValid"},backToOriginalDuration:function(){this.setDuration(this.durationSelectedFC)},realSlotDuration:function(t){return parseInt(t)+parseInt(this.viewData.buffer_time)},setDuration:function(t){if(!1===t)this.duration=!1;else{var e=this.startTime.clone();e.add(this.realSlotDuration(t),"minutes"),this.$emit("updateEndTime",e),this.endTimeParam=e,this.duration=t}},selectClient:function(t){this.bookingForm.clientid=t.id,this.clientSelected=t,this.bookingForm.email="",this.showDropDown=!1},changedBF:function(t,e){this.bookingForm=t,this.errorsOnFields=e},changeService:function(){this.hasMoreThanOneService&&(this.service=!1,this.changeDuration(),this.changeLocation())},changeLocation:function(){this.location=!this.hasMoreThanOneLocation&&!1!==this.service&&this.service.locations[0]},changeDuration:function(){this.duration=!1},durationSelected:function(t,e){this.setDuration(e.duration)},locationSelected:function(t,e){this.location=e.location},serviceSelected:function(t,e){this.service=e.service,this.duration=!1,void 0!==e.duration&&(this.duration=this.setDuration(e.duration)),this.changeLocation(),void 0!==this.serviceSelectedExtended&&this.serviceSelectedExtended()},confirmNewBookingRequest:function(){this.readyToBook&&this.request(this.bookingRequest,{start:this.startTime,end:this.endTime},void 0,!1,this.refreshEvents)},bookingRequest:(tt=J(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceBooking.call("bookadmin",Object.assign({start:e.start.unix(),end:this.endTimeParam.unix(),ctz:this.activeStaff.options.timezone,service:this.service.id,location:this.location.id,duration:this.duration,staff_id:void 0!==this.activeStaff.id?this.activeStaff.id:null},this.bookingForm));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(t){return tt.apply(this,arguments)})}},it=(n("VjjH"),Object(r.a)(nt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"wrapperAdmin"}},[n("StyleGenerator",{attrs:{options:t.viewData.widget,wrapper:"wrapperAdmin"}}),t._v(" "),n("div",{staticClass:"mb-2"},[n("h3",[t._v("Book an appointment for your client")]),t._v(" "),t.service?n("div",{staticClass:"selected-service d-flex"},[n("span",{staticClass:"d-flex align-items-center",class:[t.hasMoreThanOneService?"wbtn wbtn-cell wbtn-secondary wbtn-service":"wbtn wbtn-cell btn-outline-secondary disabled text-muted"],attrs:{"data-tt":"Change service"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.changeService(e)}}},[t.serviceHasIcon?n("WapImage",{attrs:{element:t.service,desc:t.service.name,size:"md"}}):t._e(),t._v(" "),n("span",{staticClass:"ml-2"},[t._v(t._s(t.service.name))])],1),t._v(" "),t.duration?n("span",{staticClass:" d-flex align-items-center wbtn wbtn-cell wbtn-secondary wbtn-service",attrs:{"data-tt":!!t.hasMoreThanOneDuration&&"Change duration"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.changeDuration(e)}}},[t._v("\n                "+t._s(t.duration)+"min\n            ")]):t._e(),t._v(" "),t.location?n("span",{staticClass:"d-flex align-items-center",class:[t.hasMoreThanOneLocation?"wbtn wbtn-cell wbtn-secondary wbtn-service":"wbtn wbtn-cell btn-outline-secondary disabled text-muted"],attrs:{"data-tt":!!t.hasMoreThanOneLocation&&"Change location"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.changeLocation(e)}}},[n("WapImage",{attrs:{element:t.location,desc:t.location.name,size:"md"}}),t._v(" "),n("span",{staticClass:"ml-2"},[t._v(t._s(t.location.name))])],1):t._e()]):t._e(),t._v(" "),!t.service&&t.hasMoreThanOneService?n("div",[n("ServiceSelection",{attrs:{options:t.viewData.widget,services:t.services,admin:!0},on:{serviceSelected:t.serviceSelected}})],1):t._e(),t._v(" "),t.service&&!t.duration?n("div",{staticClass:"p-2"},[n("DurationSelection",{attrs:{service:t.service,options:t.viewData.widget},on:{durationSelected:t.durationSelected}}),t._v(" "),n("div",[t._v("\n                Your calendar selection : \n                "),t.duration!==t.durationSelectedFC?n("span",{staticClass:"text-primary",attrs:{"data-tt":"Change duration"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.backToOriginalDuration(e)}}},[t._v(t._s(t.durationSelectedFC)+"min")]):t._e()])],1):t._e(),t._v(" "),t.service&&t.duration&&!t.location?n("div",{staticClass:"p-2"},[t.hasMoreThanOneLocation?n("LocationSelection",{attrs:{service:t.service,options:t.viewData.widget},on:{locationSelected:t.locationSelected}}):t._e()],1):t._e(),t._v(" "),t.allSelected?n("div",[t.requiresClient?n("div",[t.clientSelected?n("div",[n("div",{staticClass:"d-flex align-items-center"},[n("div",{staticClass:"mr-2"},[n("img",{staticClass:"rounded-circle",attrs:{src:t.clientSelected.avatar,title:t.clientSelected.name}})]),t._v(" "),n("div",[n("h6",{staticClass:"m-0"},[t._v(t._s(t.clientSelected.name))]),t._v(" "),n("small",[t._v(t._s(t.clientSelected.email))])])]),t._v(" "),n("a",{staticClass:"text-primary",attrs:{href:"javascript:;"},on:{click:t.clearClientSelection}},[t._v("Change client")])]):n("div",[n("div",{staticClass:"mb-3"},[n("div",[n("div",{staticClass:"field-required ddd ",class:t.hasError("email")},[n("label",{attrs:{for:"bookingemail"}},[t._v("Email:")]),t._v(" "),n("p",{staticClass:"d-flex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.bookingForm.email,expression:"bookingForm.email"}],staticClass:"form-control",attrs:{id:"bookingemail",type:"text",required:"required"},domProps:{value:t.bookingForm.email},on:{focus:t.canShowDropdown,blur:t.clearDropdownDelay,input:function(e){e.target.composing||t.$set(t.bookingForm,"email",e.target.value)}}})])])]),t._v(" "),n("div",[t.showDropdown?n("div",{staticClass:"dd-search-results"},[t.clientsResults.length>0?n("div",t._l(t.clientsResults,function(e){return n("div",{staticClass:"btn btn-light d-flex align-items-center",on:{click:function(n){t.selectClient(e)}}},[n("div",{staticClass:"mr-2"},[n("img",{staticClass:"rounded-circle",attrs:{src:e.avatar,title:e.name}})]),t._v(" "),n("div",[n("h6",{staticClass:"m-0 text-left"},[t._v(t._s(e.name))]),t._v(" "),n("small",[t._v(t._s(e.email))])])])}),0):t._e(),t._v(" "),t.clientSearching?n("div",[t._v("\n                                    Loading ...\n                                ")]):t._e()]):t._e()])]),t._v(" "),n("div",{class:[t.hasErrorEmail?"hide-cf":""]},[n("FieldsGenerated",{attrs:{disabledEmail:!0,custom_fields:t.viewData.custom_fields,service:t.service,location:t.location,data:t.bookingForm,options:t.viewData.widget},on:{changed:t.changedBF}}),t._v(" "),t.formHasErrors?n("div",{staticClass:"error"},t._l(t.errorsOnFields,function(e,i){return n("div",[t._v("\n                                "+t._s(t.getFieldLabel(i))+" : "+t._s(e)+"\n                            ")])}),0):t._e()],1)])]):t._e()]):t._e()]),t._v(" "),n("div",[n("button",{staticClass:"btn btn-secondary btn-lg",attrs:{type:"button"},on:{click:function(e){t.$emit("cancelled")}}},[t._v("Cancel")]),t._v(" "),n("button",{staticClass:"btn btn-primary btn-lg",class:{disabled:!t.readyToBook},attrs:{type:"button"},on:{click:t.confirmNewBookingRequest}},[t._v("Confirm Booking")])])],1)},[],!1,null,null,null).exports),st=n("5oH9"),ot=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var at=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,st["a"]),ot(e,[{key:"endpoints",value:function(){return{save:{method:"post",route:"status"},delete:{method:"delete",route:"status"}}}}]),e}();var rt={props:["startTime","endTime","timezone","viewData","activeStaff"],mixins:[q.a],data:function(){return{serviceStatus:null,services:[],locations:[]}},created:function(){this.serviceStatus=this.$vueService(new at),this.services=this.activeStaff.services,this.locations=this.getLocations()},methods:{getLocations:function(){for(var t=[],e=0;e<this.services.length;e++)for(var n=this.services[e].locations,i=function(e){var i=n[e];t.find(function(t){return t.id==i.id})||t.push(i)},s=0;s<n.length;s++)i(s);return t},confirmRequest:function(){this.request(this.setRequest,{},void 0,!1,this.statusSaved)},statusSaved:function(){this.$emit("confirmed")},setRequest:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(s,o){try{var a=e[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})}}(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceStatus.call("save",{start:this.startTime.unix(),end:this.endTime.unix(),timezone:this.timezone,type:"free",staff_id:void 0!==this.activeStaff.id?this.activeStaff.id:null});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},ct=Object(r.a)(rt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h5",[t._v(t._s(t.get_i18n("confirm_free","calendar")))]),t._v(" "),n("button",{staticClass:"btn btn-secondary btn-lg",attrs:{type:"button"},on:{click:function(e){t.$emit("cancelled")}}},[t._v(t._s(t.get_i18n("cancel","common")))]),t._v(" "),n("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"button"},on:{click:t.confirmRequest}},[t._v(t._s(t.get_i18n("confirm","common")))])])},[],!1,null,null,null).exports;var lt={extends:ct,methods:{setRequest:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(s,o){try{var a=e[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})}}(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceStatus.call("save",{start:this.startTime.unix(),end:this.endTime.unix(),timezone:this.timezone,type:"busy",staff_id:void 0!==this.activeStaff.id?this.activeStaff.id:null});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},dt=Object(r.a)(lt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h5",[t._v(t._s(t.get_i18n("really_cancel","calendar")))]),t._v(" "),n("button",{staticClass:"btn btn-secondary btn-lg",attrs:{type:"button"},on:{click:function(e){t.$emit("cancelled")}}},[t._v(t._s(t.get_i18n("cancel","common")))]),t._v(" "),n("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"button"},on:{click:t.confirmRequest}},[t._v(t._s(t.get_i18n("confirm","common")))])])},[],!1,null,null,null).exports,ut=window.wappointmentExtends.filter("BackendCalendarComponents",{BehalfBooking:it,StatusFreeConfirm:ct,StatusBusyConfirm:dt,ButtonPopup:H}),pt={props:["displayTimezone","activeStaff","startTime","endTime","realEndTime","viewData","getThisWeekIntervals","momenttz","startTimeLuxon","endTimeLuxon"],mixins:window.wappointmentExtends.filter("PopupActionsMixin",[]),components:ut,data:function(){return{activeCompName:!1,componentsList:null}},created:function(){this.setComponentList()},computed:{buttons:function(){return this.viewData.buttons},startTimeDisplay:function(){return this.startTimeLuxon.toLocaleString({hour:"numeric",minute:"2-digit"})},endTimeDisplay:function(){return this.endTimeLuxon.toLocaleString({hour:"numeric",minute:"2-digit"})},shortStDayDisplay:function(){return this.startTime.format(this.shortDayFormat+" "+this.viewData.time_format)},shortEdDayDisplay:function(){return this.endTime.format(this.shortDayFormat+" "+this.viewData.time_format)},startDayDisplay:function(){return this.startTimeLuxon.toLocaleString({year:"numeric",month:"long",day:"numeric"})},activeComp:function(){var t=this.activeCompName;return this.componentsList.find(function(e){return e.name==t})},selectionSingleDay:function(){return this.startTime.day()===this.endTime.day()&&this.startTime.month()===this.endTime.month()&&this.startTime.year()===this.endTime.year()},isAvailable:function(){return this.hasOpenedSlots&&this.selectionWithinInterval},selectionWithinInterval:function(){if(this.hasOpenedSlots){var t=!0,e=!1,n=void 0;try{for(var i,s=this.getThisWeekIntervals.intervals[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value;if(this.selectIsWithin(o))return!0}}catch(t){e=!0,n=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw n}}}return!1},selectionXInterval:function(){if(this.hasOpenedSlots){var t=!0,e=!1,n=void 0;try{for(var i,s=this.getThisWeekIntervals.intervals[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value;if(this.selectionTouchesInterval(o))return!0}}catch(t){e=!0,n=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw n}}}return!1},canBook:function(){return this.selectionSingleDay},canFree:function(){return this.selectionSingleDay&&!this.isAvailable},canBusy:function(){return this.hasOpenedSlots&&this.selectionXInterval},hasOpenedSlots:function(){return 0!==this.getThisWeekIntervals}},methods:{confirmButtonClick:function(t){this.isButtonEnabled(t.key)&&(this.activeCompName=t.component)},isButtonEnabled:function(t){return this["can"+this.ucFirst(t)]},setComponentList:function(){var t={props:{startTime:this.startTime,endTime:this.endTime,realEndTime:this.realEndTime,timezone:this.displayTimezone,activeStaff:this.activeStaff,viewData:this.viewData},listeners:{confirmed:this.confirmedStatus,cancelled:this.hideModal,updateEndTime:this.updateEndTime}};this.componentsList=this.buttons.map(function(e){return Object.assign({name:e.component},t)})},updateEndTime:function(t){this.endTime=t},formatTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!1===e&&(e=this.viewData.time_format),t.format(e)},selectionTouchesInterval:function(t){return this.selectWraps(t)||this.selectIntersectsLeft(t)||this.selectIntersectsRight(t)||this.selectIsWithin(t)},selectIsWithin:function(t){var e=this.momenttz.tz(this.startTime.format(),this.timezone),n=this.momenttz.tz(this.endTime.format(),this.timezone);return e.unix()>=t.start&&n.unix()<=t.end},selectWraps:function(t){var e=this.momenttz.tz(this.startTime.format(),this.timezone),n=this.momenttz.tz(this.endTime.format(),this.timezone);return e.unix()<=t.start&&n.unix()>=t.end},selectIntersectsLeft:function(t){return this.startTime.unix()<t.start&&this.endTime.unix()>t.start&&this.endTime.unix()<=t.end},selectIntersectsRight:function(t){return this.startTime.unix()>=t.start&&this.startTime.unix()<t.end&&this.endTime.unix()>t.end},hideModal:function(){this.$emit("hide")},confirmedStatus:function(){this.hideModal(),this.$emit("refreshEvents")}}},ht=Object(r.a)(pt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("WapModal",{attrs:{show:!0,noscroll:""},on:{hide:t.hideModal}},[n("h4",{staticClass:"modal-title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.get_i18n("calendar_popup","calendar")))]),t._v(" "),t.selectionSingleDay?n("h3",{staticClass:"mb-4"},[t._v(" "+t._s(t.startDayDisplay)+" - \n        "),n("span",{staticClass:"text-muted"},[t._v(t._s(t.sprintf_i18n("calendar_popup_from_until","calendar",[t.startTimeDisplay,t.endTimeDisplay])))]),t._v(" "),t.viewData.buffer_time>0?n("span",{staticClass:"small text-muted"},[t._v(t._s(t.sprintf_i18n("calendar_popup_includes","calendar",t.viewData.buffer_time)))]):t._e()]):n("h3",{staticClass:"mb-4"},[t._v(" "+t._s(t.shortStDayDisplay)+" - "+t._s(t.shortEdDayDisplay))]),t._v(" "),t.activeCompName?n(t.activeComp.name,t._g(t._b({tag:"component"},"component",t.activeComp.props,!1),t.activeComp.listeners)):n("div",{staticClass:"d-flex flex-column flex-md-row justify-content-between"},t._l(t.buttons,function(e){return n("ButtonPopup",{key:e.key,attrs:{disabled:!t.isButtonEnabled(e.key),classIcon:e.icon,title:e.title,subtitle:e.subtitle},on:{click:function(n){t.confirmButtonClick(e)}}})}),1)],1)},[],!1,null,null,null).exports,ft={data:function(){return{hover:!1,timeoutId:!1}},methods:{startCountDown:function(){this.timeoutId=setTimeout(this.accepted,1500)},cancelCountDown:function(){clearTimeout(this.timeoutId)},accepted:function(){this.$emit("accepted")}}},vt={components:{DragButton:Object(r.a)(ft,function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"btn btn-primary btn-lg",on:{mouseover:this.startCountDown,mouseout:this.cancelCountDown}},[this._t("default")],2)},[],!1,null,null,null).exports},methods:{goPrev:function(){this.$emit("prev")},goNext:function(){this.$emit("next")}}},mt=(n("j7id"),Object(r.a)(vt,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"drag-actions d-flex justify-content-around"},[e("DragButton",{on:{accepted:this.goPrev}},[this._v("Previous")]),this._v(" "),e("DragButton",{on:{accepted:this.goNext}},[this._v("Next")])],1)},[],!1,null,null,null).exports),gt=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var bt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,st["a"]),gt(e,[{key:"endpoints",value:function(){return{save:{method:"post",route:"events"},list:{method:"post",route:"events/list"},patch:{method:"patch",route:"events"},delete:{method:"delete",route:"events"},forceDelete:{method:"post",route:"events/forceDelete"},confirm:{method:"put",route:"events"},recordDotcom:{method:"post",route:"events/record"}}}}]),e}();var wt={props:["appointment","timezone","viewData","activeStaff"],mixins:[q.a],data:function(){return{serviceEvent:null}},created:function(){this.serviceEvent=this.$vueService(new bt)},methods:{confirmRequest:function(){this.request(this.setRequest,{id:this.appointment.extendedProps.dbid},void 0,!1,this.statusSaved)},statusSaved:function(){this.$emit("confirmed")},setRequest:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(s,o){try{var a=e[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})}}(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceEvent.call("forceDelete",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},_t={props:["displayTimezone","activeStaff","appointment","viewData","getThisWeekIntervals","momenttz"],components:{ButtonPopup:H,CancelBooking:Object(r.a)(wt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h5",[t._v("Do you really want to cancel?")]),t._v(" "),n("button",{staticClass:"btn btn-secondary btn-lg",attrs:{type:"button"},on:{click:function(e){t.$emit("cancelled")}}},[t._v("Back")]),t._v(" "),n("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"button"},on:{click:t.confirmRequest}},[t._v("Confirm")])])},[],!1,null,null,null).exports},data:function(){return{activeCompName:!1,componentsList:null}},created:function(){this.setComponentList(),this.activeCompName="CancelBooking"},computed:{buttons:function(){return this.viewData.buttons_appointment},activeComp:function(){var t=this.activeCompName;return this.componentsList.find(function(e){return e.name==t})}},methods:{setComponentList:function(){var t={props:{appointment:this.appointment,timezone:this.displayTimezone,activeStaff:this.activeStaff,viewData:this.viewData},listeners:{confirmed:this.confirmedStatus,cancelled:this.hideModal}};this.componentsList=this.buttons.map(function(e){return Object.assign({name:e.component},t)})},formatTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!1===e&&(e=this.viewData.time_format),t.format(e)},hideModal:function(){this.$emit("hide")},confirmedStatus:function(){this.$emit("refreshEvents"),this.hideModal()}}},yt=Object(r.a)(_t,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("WapModal",{attrs:{show:!0,noscroll:""},on:{hide:t.hideModal}},[n("h4",{staticClass:"modal-title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.get_i18n("calendar_popup","calendar")))]),t._v(" "),n(t.activeComp.name,t._g(t._b({tag:"component"},"component",t.activeComp.props,!1),t.activeComp.listeners))],1)},[],!1,null,null,null).exports,xt={mixins:[n("OiRY").a],methods:{getClientAppointment:function(t){return"<div>\n                "+this.getAppointmentPicture(t,!0)+"\n                "+this.longDescription(t)+"\n                </div>"},getFieldLabel:function(t){if("tz"==t)return"Timezone";if("owes"==t)return"Owes";var e=!0,n=!1,i=void 0;try{for(var s,o=this.viewData.custom_fields[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var a=s.value;if(a.namekey==t)return a.name}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}},getValueLabel:function(t,e){var n=e,i=!0,s=!1,o=void 0;try{for(var a,r=this.viewData.custom_fields[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var c=a.value;if(c.namekey==t&&void 0!==c.values)if(Array.isArray(e)){for(var l=0;l<e.length;l++){var d=e[l];n[l]=this.getValueLabelFrom(c.values,d)}n=n.join(", ")}else n=this.getValueLabelFrom(c.values,n)}}catch(t){s=!0,o=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw o}}return this.cleanString(n)},getValueLabelFrom:function(t,e){var n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var r=o.value;if(r.value==e)return this.cleanString(r.label)}}catch(t){i=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw s}}return"errorLabel"},getAppointmentInfoHTML:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!1!==e?this.getOldAndNewAppointment(t,e):this.getScheduledTime(t)},getScheduledTime:function(t){var e=this.toMoment(t.start),n=this.toMomentEnd(t);return'\n                <div class="d-sm-flex justify-content-around align-items-center my-2">\n                '+this.getClientAppointment(t)+'\n                \n                <div class="bg-light border border-primary rounded p-2 text-center">\n                    <div> Scheduled Time </div>\n                    '+this.getLocation(t)+" \n                    "+this.getAppointmentTimeAndDate(e,n)+"\n                </div>\n                </div>\n            "},toMomentEnd:function(t){var e=this.toMoment(t.end);return this.getBuffer(t)>0?e.clone().subtract(this.getBuffer(t),"m"):e},getOldAndNewAppointment:function(t,e){var n=-e.milliseconds,i=-e.days,s=this.toMoment(t.start).clone().add(n,"ms").add(i,"d"),o=this.toMomentEnd(t).clone().add(n,"ms").add(i,"d");return'\n                <div class="d-flex justify-content-center">'+this.getClientAppointment(t,"m-auto")+'<hr></div>\n                <div class="d-sm-flex justify-content-around align-items-center my-2">\n                    <div class="bg-light rounded p-2">\n                    <div> Old schedule </div>\n                    '+this.getAppointmentTimeAndDate(s,o,"text-danger")+'\n                    </div>\n                    <div class="d-sm-block d-none"> <span class="dashicons dashicons-arrow-right-alt2"></span> </div>\n                    <div class="d-sm-none"> <span class="dashicons dashicons-arrow-down-alt2"></span> </div>\n                    <div class="bg-light border border-primary rounded p-2">\n                    <div> New schedule </div>\n                    '+this.getAppointmentTimeAndDate(this.toMoment(t.start),this.toMomentEnd(t),"text-success")+"\n                    </div>  \n                </div>\n            "},getAppointmentTimeAndDate:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return'<div>\n                    <div class="'+n+'"> \n                    '+this.formatTime(t,this.viewData.date_format)+' \n                    </div>\n                    <div class="'+n+'">\n                    From '+this.formatTime(t)+" until "+this.formatTime(e)+' \n                    </div>\n                    <div class="small font-italic">'+this.displayTimezone+"</div>\n                </div>"},getBuffer:function(t){return-1===[void 0,null].indexOf(t.extendedProps)&&-1===[void 0,null].indexOf(t.extendedProps.options)&&void 0!==t.extendedProps.options.buffer_time?t.extendedProps.options.buffer_time:0},getBufferHtml:function(t){return this.getBuffer(t)>0?'<div class="buffer">Buffer: '+this.getBuffer(t)+"min</div>":""},getClientAvatarSize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return void 0===t?"":'<img class="'+this.getClassAvatar(n)+'" src="'+t.replace("s=30","s="+e)+'">'},getClassAvatar:function(t){return"rounded-circle img-fluid img-max "+(t?" float-left mr-2 mt-2":"")},getAppointmentPicture:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getClientAvatarSize(null===t.extendedProps.client?t.extendedProps.wimage:t.extendedProps.client.avatar,30,e)},getShortAppointmentHtml:function(t){return this.$sanitize('<div class="d-flex">\n                  <div> '+this.getAppointmentPicture(t)+' </div>\n                  <div class="ml-1">\n                    '+this.shortDescription(t)+"\n                  </div>\n                </div>")},longDescription:function(t){return this.shortDescription(t)+this.loopThroughItems(t.extendedProps.display.long)},shortDescription:function(t){return this.loopThroughItems(t.extendedProps.display.short)},loopThroughItems:function(t){return Object.values(t).map(function(t){return"<div>"+t+"</div>"}).join("")},getLocation:function(t){return"<div>"+this.getIconClass(t)+" "+this.getLocationName(t)+" </div>"},getService:function(t){var e=(this.toMoment(t.end).unix()-this.toMoment(t.start).unix()-60*this.getBuffer(t))/60;return"<div>"+this.getIconClassService(t)+" "+this.getServiceName(t)+" : "+e+"min </div>"},getServiceName:function(t){return this.isAppointmentCoreSystem(t)?this.viewData.service.name:void 0!==t.extendedProps.service?this.cleanString(t.extendedProps.service.name):""},getLocationName:function(t){return this.isAppointmentCoreSystem(t)?this.cleanString(t.extendedProps.location):this.getLocationAttribute(t,"name")},getIconClassService:function(t){return void 0!==t.extendedProps.service&&void 0!==t.extendedProps.service.options.icon&&void 0!==t.extendedProps.service.options.icon.src?'<img class="img-bw" width="20" src="'+t.extendedProps.service.options.icon.src+'"/>':""},getIconClass:function(t){switch(this.isAppointmentCoreSystem(t)?this.cleanString(t.extendedProps.location):this.getLocationAttribute(t,"type")){case"skype":case 3:return'<svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="skype" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-skype fa-w-14 fa-lg"><path fill="currentColor" d="M424.7 299.8c2.9-14 4.7-28.9 4.7-43.8 0-113.5-91.9-205.3-205.3-205.3-14.9 0-29.7 1.7-43.8 4.7C161.3 40.7 137.7 32 112 32 50.2 32 0 82.2 0 144c0 25.7 8.7 49.3 23.3 68.2-2.9 14-4.7 28.9-4.7 43.8 0 113.5 91.9 205.3 205.3 205.3 14.9 0 29.7-1.7 43.8-4.7 19 14.6 42.6 23.3 68.2 23.3 61.8 0 112-50.2 112-112 .1-25.6-8.6-49.2-23.2-68.1zm-194.6 91.5c-65.6 0-120.5-29.2-120.5-65 0-16 9-30.6 29.5-30.6 31.2 0 34.1 44.9 88.1 44.9 25.7 0 42.3-11.4 42.3-26.3 0-18.7-16-21.6-42-28-62.5-15.4-117.8-22-117.8-87.2 0-59.2 58.6-81.1 109.1-81.1 55.1 0 110.8 21.9 110.8 55.4 0 16.9-11.4 31.8-30.3 31.8-28.3 0-29.2-33.5-75-33.5-25.7 0-42 7-42 22.5 0 19.8 20.8 21.8 69.1 33 41.4 9.3 90.7 26.8 90.7 77.6 0 59.1-57.1 86.5-112 86.5z" class=""></path></svg>';case"phone":case 2:return'<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="phone" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-phone fa-w-16 fa-lg"><path fill="currentColor" d="M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z" class=""></path></svg>';case"physical":case 1:return'<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="map-marked-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-map-marked-alt fa-w-18 fa-lg"><path fill="currentColor" d="M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z" class=""></path></svg>'}var e=this.getLocationIcon(t);return void 0!==e?'<img class="img-fluid img-bw" width="20" src="'+e+'"/>':""},getLocationAttribute:function(t,e){if(void 0!==t.extendedProps&&null!==t.extendedProps.location&&void 0!==t.extendedProps.location[e])return t.extendedProps.location[e]},getLocationIcon:function(t){var e=this.getLocationAttribute(t,"options");if(void 0!==e)return void 0!==e.icon&&void 0!==e.icon.src?e.icon.src:void 0},isAppointmentCoreSystem:function(t){return void 0!==t.extendedProps&&"string"==typeof t.extendedProps.location}}},kt=(n("vleE"),Object(r.a)(xt,void 0,void 0,!1,null,null,null).exports),St={props:["intervals","viewingFreeSlot","durations","buffer"],data:function(){return{toggle:!1,selectedDuration:0}},created:function(){this.selectedDuration=this.durations[0]},methods:{selectDuration:function(t){this.selectedDuration=t,this.toggle=!1}},computed:{totalSlots:function(){return 0===this.intervals?0:this.intervals.splits(60*parseInt(this.selectedDuration)).totalSlots()}}},Ct=Object(r.a)(St,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex items-align-center sm-text"},[t.viewingFreeSlot?n("a",{staticClass:"tt-below align-self-center",attrs:{href:"javascript:;"},on:{click:function(e){t.$emit("getEdition")}}},[t._v(t._s(t.sprintf_i18n("back","common",t.totalSlots)))]):n("a",{staticClass:"tt-below d-none d-md-block ml-2 align-self-center",attrs:{"data-tt":t.get_i18n("show_free_slots","calendar"),href:"javascript:;"},on:{click:function(e){t.$emit("getFreeSlots")}}},[t._v("\n    "+t._s(t.sprintf_i18n("free_slots","calendar",t.totalSlots)))]),t._v(" "),t.durations.length>1?n("div",{staticClass:"dropdown ml-2 d-flex align-self-center",class:{show:t.toggle}},[n("button",{staticClass:"btn btn-secondary btn-light dropdown-toggle btn-xs",attrs:{type:"button"},on:{click:function(e){t.toggle=!t.toggle}}},[t._v("\n            "+t._s(t.sprintf_i18n("regav_min","common",t.selectedDuration))+" \n        ")]),t._v(" "),n("div",{staticClass:"dropdown-menu",class:{show:t.toggle}},t._l(t.durations,function(e){return n("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(n){t.selectDuration(e)}}},[t._v(" \n                "+t._s(t.sprintf_i18n("regav_min","common",e)))])}),0)]):n("div",{staticClass:"ml-2 align-self-center text-muted"},[t._v("\n        "+t._s(t.sprintf_i18n("regav_min","common",t.selectedDuration))+" \n    ")])])},[],!1,null,null,null).exports,Dt=n("whSN"),Pt=n("hehe"),Et={mixins:[Dt.a],props:["durations","duration","pminH","pmaxH","preferences"],data:function(){return{showPreferences:!1,toggle:!1,toggleMinH:!1,toggleMaxH:!1,hoursAvail:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],baseDurations:[10,15,20,30,60],minHour:6,maxHour:19,selectedDuration:0,showText:!1,cal_avail_col:"",cal_appoint_col:""}},components:{ColorPicker:Pt.a},created:function(){this.initBaseDurations(),this.selectedDuration=this.duration,this.minHour=this.pminH,this.maxHour=this.pmaxH,-1===[void 0,null].indexOf(this.preferences.cal_avail_col)&&(this.cal_avail_col=this.preferences.cal_avail_col),-1===[void 0,null].indexOf(this.preferences.cal_avail_col)&&(this.cal_appoint_col=this.preferences.cal_appoint_col)},methods:{initBaseDurations:function(){for(var t=0;t<this.durations.length;t++)-1===this.baseDurations.indexOf(this.durations[t])&&this.baseDurations.push(this.durations[t]);this.baseDurations.sort(function(t,e){return t>e})},showPref:function(){this.showPreferences=!0,this.$emit("expanded")},hidePref:function(){this.showPreferences=!1,this.$emit("reduced")},savePreferences:function(){this.$emit("save",{interval:this.selectedDuration,minH:this.minHour,maxH:this.maxHour,cal_avail_col:this.cal_avail_col,cal_appoint_col:this.cal_appoint_col})},selectDuration:function(t){this.selectedDuration=t,this.toggle=!1},changeMinHour:function(t){this.minHour=t,this.toggleMinH=!1},changeMaxHour:function(t){this.maxHour=t,this.toggleMaxH=!1}}},Ot=(n("QAzU"),Object(r.a)(Et,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"calendar-settings sm-text",on:{mouseover:function(e){t.showText=!0},mouseout:function(e){t.showText=!1}}},[t.showPreferences?n("div",{staticClass:"p-3"},[t._m(0),t._v(" "),n("div",{staticClass:"d-flex align-items-center mb-2"},[n("div",[t._v("Hours shown from: ")]),t._v(" "),n("div",{staticClass:"dropdown d-flex align-self-center tt-below",class:{show:t.toggleMinH}},[n("button",{staticClass:"btn btn-secondary dropdown-toggle btn-xs",attrs:{type:"button"},on:{click:function(e){t.toggleMinH=!t.toggleMinH}}},[t._v("\n                    "+t._s(t.minHour)+"h ")]),t._v(" "),n("div",{staticClass:"dropdown-menu",class:{show:t.toggleMinH}},t._l(t.hoursAvail,function(e){return n("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(n){t.changeMinHour(e)}}},[t._v(" "+t._s(e)+"h ")])}),0)]),t._v(" "),n("div",[t._v("Until")]),t._v(" "),n("div",{staticClass:"dropdown d-flex align-self-center tt-below",class:{show:t.toggleMaxH}},[n("button",{staticClass:"btn btn-secondary dropdown-toggle btn-xs",attrs:{type:"button"},on:{click:function(e){t.toggleMaxH=!t.toggleMaxH}}},[t._v("\n                    "+t._s(t.maxHour)+"h ")]),t._v(" "),n("div",{staticClass:"dropdown-menu",class:{show:t.toggleMaxH}},t._l(t.hoursAvail,function(e){return n("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(n){t.changeMaxHour(e)}}},[t._v(" "+t._s(e)+"h ")])}),0)])]),t._v(" "),n("div",{staticClass:"d-flex align-items-center mb-2"},[n("div",[t._v("One interval equals")]),t._v(" "),n("div",{staticClass:"dropdown d-flex align-self-center tt-below",class:{show:t.toggle}},[n("button",{staticClass:"btn btn-secondary dropdown-toggle btn-xs",attrs:{type:"button"},on:{click:function(e){t.toggle=!t.toggle}}},[t._v("\n                    "+t._s(t.selectedDuration)+"min ")]),t._v(" "),n("div",{staticClass:"dropdown-menu",class:{show:t.toggle}},t._l(t.baseDurations,function(e){return n("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(n){t.selectDuration(e)}}},[t._v(" "+t._s(e)+"min ")])}),0)])]),t._v(" "),n("div",[n("div",[t._v("Colors")]),t._v(" "),n("div",{staticClass:"d-flex align-items-center mb-2"},[n("div",{staticClass:"mr-2"},[n("ColorPicker",{attrs:{label:"Available"},model:{value:t.cal_avail_col,callback:function(e){t.cal_avail_col=e},expression:"cal_avail_col"}})],1),t._v(" "),n("div",{staticClass:"mr-2"},[n("ColorPicker",{attrs:{label:"Appointment"},model:{value:t.cal_appoint_col,callback:function(e){t.cal_appoint_col=e},expression:"cal_appoint_col"}})],1)])]),t._v(" "),n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.hidePref(e)}}},[t._v("Close")]),t._v(" "),n("button",{staticClass:"btn btn-outline-primary btn-sm",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.savePreferences(e)}}},[t._v(t._s(t.get_i18n("save","common")))])]):n("div",{staticClass:"btn btn-link btn-xs",attrs:{role:"button"},on:{click:t.showPref}},[n("span",{staticClass:"dashicons dashicons-admin-settings"}),t._v(" "),t.showText?n("span",[t._v("Edit preferences")]):t._e()]),t._v(" "),n("v-style",[t._v("\n        .fc-event-container .fc-event, \n        .fc-container .fc-event {\n            border-color: "+t._s(t.hx_rgb(t.cal_appoint_col,1))+" !important;\n            background-color: "+t._s(t.hx_rgb(t.cal_appoint_col,1))+"!important;\n        }\n        .fc-event-container .fc-event.appointment-pending, \n        .fc-container .fc-event.appointment-pending {\n            background-color: "+t._s(t.hx_rgb(t.cal_appoint_col,.7))+"!important;\n\n        }\n\n        .fc-event.past-event {\n            background-color: "+t._s(t.hx_rgb(t.cal_appoint_col,1))+" !important;\n        }\n\n\n        .fc-bgevent.opening{\n            border: 2px dashed "+t._s(t.hx_rgb(t.cal_avail_col,1))+"!important;\n            background-color:"+t._s(t.hx_rgb(t.cal_avail_col,1))+"!important;\n        }\n            .fc-bgevent.opening.extra {\n            background-color: "+t._s(t.hx_rgb(t.cal_avail_col,.8))+"!important;\n            border: 2px dashed "+t._s(t.hx_rgb(t.cal_avail_col,.8))+"!important;\n\n        }\n    \n    ")])],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"d-flex align-items-center"},[e("span",{staticClass:"dash-h3 dashicons dashicons-admin-settings"}),this._v(" "),e("span",[this._v("Edit preferences")])])}],!1,null,null,null).exports),Tt={methods:{eventRender:function(t){var e=t.event,n=e.extendedProps,i=window.jQuery(t.el);this.isParentInThePast(i),i.attr("data-id",n.dbid),i.attr("id","event-"+n.type+e.id),i.attr("data-rendering",e.rendering),void 0!==n.onlyDelete&&i.attr("data-only-delete",1),void 0!==n.past&&!0===n.past?(i.addClass("past-event"),this.isAppointmentEvent(e.rendering)&&(i.find(".fc-time").html(this.getShortAppointmentHtml(e,i)),i.append('<div class="fc-bg"></div>'+this.getBufferHtml(e)),i.click(this.cancelClick),i.mouseenter(this.EOver),i.mouseleave(this.EOut))):"background"==e.rendering?(i.mousedown(this.bgEOut),-1===[void 0,null].indexOf(n.options)&&void 0!==n.options.title&&i.attr("data-calendar-title",n.options.title),i.click(this.cancelClick),i.mouseenter(this.bgEOverDelay),i.mouseleave(this.bgEOut)):this.isAppointmentEvent(e.rendering)&&(i.find(".fc-time").html(this.getShortAppointmentHtml(e,i)),i.append('<div class="fc-bg"></div>'+this.getBufferHtml(e)),i.click(this.cancelClick),i.mouseenter(this.EOver),i.mouseleave(this.EOut))},EOver:function(t){if(this.disableBgEvent)return!1;this.disableSelectClick=!0,this.attachEvent(window.jQuery(t.currentTarget))},EOut:function(t){if(this.disableSelectClick=!1,this.disableBgEvent)return!1;var e=window.jQuery(t.currentTarget);e.removeClass("hover"),e.find(".fill-event").remove()},bgEDown:function(t){this.hasBeenClicked=window.jQuery(t.currentTarget).attr("data-id"),t.stopPropagation()},modifyRegav:function(t){var e=this;this.viewData.legacy?this.showRegularAv=!0:this.$WapModal().confirm({title:"You are going to be redirected to a new screen and will lose the current change, do you wish to continue?"}).then(function(t){!1!==t&&e.$router.push({name:"calendars_edit",params:{id:e.activeStaff.id}})}),t.stopPropagation()},isAppointmentEvent:function(t){return-1!==["appointment-confirmed","appointment-pending"].indexOf(t)},isAppointmentPending:function(t){return"appointment-pending"==t},isAppointmentConfirmed:function(t){return"appointment-confirmed"==t},hasDotcomButnoProvider:function(t){var e=this.findAppointmentById(t);return-1===[void 0,null].indexOf(e.extendedProps.options)&&void 0===e.extendedProps.options.providers&&this.hasDotcom()},appointmentIsZoom:function(t){var e=this.findAppointmentById(t);return this.viewData.legacy&&"zoom"==e.extendedProps.location||!this.viewData.legacy&&5===parseInt(e.extendedProps.location.type)},appointmentHasZoomUrl:function(t){var e=this.findAppointmentById(t);return void 0!==e.extendedProps.options.providers&&-1===[void 0,!1].indexOf(e.extendedProps.options.providers.zoom)},appointmentHasGoogleUrl:function(t){var e=this.findAppointmentById(t);return void 0!==e.extendedProps.options.providers&&void 0!==e.extendedProps.options.providers.google&&void 0!==e.extendedProps.options.providers.google.google_meet_url},appointmentHasJitsiUrl:function(t){return void 0!==this.findAppointmentById(t).extendedProps.options.jitsi_url},getZoomMeetingUrl:function(t){return this.findAppointmentById(t).extendedProps.options.providers.zoom.join_url},getGoogleMeetingUrl:function(t){return this.findAppointmentById(t).extendedProps.options.providers.google.google_meet_url},getJitsiMeetingUrl:function(t){return this.findAppointmentById(t).extendedProps.options.jitsi_url},isBackgroundEvent:function(t){return void 0!==t.attr("data-rendering")&&"background"==t.attr("data-rendering")},getCrib:function(t){return this.isBackgroundEvent(t)?t.hasClass("extra")?'<div class="crib blue">Punctual Availability</div>':t.hasClass("busy")?'<div class="crib red">Busy</div>':t.hasClass("recurrent")?'<div class="crib orange">Personal Calendar recurs <span class="dashicons dashicons-update"></span></div>'+this.getCalTitle(t):'<div class="crib orange">Personal Calendar</div>'+this.getCalTitle(t):'<div class="crib yel">Appointment</div>'},getCalTitle:function(t){return void 0!==t.attr("data-calendar-title")&&0==t.children(".cal-title").length?'<div class="cal-title">'+t.attr("data-calendar-title")+"</div>":""},getConfirmOrViewButton:function(t,e){return this.isAppointmentConfirmed(e)?'<button data-tt="'+this.get_i18n("reschedule","common")+'" class="btn btn-xs btn-light rescheduleElement" data-id="'+t.attr("data-id")+'"><span class="dashicons dashicons-update"></span></button><button data-tt="'+this.get_i18n("view_appointment","common")+'" class="btn btn-xs btn-light viewElement" data-id="'+t.attr("data-id")+'"><span class="dashicons dashicons-visibility"></span></button>':this.isAppointmentPending(e)?'<button data-tt="'+this.get_i18n("confirm","common")+'" class="btn btn-xs btn-light confirmElement" data-id="'+t.attr("data-id")+'"><span class="dashicons dashicons-yes"></span></button>':""},isAppointmentVideoUpcoming:function(t){return!t.hasClass("past-event")&&this.appointmentIsZoom(t.attr("data-id"))},getZoomGoogleMeetButton:function(t){return this.isAppointmentVideoUpcoming(t)?this.appointmentHasZoomUrl(t.attr("data-id"))?'<div data-href="'+this.getZoomMeetingUrl(t.attr("data-id"))+'" class="gotozoom" data-tt="Go to Zoom meeting" ><img src="'+window.apiWappointment.resourcesUrl+'images/zoom.png" /></div>':this.appointmentHasGoogleUrl(t.attr("data-id"))?'<div data-href="'+this.getGoogleMeetingUrl(t.attr("data-id"))+'" class="gotozoom" data-tt="Go to Google meeting" ><img src="'+window.apiWappointment.resourcesUrl+'images/google-meet.png" /></div>':this.appointmentHasJitsiUrl(t.attr("data-id"))?'<div data-href="'+this.getJitsiMeetingUrl(t.attr("data-id"))+'" class="gotozoom gotojitsi" data-tt="Go to Jitsi" ><img src="'+window.apiWappointment.resourcesUrl+'images/jitsi.png" /></div>':"":""},getCancelOrMuteButton:function(t,e){if(t.hasClass("past-event"))return"";if(e)return t.hasClass("cannot-delete")?"":'<button class="btn btn-xs btn-light cancelAppointment" data-tt="Cancel appointment" data-id="'+t.attr("data-id")+'"><span class="dashicons dashicons-dismiss"></span></button>';var n=t.hasClass("calendar")?"Mute Event":"Delete event",i=t.hasClass("calendar")?'<span class="dashicons dashicons-controls-volumeoff"></span> ':'<span class="dashicons dashicons-trash"></span>';return'<button data-tt="'+n+'" class="btn btn-xs btn-light deleteElement" data-id="'+t.attr("data-id")+'">'+i+"</button>"},getActionButtons:function(t,e){if(!(!t.hasClass("past-event")||t.hasClass("past-event")&&e))return"";var n='<div class="d-flex justify-content-center align-items-center mx-4 ctrlbar">';return n+=e?this.getZoomGoogleMeetButton(t):"",n+=this.getConfirmOrViewButton(t,t.attr("data-rendering")),(n+=this.getCancelOrMuteButton(t,e))+"</div>"},attachClickEventsToButtons:function(t,e,n){e?(n.find(".fc-bg").append(t),n.find(".cancelAppointment").on("click",this.cancelAppointment),n.find(".recordDotcom").on("click",this.recordDotcom),n.find(".viewElement").on("click",this.viewAppointment),n.find(".rescheduleElement").on("click",this.rescheduleAppointment),n.find(".gotozoom").on("click",this.goToZoom),n.find(".confirmElement").on("click",this.confirmAppointment)):(n.append(t),n.find(".deleteElement").on("click",this.deleteElement))},attachEvent:function(t){if(t.addClass("hover"),void 0!==t.attr("data-only-delete")){var e='<div class="fill-event">',n=this.isAppointmentEvent(t.attr("data-rendering"));e+=this.getCrib(t),e+=this.getActionButtons(t,n),e+="</div>",this.attachClickEventsToButtons(e,n,t)}else if(t.hasClass("opening")){var i='<div class="fill-event"><div class="crib grey">Weekly Availability</div>';i+='<div class="d-flex justify-content-center align-items-center mx-4 ctrlbar"><button class="btn btn-xs btn-light modifyRegav" data-id="'+t.attr("data-id")+'"><span class="dashicons dashicons-edit"></span></button></div>',i+="</div>",t.append(i),t.find(".modifyRegav").on("click",this.modifyRegav)}var s=t.height();if(t.find(".ctrlbar").length>0){var o=Math.floor((s-t.find(".ctrlbar")[0].offsetHeight)/2);o>0&&t.find(".ctrlbar").css("margin-top",o+"px")}},bgEOverDelay:function(t){this.cancelbgOver=setTimeout(this.bgEOver.bind("",t),100)},bgEOver:function(t){var e=window.jQuery(t.target);if(e.hasClass("fc-bgevent")){if(this.parentAttach=e.parent(),this.disableBgEvent)return!1;if(this.parentAttach.parent(".fc-content-col").find(".fc-highlight-container .fc-highlight").length>0)return this.disableBgEvent=!0,!1;this.activeBgOverId=e.attr("data-id"),window.jQuery('[data-id="'+this.activeBgOverId+'"]').addClass("hover"),this.disableSelectClick=!0,this.attachEvent(e),e.css("z-index",9),e.attr("data-parent-class",this.parentAttach.attr("class")),e.insertAfter(this.parentAttach.parent(".fc-content-col").find(".fc-highlight-container"))}},bgEOut:function(t){if(window.jQuery('[data-id="'+this.activeBgOverId+'"]').removeClass("hover"),this.activeBgOverId=!1,this.cancelbgOver&&(clearTimeout(this.cancelbgOver),this.cancelbgOver=!1),"mousedown"==t.type&&window.jQuery(t.target).hasClass("btn-secondary"))return this.$refs.calendar.fireMethod("unselect"),!1;if(this.disableSelectClick=!1,this.disableBgEvent)return!1;var e=window.jQuery(t.target);if(e.innterHtml="",void 0!==e.attr("data-parent-class"))this.reAttach(e);else{var n=e.parent();-1!==n.attr("class").search("fc-bgevent")?this.reAttach(n):this.reAttach(n.parent())}this.parentAttach=void 0},reAttach:function(t){t.appendTo(t.parent().find("."+t.attr("data-parent-class"))),t.removeClass("hover"),t.find(".fill-event").remove(),t.css("z-index",""),t.removeAttr("data-parent-class")},cancelClick:function(t){return t.stopPropagation(),!1},bgEClick:function(t){window.jQuery(t.currentTarget).attr("data-id")}}},At=(n("A3rf"),Object(r.a)(Tt,void 0,void 0,!1,null,null,null).exports),It={methods:{hoverIndicatorRegister:function(){var t=this.selectedTimezone;window.jQuery(".fc-content-today").on("mouseover",".fc-now-indicator-line",function(e,n){window.jQuery(".fc-now-indicator-line .nowtime").html(e.tz(t).format("dddd HH:mm")),window.jQuery(".fc-now-indicator-line .nowtime").addClass("show")}.bind(null,this.momenttz.tz(this.viewData.now,this.viewData.timezone))),window.jQuery(".fc-content-today").on("mouseout",".fc-now-indicator-line",function(){return window.jQuery(".nowtime").removeClass("show")})},hoverIndicatorUnregister:function(){window.jQuery(".fc-content-today").unbind("mouseover"),window.jQuery(".fc-content-today").unbind("mouseout")},beforeDestroy:function(){this.hoverIndicatorUnregister(),this.observer.disconnect()},setTodayAsPast:function(){if(this.momenttz.tz(this.viewData.now,this.viewData.timezone).hour()>=this.maxHour)for(var t=document.querySelectorAll(".fc-today"),e=0;e<t.length;e++)t[e].classList.add("fc-past")},observeNowIndicator:function(){void 0!==this.observer&&(this.hoverIndicatorUnregister(),this.observer.disconnect()),this.observer=void 0;for(var t=document.querySelectorAll(".fc-content-skeleton td .fc-content-col"),e=!1,n=0;n<t.length;n++){if(t[n].childNodes.length>0)for(var i=0;i<t[n].childNodes.length&&(-1!==Array.from(t[n].childNodes[i].classList).indexOf("fc-now-indicator-line")&&(e=t[n]).classList.toggle("fc-content-today"),!1===e);i++);if(!1!==e)break}if(!1!==e){this.observer=new MutationObserver(this.observerSubscriber),this.observer.observe(e,{attributes:!1,attributeOldValue:!1,characterData:!1,characterDataOldValue:!1,childList:!0,subtree:!1}),this.hoverIndicatorRegister()}},observerSubscriber:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.addedNodes.length>0)for(var i=0;i<n.addedNodes.length;i++)-1!==Array.from(n.addedNodes[i].classList).indexOf("fc-now-indicator-line")&&this.setTodayPastSection()}},setTodayPastSection:function(){-1===[0,"0","0px"].indexOf(window.jQuery(".fc-now-indicator-line").css("top"))&&(window.jQuery(".fc-now-indicator-line").css("height",window.jQuery(".fc-now-indicator-line").css("top")),window.jQuery(".fc-now-indicator-line").css("top",0)),window.jQuery("<div>",{class:"nowtime",html:""}).appendTo(window.jQuery(".fc-now-indicator-line"))},setDaysProperties:function(){if(!1===this.daysProperties){var t=[];window.jQuery(".fc-day.fc-widget-content").each(function(e){window.jQuery(this).hasClass("fc-past")?t.push("fc-past"):t.push("")}),this.daysProperties=t}},setSkeletonProperties:function(){var t=this.daysProperties;window.jQuery(".fc-content-skeleton tr td").each(function(e){window.jQuery(this).hasClass("fc-axis")||"fc-past"==t[e-1]&&window.jQuery(this).addClass("skel-past")})},isParentInThePast:function(t){this.hasBeenSetCalProps||(this.setDaysProperties(),this.setSkeletonProperties(),this.setTodayAsPast(),this.hasBeenSetCalProps=!0)}}},zt=Object(r.a)(It,void 0,void 0,!1,null,null,null).exports;function Bt(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(s,o){try{var a=e[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})}}var jt,Mt,Rt={methods:{mouseEnter:function(t){return!1},mouseLeave:function(t){return!1},clickEvent:function(t){return this.viewAppointment(t),!1},deleteElement:function(t){var e=window.jQuery(t.currentTarget).attr("data-id");this.deleteStatus(e)},cancelAppointment:function(t){var e=window.jQuery(t.currentTarget).attr("data-id");this.findAppointmentById(e).extendedProps.recurrent?this.cancelRecurringRequest(e):this.cancelRequest(e)},findAppointmentById:function(t){var e=this.findEventById(t,"appointment");return{start:e.start,end:e.end,extendedProps:e}},findEventById:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!0,i=!1,s=void 0;try{for(var o,a=this.events[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var r=o.value;if((!1!==e||"appointment"!=r.type)&&(void 0!==r.dbid&&t==r.dbid))return r}}catch(t){i=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw s}}},goToZoom:function(t){var e=window.jQuery(t.currentTarget).attr("data-href");window.open(e,"_blank")},viewAppointment:function(t){var e=this,n=window.jQuery(t.currentTarget).attr("data-id"),i=this.findAppointmentById(n),s={};void 0!==i.extendedProps.participants&&i.extendedProps.participants.length>0&&(s={prompt:!0,cancel:"Back",confirm:"Cancel for the group"});var o=this.$WapModal();o.showModal("Appointment details",this.getAppointmentInfoHTML(i),!1,s),new Promise(o.promiseCallback).then(function(t){!1!==t&&e.rescheduleOrCancel(i)})},rescheduleOrCancel:function(t){this.openAppointmentModal(t)},recordDotcom:function(t){var e=window.jQuery(t.currentTarget).attr("data-id");this.request(this.recordDotcomRequest,e,void 0,!1,this.refreshEvents)},recordDotcomRequest:function(){var t=Bt(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceEvent.call("recordDotcom",{id:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),confirmAppointment:function(t){var e=window.jQuery(t.currentTarget).attr("data-id");this.confirmRequest(e)},rescheduleAppointment:function(t){this.activeAppointment=this.findAppointmentById(window.jQuery(t.currentTarget).attr("data-id")),this.rescheduleOn()},pendingOrderOrNot:function(t){return void 0!==t.appointment.extendedProps.options.order_id?'<div class="bg-dark p-2 text-white rounded align-items-center mb-2">\n            <div class="h5 text-white"><span class="dashicons dashicons-cart"></span> Pending Order : </div>\n            <div class="small text-danger">Awaiting payment for that appointment \n            <a target="_blank" href="/wp-admin/admin.php?page=wappointment_orders">View pending order #'+t.appointment.extendedProps.options.order_id+'</a></div>\n            <div class="text-muted small">The client has '+t.viewData.clean_pending_every+' minutes to complete the payment.\n            It will then be automatically cancelled.</div>\n            <div class="text-white">Click confirm to skip payment for that user.</div>\n          </div>':""},confirmRequest:function(t){var e=this,n=this.findAppointmentById(t),i={appointment:n,viewData:this.viewData};this.$WapModal().confirm({title:"Do you really want to confirm this appointment?",content:window.wappointmentExtends.filter("ConfirmPopup",this.getAppointmentInfoHTML(n)+this.pendingOrderOrNot(i),i)}).then(function(n){!0===n&&e.request(e.confirmEventRequest,t,void 0,!1,e.refreshEvents)})},cancelRequest:function(t){var e=this;this.$WapModal().confirm({title:"Do you really want to cancel this appointment?"}).then(function(n){!0===n&&e.request(e.cancelEventRequest,{id:t},void 0,!1,e.refreshEvents)})},cancelRecurringRequest:function(t){var e=this;this.$WapModal().confirm({title:"Do you really want to cancel this appointment?",remember:!0,rememberLabel:"Delete related appointments too? (child or siblings from a recurrent event)"}).then(function(n){!1!==n&&e.request(e.cancelEventRequest,{id:t,sibblings:n.remember},void 0,!1,e.cancelEventSuccess)})},deleteStatus:function(t){var e=this,n={title:"Do you really want to delete this calendar event?"},i=this.findEventById(t);""!=i.source&&(n.title="Do you really want to mute this calendar event?"),-1===[null,void 0,!1].indexOf(i.options)&&(void 0!==i.options.title&&""!=i.options.title?n.content="<h3>"+i.options.title+"</h3>":void 0!==i.options.conditions&&(n.content="<h3>"+i.options.conditions+"</h3>")),this.$WapModal().confirm(n).then(function(n){!0===n&&e.request(e.deleteStatusRequest,t,void 0,!1,e.refreshEvents)})},getEventById:function(t){var e=!0,n=!1,i=void 0;try{for(var s,o=this.events[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var a=s.value;if(void 0!==a.id&&a.id==t)return a}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}},cancelEventSuccess:function(t){this.$WapModal().notifySuccess(t.data.message),Array.isArray(t.data.failures)&&t.data.failures.length>0&&this.$WapModal().notifyError(t.data.failures.join("\n")),this.refreshEvents()},selectAllow:function(t){return!this.isInThePast(t)&&!this.rescheduleModeOn},eventDragStart:function(t){if(this.showWeeksControls(),!0!==t.editable)return!1;this.disableBgEvent=!0},eventDragStop:function(t){if(this.hideWeeksControls(),!0!==t.editable)return!1;this.disableBgEvent=!1},eventPatch:function(t){var e=this,n=t.event,i=t.delta,s=t.revert;this.$WapModal().confirm({title:"Do you really want to modify this appointment?",content:this.getAppointmentInfoHTML(n,i)}).then(function(t){!0===t?e.request(e.editEventRequest,{eventId:n.extendedProps.dbid,start:e.toMoment(n.start).unix(),end:e.toMoment(n.end).unix()},void 0,!1,e.refreshEvents):s()})},cancelEventRequest:function(){var t=Bt(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceEvent.call("delete",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),confirmEventRequest:function(){var t=Bt(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceEvent.call("confirm",{id:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),deleteStatusRequest:(Mt=Bt(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceStatus.call("delete",{id:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(t){return Mt.apply(this,arguments)}),editEventRequest:(jt=Bt(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceEvent.call("patch",{id:e.eventId,start:e.start,end:e.end,timezone:this.displayTimezone});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(t){return jt.apply(this,arguments)})}},Ft=Object(r.a)(Rt,void 0,void 0,!1,null,null,null).exports,Ht=n("XC6E"),Lt=n("KH6Y");function Wt(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(s,o){try{var a=e[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})}}var $t=window.wappointmentExtends.filter("BackendCalendarMixins",{AppointmentRender:kt,MixinRender:At,MixinBeautify:zt,MixinSelection:Ft}),qt=[Dt.a];for(var Vt in $t)$t.hasOwnProperty(Vt)&&qt.push($t[Vt]);var Nt={extends:s.a,mixins:qt,name:"calendar",components:{SubscribeNewsletter:E.a,TimeZones:o.a,ControlBar:u,WeeklyAvailability:i.a,FullCalendarWrapper:P,FreeSlotsSelector:Ct,WelcomeModal:R,CalendarSettings:Ot,PopupActions:ht,DragActions:mt,PopupAppointment:yt,MainStyle:function(){return Promise.all([n.e(27),n.e(7)]).then(n.bind(null,"XGLr"))}},data:function(){return{momenttz:m.a,selectedDuration:!1,fcIsReady:!1,observer:void 0,canLoadEvents:!0,callback:void 0,viewingFreeSlot:!1,currentView:"timeGridWeek",showWelcomePopup:!1,showRegularAv:!1,clientSelected:!1,viewName:"calendar",firstDay:void 0,cancelbgOver:!1,name:"calendar",namekey:"calendar",windowStaff:window.Staffs,modifiedEvent:[],selectedTimezone:void 0,timezone:void 0,staffs:[],disableSelectClick:!1,disableBgEvent:!1,startTime:0,endTime:0,realEndTime:0,intervalsCollection:null,fullCalOption:void 0,openedDays:[],minHour:null,maxHour:null,events:[],intervals:{hours:0,minutes:0},activeBgOverId:!1,shortDayFormat:"dd LLL yyyy",headerDayFormat:{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0},daysProperties:!1,serviceEvent:null,serviceStatus:null,openconfirm:!1,hasBeenSetCalProps:!1,queryParameters:void 0,showCalSettings:!1,lockCalSettings:!1,activeStaff:null,rolledOverName:"",popupActionVisible:!1,dragActionsVisible:!1,popupAppointmentVisible:!1,activeAppointment:null,rescheduleModeOn:!1,moveCursor:!1,canMoveReschedule:!0,newStartDate:null,tempRescheduleEvent:null}},created:function(){this.serviceEvent=this.$vueService(new bt),this.serviceStatus=this.$vueService(new at),this.checkQueryParams()},watch:{events:{handler:function(t){this.openconfirm&&t.length>1&&(this.confirmRequest(this.openconfirm),this.openconfirm=!1)}}},computed:{formattedNewStart:function(){return this.newStartDate.format(this.viewData.date_format+" "+this.viewData.time_format)},activeAvailability:function(){return this.activeStaff.availability},activeDotcom:function(){return!0!==this.viewData.legacy?this.activeStaff.options.dotcom:this.viewData.is_dotcom_connected},isDotComConnected:function(){return-1===[void 0,!1].indexOf(this.activeDotcom)},dotComServices:function(){return this.isDotComConnected?this.activeDotcom.services:[]},activeRegav:function(){return!0!==this.viewData.legacy?this.activeStaff.options.regav:this.viewData.regav},getAllDurations:function(){return this.viewData.durations},isToday:function(){return void 0!==this.firstDay&&void 0!==this.lastDay&&this.firstDay.unix()<Object(m.a)().unix()&&this.lastDay.unix()>Object(m.a)().unix()},staffExceptOwner:function(){var t=this;return this.windowStaff.filter(function(e){if(e.id!==t.modifiedEvent.staff_id)return e})},weekTitle:function(){return void 0!==this.firstDay?this.toLuxon(this.firstDay).toFormat(this.shortDayFormat)+" - "+this.toLuxon(this.lastDay).toFormat(this.shortDayFormat):""},weekTitleShort:function(){return void 0!==this.firstDay?this.firstDay.format("Do MMM")+" - "+this.lastDay.format("Do MMM"):""},getThisWeekIntervals:function(){var t=this.nowTime();if(void 0===t)return 0;var e=this.startTimeDisplayed();t.isSameOrAfter(e)||(t=e);var n=this.endTimeDisplayed();return null===this.intervalsCollection||void 0===n||void 0===t?0:this.intervalsCollection.get(t,n)},totalSlots:function(){return 0===this.getThisWeekIntervals?0:this.getThisWeekIntervals.splits(60*parseInt(this.selectedDuration)).totalSlots()},lastDay:function(){return m.a.tz(this.firstDay,this.displayTimezone).add(6,"day")},realFirstday:function(){return void 0!==this.firstDay&&this.firstDay.unix()>Object(m.a)().unix()?this.firstDay:Object(m.a)()},displayTimezone:function(){return void 0!==this.selectedTimezone?this.selectedTimezone:this.timezone}},methods:{toLuxon:function(t){return O.fromSeconds(t.unix()).setZone(this.displayTimezone)},initValueRequest:function(){var t=Wt(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceViewData.call("calendar");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),hasDotcom:function(){return this.isDotComConnected},changeActiveStaff:function(t){this.activeStaff=t,void 0!==this.queryParameters&&(this.queryParameters.timezone=this.activeStaff.options.timezone),this.reload(!0)},getPref:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cal_duration",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return-1===[void 0,!1,null,""].indexOf(this.viewData.preferences[t])?this.viewData.preferences[t]:e},checkQueryParams:function(){void 0!==window.savedQueries&&(this.queryParameters=window.savedQueries,-1===[null,void 0].indexOf(window.savedQueries.open_confirm)&&window.savedQueries.open_confirm>0&&(this.openconfirm=window.savedQueries.open_confirm))},resizeSlots:function(t){this.setInterval(t),this.reloadAfterChange()},reloadAfterChange:function(){this.fullCalOption=void 0,setTimeout(this.setFullCalOptions.bind(null,this.firstDay.format()),100)},savePreferences:function(t){this.minHour=t.minH,this.maxHour=t.maxH,this.viewData.preferences=t,this.resizeSlots(t.interval)},getEventsRequest:function(){var t=Wt(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={start:e.start.format(),end:e.end.format(),timezone:e.timezone,view:this.currentView},void 0!==this.activeStaff.id&&(n.staff_id=this.activeStaff.id),this.viewingFreeSlot&&(n.viewingFreeSlot=!0),t.next=5,this.serviceEvent.call("list",n,{"cal-maxH":this.maxHour,"cal-minH":this.minHour,"cal-duration":this.selectedDuration,"cal-appoint-col":this.viewData.preferences.cal_appoint_col,"cal-avail-col":this.viewData.preferences.cal_avail_col});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),fcalReady:function(){this.fcIsReady=!0},getFreeSlots:function(){this.viewingFreeSlot=!0,this.refreshEvents()},getEdition:function(){this.viewingFreeSlot=!1,this.refreshEvents()},hideRegavModal:function(){this.showRegularAv=!1,this.refreshEvents()},startTimeDisplayed:function(){if(this.fcIsReady&&void 0!==this.getDate())return this.getDate().tz(this.selectedTimezone).day(this.firstDay).hours(this.minHour)},nowTime:function(){if(null!==this.viewData&&void 0!==this.viewData.now)return m.a.tz(this.viewData.now,this.viewData.timezone)},endTimeDisplayed:function(){if(this.fcIsReady&&void 0!==this.getDate())return this.getDate().tz(this.selectedTimezone).add(6,"day").hours(this.maxHour)},updateTimezone:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.selectedTimezone=t,m.a.tz.setDefault(t),this.timezone=t,this.writeHistory(),!1===e&&this.reload()},setInterval:function(t){this.selectedDuration=t,this.intervals.hours=parseInt(this.selectedDuration/60),this.intervals.minutes=this.selectedDuration%60},convertInterval:function(){var t=this.intervals.hours,e=this.intervals.minutes;return(t=t>=1?t<10?"0"+t:t:"00")+":"+(e=e<10?"0"+e:e)},getStaffTz:function(){return!0!==this.viewData.legacy?this.activeStaff.options.timezone:this.activeStaff.t},loaded:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.viewData=t.data,!0===this.viewData.legacy)this.activeStaff=this.viewData.staff;else if(!1===n)if(void 0!==this.queryParameters&&void 0!==this.queryParameters.staff){var i=this.queryParameters.staff;this.activeStaff=this.viewData.staff.find(function(t){return t.id==i})}else this.activeStaff=this.viewData.staff[0];this.openedDays=this.activeRegav,this.intervalsCollection=new Ht.a(this.activeAvailability);var s=void 0!==this.queryParameters?this.queryParameters.timezone:this.getStaffTz();if(this.timezone=s,this.selectedTimezone=s,!1===e){this.viewData.time_format=Object(Lt.a)(this.viewData.time_format),this.viewData.date_format=Object(Lt.a)(this.viewData.date_format),this.setMinAndMax(),this.showWelcomePopup=this.viewData.showWelcome,this.setInterval(this.getPref("cal_duration",this.viewData.durations[0]));var o=this.getMinMaxHourFromRegav();this.minHour=o.min<this.getPref("cal_minH")?o.min:this.getPref("cal_minH"),this.maxHour=o.max>this.getPref("cal_maxH")?o.max:this.getPref("cal_maxH"),this.maxHour>24&&(this.maxHour=24)}var a=!1;void 0!==this.queryParameters&&(a=this.toMoment(this.queryParameters.start.replace(" ","+")).format()),this.setFullCalOptions(a)},getMinMaxHourFromRegav:function(){var t=this.getMinMaxRegav();return void 0!==this.openedDays.precise&&(t.min=Math.floor(t.min/60),t.max=Math.ceil(t.max/60)),{min:t.min<7?t.min:7,max:t.max>19?t.max:19}},getMinMaxRegav:function(){var t=!1,e=!1;for(var n in this.openedDays)if(this.openedDays.hasOwnProperty(n)){var i=this.openedDays[n];if(Array.isArray(i)&&i.length>0){var s=!0,o=!1,a=void 0;try{for(var r,c=i[Symbol.iterator]();!(s=(r=c.next()).done);s=!0){var l=r.value;t=l[0]<t||!1===t?l[0]:t,e=l[1]>e||!1===e?l[1]:e}}catch(t){o=!0,a=t}finally{try{!s&&c.return&&c.return()}finally{if(o)throw a}}}}return{min:t,max:e}},setFullCalOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.convertInterval();this.fullCalOption={events:{select:this.selectMethod,loading:this.isLoading,eventClick:this.clickEvent,eventMouseEnter:this.mouseEnter,eventMouseLeave:this.mouseLeave,eventDragStart:this.eventDragStart,eventDragStop:this.eventDragStop,eventDrop:this.eventPatch,eventResize:this.eventPatch,dateClick:this.dateClick},props:{header:{left:"",center:"",right:""},slotLabelInterval:e,slotDuration:e,showNonCurrentDates:!0,nowIndicator:!0,now:m.a.tz(this.viewData.now,this.viewData.timezone).tz(this.timezone).format(),weekends:!0,allDaySlot:!1,locale:window.waplocale,timeZone:this.displayTimezone,slotLabelFormat:this.viewData.time_format,eventTimeFormat:this.viewData.time_format,eventDurationEditable:!0,eventStartEditable:!0,selectable:!0,selectMirror:!0,selectMinDistance:10,selectAllow:this.selectAllow,defaultView:"timeGridWeek",columnHeaderFormat:this.headerDayFormat,firstDay:this.viewData.week_starts_on,minTime:this.minHour+":00",maxTime:this.maxHour+":00",navLinks:!1,editable:!0,eventLimit:!0,events:this.loadingEvents,eventAllow:this.eventAllow,eventRender:this.eventRender}},!1!==t&&(this.fullCalOption.props.defaultDate=t)},rescheduleOn:function(){this.rescheduleModeOn=!0},dateClick:function(t){if(this.canMoveReschedule){this.canMoveReschedule=!1,this.newStartDate=this.toMoment(t.dateStr);var e=this.toMoment(this.activeAppointment.end).unix()-this.toMoment(this.activeAppointment.start).unix();this.tempRescheduleEvent=this.$refs.calendar.getApi.addEvent({title:"confirm new event",start:this.toMoment(t.dateStr).format(),end:this.toMoment(t.dateStr).add(e,"seconds").format()})}},rescheduleDifferentTime:function(){this.canMoveReschedule=!0,null!==this.tempRescheduleEvent&&this.tempRescheduleEvent.remove()},acceptReschedule:function(){var t=this.toMoment(this.activeAppointment.end).unix()-this.toMoment(this.activeAppointment.start).unix();this.request(this.editEventRequest,{eventId:this.activeAppointment.extendedProps.dbid,start:this.newStartDate.unix(),end:this.newStartDate.unix()+t},void 0,!1,this.resetRescheduleMode)},resetRescheduleMode:function(){null!==this.tempRescheduleEvent&&this.tempRescheduleEvent.remove(),this.activeAppointment=null,this.rescheduleModeOn=!1,this.moveCursor=!1,this.canMoveReschedule=!0,this.newStartDate=null,this.refreshEvents()},mouseMove:function(t){this.rescheduleModeOn&&this.canMoveReschedule},distanceUpdate:function(t){return this.getDistance(t.x,t.y,this.moveCursor.x,this.moveCursor.y)>50},getDistance:function(t,e,n,i){var s=n-t,o=i-e;return Math.sqrt(o*o+s*s)},loadAgain:function(t){this.loaded({data:Object.assign({},this.viewData)},!0,t)},reload:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.fullCalOption=void 0,this.fcIsReady=!1,setTimeout(this.loadAgain.bind(null,t),100)},toMoment:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];return m.a.tz(t,this.timezone)},isInThePast:function(t){return m.a.tz(this.viewData.now,this.viewData.timezone).unix()>this.toMoment(t.start).unix()||m.a.tz(this.viewData.now,this.viewData.timezone).unix()>this.toMoment(t.end).unix()},eventAllow:function(t,e){return!this.isInThePast(t)&&e.extendedProps.allowedit},selectMethod:function(t){this.startTime=this.toMoment(t.startStr),this.startTimeLuxon=O.fromISO(t.startStr),this.endTimeLuxon=O.fromISO(t.endStr),this.realEndTime=this.toMoment(t.endStr),this.endTime=this.toMoment(t.endStr),this.openModalFreeTime()},openModalFreeTime:function(){this.openCreateModal()},formatTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!1===e&&(e=this.viewData.time_format),t.format(e)},hideModal:function(){this.popupActionVisible=!1,this.popupAppointmentVisible=!1},openCreateModal:function(){this.disableBgEvent=!1,this.popupActionVisible=!0},openAppointmentModal:function(t){this.disableBgEvent=!1,this.popupAppointmentVisible=!0,this.activeAppointment=t},hideWeeksControls:function(){this.dragActionsVisible=!1},showWeeksControls:function(){this.dragActionsVisible=!0},setMinAndMax:function(){for(var t in this.openedDays){var e=this.openedDays[t];if(Array.isArray(e)){var n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var r=o.value;!1===this.minHour&&(this.minHour=r[0],this.maxHour=r[1]),r[0]<this.minHour&&(r[0]>0?this.minHour=r[0]-1:this.minHour=0),r[1]>this.maxHour&&(r[1]<24?this.maxHour=r[1]+1:this.maxHour=24)}}catch(t){i=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw s}}}}this.minHour>0&&this.minHour--,this.maxHour<24&&this.maxHour++},callbackInternal:function(t){for(var e in this.events=t.data.events,this.events)if(this.events.hasOwnProperty(e)){this.events[e];this.events[e].dbid=this.events[e].delId,this.events[e].id=this.events[e].type+"-"+this.events[e].id,m.a.tz(this.viewData.now,this.viewData.timezone).unix()>m.a.tz(this.events[e].end,this.selectedTimezone).unix()?(this.events[e].allowedit=!1,this.events[e].past=!0):(this.events[e].allowedit=!0,this.events[e].past=!1),this.events[e]=Object.assign({},this.events[e])}this.$refs.calendar.option("now",t.data.now),this.intervalsCollection=null,this.intervalsCollection=new Ht.a(t.data.availability),this.callback(this.events),this.canLoadEvents=!0,this.$emit("fullyLoaded")},loadingEvents:function(t,e,n){this.callback=e;var i={};void 0!==this.queryParameters?(this.timezone=this.queryParameters.timezone,i={start:this.toMoment(this.queryParameters.start.replace(" ","+")),end:this.toMoment(this.queryParameters.end.replace(" ","+")),timezone:this.timezone},this.writeHistory()):i={start:this.toMoment(t.start),end:this.toMoment(t.end),timezone:this.timezone},this.firstDay=i.start,this.canLoadEvents&&(this.request(this.getEventsRequest,i,void 0,!1,this.callbackInternal),this.canLoadEvents=!1)},isLoading:function(t){this.observeNowIndicator()},getDate:function(){return this.toMoment(this.$refs.calendar.fireMethod("getDate"))},resetFirstDay:function(){this.firstDay=this.getDate().startOf("week")},nextWeek:function(){this.queryParameters=void 0,this.daysProperties=!1,this.firstDay=this.$refs.calendar.next(this.lastDay),this.hasBeenSetCalProps=!1,this.writeHistory()},prevWeek:function(){this.queryParameters=void 0,this.daysProperties=!1,this.firstDay=this.$refs.calendar.prev(this.firstDay),this.hasBeenSetCalProps=!1,this.writeHistory()},writeHistory:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];void 0!==this.firstDay&&(this.queryParameters={page:"wappointment_calendar",start:this.firstDay.format(),end:this.lastDay.format(),timezone:this.displayTimezone,staff:this.activeStaff.id},window.history.pushState({query:Object.assign({},this.queryParameters)},"Calendar week "+this.firstDay.format()+" - "+this.lastDay.format(),"admin.php?page=wappointment_calendar"+(!1===t?"&start="+this.firstDay.format()+"&end="+this.lastDay.format()+"&timezone="+this.displayTimezone+"&staff="+this.activeStaff.id:"")))},today:function(){this.queryParameters=void 0,this.daysProperties=!1,this.firstDay=void 0,this.hasBeenSetCalProps=!1,this.$refs.calendar.fireMethod("today"),this.refreshEvents(),this.writeHistory(!0)},monthView:function(){this.$refs.calendar.fireMethod("changeView","month"),this.currentView="month",this.refreshEvents(),this.resetFirstDay()},refreshEvents:function(){this.hasBeenSetCalProps=!1,this.$refs.calendar.refresh()}}},Qt=(n("6tnm"),Object(r.a)(Nt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.fcIsReady?n("StickyBar",[n("div",[n("div",{staticClass:"d-flex flex-wrap flex-md-nowrap justify-content-between"},[n("div",{staticClass:"d-flex"},[n("a",{staticClass:"btn btn-sm btn-secondary align-self-center",attrs:{href:"javascript:;"},on:{click:t.prevWeek}},[t._v("<")]),t._v(" "),n("h1",{staticClass:"h2 align-self-center",on:{click:t.refreshEvents}},[t._v(" "+t._s(t.weekTitle)+" ")]),t._v(" "),n("a",{staticClass:"btn btn-sm btn-secondary align-self-center",attrs:{href:"javascript:;"},on:{click:t.nextWeek}},[t._v(">")]),t._v(" "),n("div",{staticClass:"tt-below",attrs:{"data-tt":t.rolledOverName}},[void 0!==t.viewData.staff&&!0!==t.viewData.legacy?n("div",{staticClass:"d-flex staff-bar"},t._l(t.viewData.staff,function(e){return n("div",{staticClass:"cal-staff-img",class:{activeStaff:t.activeStaff.id==e.id},on:{click:function(n){t.changeActiveStaff(e)}}},[n("img",{staticClass:"wstaff-img",attrs:{src:e.avatar,title:e.name,alt:e.name},on:{mouseover:function(n){t.rolledOverName=e.name},mouseout:function(e){t.rolledOverName=""}}})])}),0):t._e()]),t._v(" "),n("FreeSlotsSelector",{attrs:{intervals:t.getThisWeekIntervals,viewingFreeSlot:t.viewingFreeSlot,durations:t.getAllDurations,buffer:t.viewData.buffer_time},on:{getFreeSlots:t.getFreeSlots,getEdition:t.getEdition}})],1),t._v(" "),n("div",{staticClass:"d-flex"},[null!==t.viewData?n("TimeZones",{attrs:{timezones:t.viewData.timezones_list,staffTimezone:t.viewData.timezone,classW:"align-self-center pr-2",labelDefault:"View in a different timezone",defaultTimezone:t.displayTimezone},on:{updateTimezone:t.updateTimezone}}):t._e(),t._v(" "),t.isToday?t._e():n("a",{staticClass:"btn btn-sm btn-secondary align-self-center",attrs:{href:"javascript:;"},on:{click:t.today}},[t._v(t._s(t.get_i18n("calendar_this_week","common")))])],1)]),t._v(" "),t.rescheduleModeOn?n("div",{attrs:{id:"follower"}},[t.canMoveReschedule?n("div",[t._v(t._s(t.get_i18n("click_for_new_start","calendar")))]):n("div",[t._v(t._s(t.get_i18n("confirm_new_start","calendar"))+" "),n("div",[t._v(t._s(t.formattedNewStart)+" ")]),t._v(" "),n("button",{staticClass:"btn btn-link",on:{click:t.resetRescheduleMode}},[t._v(t._s(t.get_i18n("cancel","common")))]),t._v(" "),n("button",{staticClass:"btn btn-secondary",on:{click:t.rescheduleDifferentTime}},[t._v(t._s(t.get_i18n("select_another_time","calendar")))]),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:t.acceptReschedule}},[t._v(t._s(t.get_i18n("reschedule","common")))])])]):t._e()])]):t._e(),t._v(" "),n("div",{staticClass:"full-width center-content calendar-wrap full-width-layout",on:{mousemove:t.mouseMove}},[t._e(),t._v(" "),n("div",{staticClass:"wrap"},[void 0!==t.fullCalOption?n("div",[n("div",{attrs:{id:"calendar"},on:{mouseover:function(e){t.showCalSettings=!0},mouseout:function(e){t.showCalSettings=!1!==t.lockCalSettings}}},[t.showCalSettings?n("div",[n("CalendarSettings",{attrs:{durations:t.getAllDurations,duration:t.selectedDuration,preferences:t.viewData.preferences,pminH:t.minHour,pmaxH:t.maxHour},on:{expanded:function(e){t.lockCalSettings=!0},reduced:function(e){t.lockCalSettings=!1},save:t.savePreferences}})],1):t._e(),t._v(" "),n("FullCalendarWrapper",{ref:"calendar",attrs:{config:t.fullCalOption},on:{isReady:t.fcalReady}})],1)]):t._e(),t._v(" "),null!==t.viewData?n("ControlBar",{attrs:{progressWizard:t.viewData.wizard_step}}):t._e(),t._v(" "),t.fcIsReady?n("div",[t.popupActionVisible?n("PopupActions",{attrs:{getThisWeekIntervals:t.getThisWeekIntervals,startTimeLuxon:t.startTimeLuxon,endTimeLuxon:t.endTimeLuxon,displayTimezone:t.displayTimezone,activeStaff:t.activeStaff,momenttz:t.momenttz,startTime:t.startTime,endTime:t.endTime,realEndTime:t.realEndTime,viewData:t.viewData},on:{refreshEvents:t.refreshEvents,hide:t.hideModal}}):t._e(),t._v(" "),t.popupAppointmentVisible?n("PopupAppointment",{attrs:{displayTimezone:t.displayTimezone,activeStaff:t.activeStaff,getThisWeekIntervals:t.getThisWeekIntervals,appointment:t.activeAppointment,momenttz:t.momenttz,viewData:t.viewData},on:{refreshEvents:t.refreshEvents,rescheduleOn:t.rescheduleOn,hide:t.hideModal}}):t._e(),t._v(" "),t.showRegularAv?n("WapModal",{attrs:{show:t.showRegularAv,large:""},on:{hide:t.hideRegavModal}},[n("h4",{staticClass:"modal-title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.get_i18n("modify_weekly_availability","calendar")))]),t._v(" "),n("WeeklyAvailability",{attrs:{noback:"",calendar:t.activeStaff,timezones_list:t.viewData.timezones_list,staffs:t.viewData.staff}}),t._v(" "),n("button",{staticClass:"btn btn-secondary btn-lg mt-2",attrs:{type:"button"},on:{click:t.hideRegavModal}},[t._v(t._s(t.get_i18n("close","common")))])],1):t._e(),t._v(" "),t.showWelcomePopup?n("WelcomeModal",{attrs:{passviewData:t.viewData,selectedDuration:t.selectedDuration,passshowWelcomePopup:t.showWelcomePopup,totalSlots:t.totalSlots},on:{refreshEvents:t.refreshEvents,refreshInitValue:t.refreshInitValue}}):t._e()],1):t._e()],1)],1),t._v(" "),t.fcIsReady?n("MainStyle",{attrs:{viewData:t.viewData}}):t._e()],1)},[],!1,null,null,null));e.default=Qt.exports},"FRc/":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.selected-service{\n    border-radius: .5rem;\n    margin: 1rem 0;\n    padding: .5rem !important;\n    background-color: var(--white);\n    color: var(--dark);\n    display: inline-block;\n    border: 2px dashed var(--primary);\n}\n.selected-service .text-dark, .selected-service .text-primary {\n    background-color: var(--secondary);\n    padding: .3em;\n    border-radius: .3em;\n}\n#wrapperAdmin .wbtn.wbtn-secondary.wbtn-cell .service-label{\n    text-align: left;\n    margin: 0 .8em;\n}\n\n",""])},G0ds:function(t,e,n){"use strict";var i={data:function(){return{selection:!1}},methods:{appointmentIsType:function(t){return this.selection==t||void 0!==this.appointment&&void 0!==this.appointment.type&&this.appointment.type==t}},computed:{phoneSelected:function(){return this.appointmentIsType("phone")},physicalSelected:function(){return this.appointmentIsType("physical")},skypeSelected:function(){return this.appointmentIsType("skype")},zoomSelected:function(){return this.appointmentIsType("zoom")}}},s=n("KHd+"),o=Object(s.a)(i,void 0,void 0,!1,null,null,null);e.a=o.exports},GDSN:function(t,e,n){var i=n("gnn1");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("14b33e1e",i,!0,{})},GQ6r:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.sm-box{\n    width : 325px;\n}\n",""])},H7Pi:function(t,e,n){"use strict";var i=n("ftQn");n.n(i).a},"I/71":function(t,e,n){"use strict";var i=n("5oH9"),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i["a"]),s(e,[{key:"endpoints",value:function(){return{search:{method:"post",route:"client/search"},book:{method:"post",route:"client/book"},index:{method:"get",route:"client"},save:{method:"post",route:"client"},delete:{method:"post",route:"client/delete"}}}}]),e}();e.a=o},J1PL:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wbtn-duration .wduration{\n    font-weight: normal;\n}\n.wbtn-duration .wduration.wsold::after{\n    content: ' - ';\n}\n",""])},JSzD:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.block-menu{\n    overflow: hidden;\n}\n.block-menu .btn-block{\n    text-align: left;\n    padding-left: 30px;\n}\n.block-menu .expand .dashicons.arrow-flip{\n  transition: transform .1s ease-in-out;\n}\n.block-menu .expand:hover .dashicons.arrow-flip{\n  transform: rotate(180deg);\n}\n.block-menu ul {\n    transition: all .3s cubic-bezier(1.0, 0.5, 0.8, 1.0);\n    margin-bottom: 0;\n}\n.block-menu.active  ul {\n    \n    display: block;\n}\n.block-menu h2{\n    font-size: 1.2rem;\n    margin: 0;\n}\n.block-menu .expand{\n    color: #191e23;\n    padding: .5rem;\n    cursor: pointer;\n    border-bottom: 1px solid #ececec;\n    border-top: 1px solid #ececec;\n}\n\n",""])},Jvpg:function(t,e,n){"use strict";var i={props:["service","options","selected","viewData","extraClass"],name:"ServiceButton",mixins:[n("OiRY").a],computed:{priceAlignRight:function(){return-1===[void 0,!1].indexOf(this.options.service_selection.check_price_right)},getClasses:function(){var t="wbtn wbtn-cell wbtn-secondary wbtn-service d-flex align-items-center";return""!=this.extraClass&&(t+=" "+this.extraClass),!0===this.selected&&(t+=" selected"),t},serviceHasIcon:function(){return""!=this.service.options.icon},sellable:function(){return this.service.options.woo_sellable&&this.hasPrice&&""!=this.currency},hasPrice:function(){return this.getPrices.length>0},getPrices:function(){for(var t=[],e=0;e<this.service.options.durations.length;e++){var n=this.service.options.durations[e];-1===[void 0,""].indexOf(n.woo_price)&&t.push(n.woo_price)}return t},hasDesc:function(){return-1===["",void 0].indexOf(this.service.options.description)},getPriceRange:function(){var t=this.getPrices;return t.length>1?this.formatPrice(Math.min.apply(null,t))+" - "+this.formatPrice(Math.max.apply(null,t)):this.formatPrice(t[0])}},methods:{selectService:function(){this.$emit("selectService",this.service)}}},s=(n("L8vv"),n("KHd+")),o=Object(s.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getClasses,on:{click:t.selectService}},[t.serviceHasIcon?n("WapImage",{attrs:{element:t.service,desc:t.service.name,size:"lg"}}):t._e(),t._v(" "),n("div",{staticClass:"service-label"},[n("div",{staticClass:"service-name"},[t._v(t._s(t.service.name))]),t._v(" "),t.hasDesc?n("div",{staticClass:"description"},[t._v(t._s(t.service.options.description))]):t._e(),t._v(" "),t.sellable&&!t.priceAlignRight?n("div",{staticClass:"service-price"},[t._v(t._s(t.getPriceRange))]):t._e(),t._v(" "),t._t("default")],2),t._v(" "),t.sellable&&t.priceAlignRight?n("div",{staticClass:"service-price price-right",class:{als:t.hasDesc}},[t._v(t._s(t.getPriceRange))]):t._e()],1)},[],!1,null,null,null);e.a=o.exports},KH6Y:function(t,e,n){"use strict";var i={d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S:"o",w:"e",z:"DDD",W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t:"",L:"",o:"YYYY",Y:"YYYY",y:"YY",a:"a",A:"A",B:"",g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"SSS",v:"",e:"zz",I:"",O:"",P:"",T:"",Z:"",c:"",r:"",U:"X"};e.a=function(t){for(var e=Object.keys(i),n=0;n<e.length;n++)void 0!==e[n]&&(t=t.replace("\\"+e[n],"["+e[n]+"]"));for(var s="",o=!1,a=0;a<t.length;a++)"["==t[a]&&(o=!0),void 0===i[t[a]]||o?s+=t[a]:s+=i[t[a]],"]"==t[a]&&(o=!1);return s}},L6tM:function(t,e,n){var i=n("Dla0");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("76b64936",i,!0,{})},L8vv:function(t,e,n){"use strict";var i=n("8MlL");n.n(i).a},LFG5:function(t,e,n){var i=n("0LHV");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("89ba4b2e",i,!0,{})},LNkL:function(t,e,n){"use strict";var i={props:{options:{},tos:{type:Boolean,default:!1}},computed:{getTerms:function(){return this.tos?this.getTos:this.getPP},termsIsOn:function(){return!0===this.getCheck},getTos:function(){return this.getPP.replace("[linktos]",'<a href="'+this.cleanString(this.options.swift_payment.tos_link)+'" target="_blank">').replace("[/linktos]","</a>")},getPP:function(){return this.cleanString(this.getText).replace("[link]",'<a href="'+this.cleanString(this.options.form.terms_link)+'" target="_blank">').replace("[/link]","</a>")},getCheck:function(){return this.tos?this.options.swift_payment.check_tos:this.options.form.check_terms},getText:function(){return this.tos?this.options.swift_payment.tos_text:this.options.form.terms}}},s=(n("OBPl"),n("KHd+")),o=Object(s.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return this.termsIsOn?e("div",{staticClass:"wap-terms",domProps:{innerHTML:this._s(this.getTerms)}}):this._e()},[],!1,null,null,null);e.a=o.exports},NwSl:function(t,e,n){var i=n("o38m");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("36b9fc60",i,!0,{})},OBPl:function(t,e,n){"use strict";var i=n("5yDa");n.n(i).a},OiRY:function(t,e,n){"use strict";var i={computed:{currency:function(){return this.currencySymb},priceFormat:function(){return this.wooAddonActive?window.wappointment_woocommerce.currency_format:window.apiWappointment.currency.format},wooAddonActive:function(){return void 0!==window.wappointment_woocommerce&&window.wappointment_woocommerce.installed_at},wooCurrency:function(){return this.wooAddonActive?window.wappointment_woocommerce.currency_symbol:""},wooCurrencyText:function(){return this.wooAddonActive?window.wappointment_woocommerce.currency_text:""},currencySeparator:function(){return this.wooAddonActive?window.wappointment_woocommerce.decimals_sep:window.apiWappointment.currency.decimals_sep},thousandSeparator:function(){return this.wooAddonActive?window.wappointment_woocommerce.thousand_sep:window.apiWappointment.currency.thousand_sep},wappoCurrencyText:function(){return window.apiWappointment.currency.code+" - "+this.wappoCurrency},wappoCurrency:function(){return window.apiWappointment.currency.symbol},currencyCode:function(){return window.apiWappointment.currency.code},currencySymb:function(){return this.wooAddonActive?this.wooCurrency:this.wappoCurrency},currencyText:function(){return this.wooAddonActive?this.wooCurrencyText:this.wappoCurrencyText}},methods:{canSell:function(t){return this.sellable&&""!==this.currency&&-1===[void 0,""].indexOf(t.woo_price)},formatPrice:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.priceFormat.replace("[currency]",this.currency).replace("[price]",this.formatThousands(this.displayCents(t*(e?1:100))))},formatCentsPrice:function(t){return this.formatPrice(t,!0)},displayCents:function(t){var e=t/100;return!1===this.currencySeparator?Math.floor(e):e.toFixed(2).replace(".",this.currencySeparator)},formatThousands:function(t){for(var e=t.toString(),n="",i=(!1===this.currencySeparator?e:e.split(this.currencySeparator)[0]).split("").reverse().join(""),s=0;s<i.length;s++)n+=i[s]+((s+1)%3==0&&i.length>s+1?this.thousandSeparator:"");return n.split("").reverse().join("")+(!1===this.currencySeparator?"":this.currencySeparator+e.split(this.currencySeparator)[1])}}},s=n("KHd+"),o=Object(s.a)(i,void 0,void 0,!1,null,null,null);e.a=o.exports},QAzU:function(t,e,n){"use strict";var i=n("L6tM");n.n(i).a},Qhnu:function(t,e,n){"use strict";var i=n("VaI0");n.n(i).a},Qi5d:function(t,e,n){"use strict";var i=n("FYyN"),s=n("c+oO"),o=n("ZfG2");var a,r,c={mixins:[i.a],components:{SearchDropdown:o.a},props:{preview:{type:Boolean,default:!0},title:{type:String,default:""},calendar_id:{default:!1},service_id:{default:!1},calendars:{default:null},services:{default:null},simple:{default:!1},canLockStaff:{default:!1},canLockService:{default:!1},popupInit:{default:!1}},data:function(){return{large:!1,open:!1,popup:!1,close_cross:!1,random:!1,center:!1,week:!1,staffpage:!1,titleGiven:"",active_staff_id:!1,active_service_id:!1,calendars_data:null,services_data:null,servicesService:null,calendarsService:null}},created:function(){this.titleGiven=this.title,this.active_staff_id=this.calendar_id,this.active_service_id=this.service_id,this.calendarsService=this.$vueService(new s.a),this.popup=this.popupInit,this.services&&this.calendars?this.setBaseData(this.calendars,this.services):this.loadCalendars()},methods:{setBaseData:function(t,e){this.calendars_data=t,this.services_data=e},loadCalendars:function(){this.request(this.requestCalendars,{},void 0,!1,this.loadedCalendars)},loadedCalendars:function(t){this.setBaseData(t.data.calendars,t.data.services)},requestCalendars:(a=regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.calendarsService.call("index",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}),r=function(){var t=a.apply(this,arguments);return new Promise(function(e,n){return function i(s,o){try{var a=t[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});e(r)}("next")})},function(t){return r.apply(this,arguments)})},watch:{active_staff_id:function(t){-1===[void 0,!1,""].indexOf(t)&&(this.staffpage=!1)},popup:function(t){t&&(this.center=!1,this.large=!1)},staffpage:function(t){t&&(this.random=!1)}},computed:{staffSelected:function(){return-1===[void 0,!1,""].indexOf(this.active_staff_id)},filteredCalendars:function(){if(this.active_service_id&&this.calendars_data){var t=this.active_service_id;return this.calendars_data.filter(function(e){return-1!==e.services.indexOf(t)})}return this.calendars_data},filteredServices:function(){if(this.active_staff_id&&this.services_data){var t=this.active_staff_id,e=this.calendars_data.find(function(e){return e.id==t}).services;return this.services_data.filter(function(t){return-1!==e.indexOf(t.id)})}return this.services_data},getShortCode:function(){var t='wap_widget title="'+this.titleGiven+'"';return t+=this.large?" large ":"",t+=this.open?" open ":"",t+=this.popup?" popup ":"",t+=this.close_cross?" close_cross ":"",t+=this.center?" center ":"",t+=this.week?" week ":"",t+=this.staffpage?" staff_page ":"",t+=this.random?" random ":"",t+=this.active_staff_id?' staff="'+this.active_staff_id+'" ':"",t="["+(t+=this.active_service_id?' service="'+this.active_service_id+'" ':"")+"]",this.$emit("change",t,{largeVersion:this.large,autoOpen:this.open,popup:this.popup,close_cross:this.close_cross,week:this.week,center:this.center,staffPage:this.staffpage,random:this.random,buttonTitle:this.titleGiven}),t},previewSCimg:function(){var t="widget_"+(this.open?"cal_":"")+(this.large?"lg":this.center?"sm-c":"sm")+".svg";return window.apiWappointment.resourcesUrl+"images/"+t}}},l=(n("xX18"),n("KHd+")),d=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex align-items-center justify-content-between"},[n("div",{staticClass:"commands-div"},[n("div",{attrs:{"data-tt":"Booking button's title"}},[n("label",[n("InputPh",{attrs:{ph:t.get_i18n("bwe_widget_button_title","common")},model:{value:t.titleGiven,callback:function(e){t.titleGiven=e},expression:"titleGiven"}})],1)]),t._v(" "),n("div",{attrs:{"data-tt":t.get_i18n("bwe_widget_ck_fs_popup_tip","common")}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.popup,expression:"popup"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.popup)?t._i(t.popup,null)>-1:t.popup},on:{change:function(e){var n=t.popup,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.popup=n.concat([null])):o>-1&&(t.popup=n.slice(0,o).concat(n.slice(o+1)))}else t.popup=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_fs_popup","common")))])]),t._v(" "),t.popup?n("div",{staticClass:"ml-2"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.close_cross,expression:"close_cross"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.close_cross)?t._i(t.close_cross,null)>-1:t.close_cross},on:{change:function(e){var n=t.close_cross,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.close_cross=n.concat([null])):o>-1&&(t.close_cross=n.slice(0,o).concat(n.slice(o+1)))}else t.close_cross=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_fs_popup_closes","common")))])]):t._e(),t._v(" "),n("div",{attrs:{"data-tt":"Center the widget within the container"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.center,expression:"center"}],attrs:{type:"checkbox",disabled:t.popup},domProps:{checked:Array.isArray(t.center)?t._i(t.center,null)>-1:t.center},on:{change:function(e){var n=t.center,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.center=n.concat([null])):o>-1&&(t.center=n.slice(0,o).concat(n.slice(o+1)))}else t.center=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_center","common")))])]),t._v(" "),n("div",{attrs:{"data-tt":"Opens the calendar's step automatically"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.open,expression:"open"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.open)?t._i(t.open,null)>-1:t.open},on:{change:function(e){var n=t.open,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.open=n.concat([null])):o>-1&&(t.open=n.slice(0,o).concat(n.slice(o+1)))}else t.open=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_open","common")))])]),t._v(" "),n("div",{attrs:{"data-tt":"Calendar will expand to the container's width"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.large,expression:"large"}],attrs:{type:"checkbox",disabled:t.popup},domProps:{checked:Array.isArray(t.large)?t._i(t.large,null)>-1:t.large},on:{change:function(e){var n=t.large,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.large=n.concat([null])):o>-1&&(t.large=n.slice(0,o).concat(n.slice(o+1)))}else t.large=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_full","common")))])]),t._v(" "),n("div",{attrs:{"data-tt":"Show a week view instead of the full month"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.week,expression:"week"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.week)?t._i(t.week,null)>-1:t.week},on:{change:function(e){var n=t.week,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.week=n.concat([null])):o>-1&&(t.week=n.slice(0,o).concat(n.slice(o+1)))}else t.week=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_week","common")))])]),t._v(" "),n("div",{attrs:{"data-tt":"The first screen in your booking form will be a staff selection page(if you have more than one staff)"}},[n("label",{class:{"text-muted":t.staffSelected}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.staffpage,expression:"staffpage"}],attrs:{disabled:t.staffSelected,type:"checkbox"},domProps:{checked:Array.isArray(t.staffpage)?t._i(t.staffpage,null)>-1:t.staffpage},on:{change:function(e){var n=t.staffpage,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.staffpage=n.concat([null])):o>-1&&(t.staffpage=n.slice(0,o).concat(n.slice(o+1)))}else t.staffpage=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_staff","common")))])]),t._v(" "),n("div",{attrs:{"data-tt":"Random selection of the staff"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.random,expression:"random"}],attrs:{type:"checkbox",disabled:t.staffpage},domProps:{checked:Array.isArray(t.random)?t._i(t.random,null)>-1:t.random},on:{change:function(e){var n=t.random,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.random=n.concat([null])):o>-1&&(t.random=n.slice(0,o).concat(n.slice(o+1)))}else t.random=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_random","common")))])]),t._v(" "),t.simple?t._e():[t.filteredCalendars?n("div",[n("SearchDropdown",{attrs:{ph:"Lock Calendar/Staff",elements:t.filteredCalendars,labelSearchKey:"name"},model:{value:t.active_staff_id,callback:function(e){t.active_staff_id=e},expression:"active_staff_id"}})],1):t._e(),t._v(" "),t.filteredServices?n("div",{staticClass:"mt-2"},[n("SearchDropdown",{attrs:{ph:"Lock Service",elements:t.filteredServices,labelSearchKey:"name"},model:{value:t.active_service_id,callback:function(e){t.active_service_id=e},expression:"active_service_id"}})],1):t._e()]],2),t._v(" "),t.preview?n("div",[n("img",{staticClass:"img-fluid",attrs:{src:t.previewSCimg,alt:"preview booking button shape",width:"100"}})]):t._e(),t._v(" "),n("span",{staticStyle:{display:"none"}},[t._v(t._s(t.getShortCode))])])},[],!1,null,null,null);e.a=d.exports},"R+kQ":function(t,e,n){var i=n("Acyh");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("7b2762cc",i,!0,{})},SGSy:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n#sidebar {\n    position: fixed;\n    top: 82px;\n    right: 0;\n    height: 100vh;\n    z-index: 29;\n    transition: right .3s cubic-bezier(0.755, 0.050, 0.855, 0.060);\n}\n#sidebar.collapsed{\n    right: -250px;\n}\n#sidebar > .d-flex {\n    height: 100%\n}\n#sidebar .collapsebtn{\n    background-image: linear-gradient(to right, transparent, rgba(0,0,0,.1));\n    width:1rem;\n    cursor:pointer;\n}\n#sidebar .collapsebtn .dashicons{\n    position: absolute;\n    top: 50%;\n}\n#sidebar .items{\n    width: 250px;\n    background-color: rgba(255,255,255,.9);\n    box-shadow: 0 .01rem .6rem 0 rgba(0,0,0,.1);\n    border-left: 1px solid #ececec;\n}\n#sidebar .collapsebtn .dashicons{\n  transition: all .1s ease-in-out;\n}\n#sidebar .collapsebtn:hover .dashicons{\n  transform: rotate(180deg);\n}\n@media (max-width: 470px) {\n#sidebar {\n        top: 106px;\n}\n}\n\n",""])},VQM7:function(t,e,n){"use strict";var i=n("gzyJ"),s=n("5qZH"),o=n("whSN"),a=n("mkhk"),r=n("wUn3"),c=n("76M+"),l=function(t){return{component:t,loading:r.a,error:c.a,delay:100,timeout:3e4}},d=n("tOgP"),u={mixins:[o.a,a.a,d.a],props:["classEl","options","step","attributesEl"],components:{BookingButton:i.a,StyleGenerator:s.a,ViewingAppointment:function(){return l(Promise.all([n.e(5),n.e(4),n.e(21)]).then(n.bind(null,"ALPF")))},BookingForm:function(){return l(Promise.all([n.e(2),n.e(5),n.e(4),n.e(13)]).then(n.bind(null,"gIVG")))}},data:function(){return{bookForm:!1,currentStep:null,dataSent:null,opts:null,elementId:"",stepName:"",buttonTitle:"",brFixed:void 0,popup:!1,largeVersion:!1,autoPop:!0,closeCross:!1,demoAs:!1,stepChanging:!1}},created:function(){this.elementId="wapfrontwrapper-"+Date.now(),void 0!==this.step&&(this.currentStep=this.step),this.opts=void 0===this.options?Object.assign({},window.widgetWappointment):Object.assign({},this.options),this.processShortcode()},mounted:function(){this.processAutoOpens()},watch:{step:function(t){this.currentStep=t},currentStep:function(t){void 0!==t&&(this.bookForm=-1===["button"].indexOf(t))},bookForm:function(t){!1===t&&this.$emit("changedStep","button")}},computed:{attributesElProcess:function(){var t=Object.assign({},this.attributesEl);return this.getParameterByName("staff")&&(t.staffSelection=this.getParameterByName("staff")),this.isNewEventPage&&(t.staffPage=1),this.castAttributes(t)},getStepName:function(){return"step-"+(this.bookForm?this.stepName:"button")},getWidClass:function(){return{"wap-abs":this.hasCloseCross&&this.isMobilePhone&&this.autoPop,"d-flex justify-content-center":1==this.attributesEl.center}},bgEnabled:function(){return this.bookForm&&(this.isBottomRight||this.isMobilePhone||this.popup)},canPop:function(){return this.bgEnabled&&this.isMobilePhone&&this.autoPop},isExpanded:function(){return this.bookForm&&this.canPop},isPoppedUp:function(){return this.popup&&this.bookForm},hasCloseCross:function(){return this.bgEnabled&&(this.isBottomRight||this.isExpanded||this.isPoppedUp)},getDynaClasses:function(){var t={"br-fixed":this.isBottomRight,"large-version":this.largeVersion,wmobile:this.isMobilePhone,wdesk:!this.isMobilePhone,wexpanded:this.isExpanded,poppedup:this.isPoppedUp};return-1===[null,void 0,!1].indexOf(this.getWidthClass)&&(t[this.getWidthClass]=!0),-1===[null,void 0,!1].indexOf(this.getParameterByName("view"))&&(t[this.getParameterByName("view")]=!0),t},getElement:function(){return!(!this.elementId||!1!==this.stepChanging)&&document.getElementById(this.elementId)},getWidthClass:function(){if(-1===[null,!1].indexOf(this.getElement)){if(this.getElement.clientWidth>360)return"over360";if(this.getElement.clientWidth>320)return"over320";if(this.getElement.clientWidth>280)return"over280"}},isPortraitMode:function(){return window.innerHeight>window.innerWidth},isMobilePhone:function(){return window.innerWidth<500&&this.isPortraitMode},realButtonTitle:function(){return void 0!==this.options&&void 0!==this.options.button.title?this.options.button.title:this.buttonTitle},isPage:function(){return"wappointment_page"===this.classEl},isBookingPage:function(){return this.isPage&&this.isNewEventPage},isNewEventPage:function(){return"new-event"===this.getParameterByName("view")},isWidget:function(){return"wappointment_widget"===this.classEl},isBottomRight:function(){return void 0!==this.brFixed&&!0===this.brFixed},getView:function(){return this.step||this.getParameterByName("view")},hasAttributesToProcess:function(){return void 0!==this.attributesEl&&Object.keys(this.attributesEl).length>0}},methods:{serviceSelectionAttribute:function(){for(var t=-1!==this.attributesEl.serviceSelection.indexOf(",")?this.attributesEl.serviceSelection.split(","):[this.attributesEl.serviceSelection],e=0;e<t.length;e++)t[e]=parseInt(t[e]);return t},castAttributes:function(t){for(var e=["staffSelection"],n=0;n<e.length;n++){var i=e[n];t[i]&&(t[i]=parseInt(t[i]))}return void 0!==t.serviceSelection&&(t.serviceSelection=this.serviceSelectionAttribute()),t},stepChanged:function(t){this.stepName=t,this.stepChanging=!0,setTimeout(this.changedStep,200)},changedStep:function(){this.stepChanging=!1},processShortcode:function(){this.hasAttributesToProcess&&(this.buttonTitle=void 0!==this.attributesEl.buttonTitle?this.attributesEl.buttonTitle:this.buttonTitle,this.brFixed=void 0!==this.attributesEl.brcFloats,this.demoAs=void 0!==this.attributesEl.demoAs,this.largeVersion=-1===[void 0,!1].indexOf(this.attributesEl.largeVersion),this.opts.selection.check_viewweek=-1===[void 0,!1].indexOf(this.attributesEl.week),this.autoPop=-1!==[void 0,!1].indexOf(this.attributesEl.popOff),this.popup=this.attributeIsEmpty("popup")&&!this.demoAs,this.closeCross=void 0!==this.attributesEl.closeCross,this.opts.attributesEl=Object.assign({},this.attributesEl))},attributeIsEmpty:function(t){return-1===[!1,void 0].indexOf(this.attributesEl[t])},translateAttributesEl:function(){var t={};for(var e in this.attributesEl)this.attributesEl.hasOwnProperty(e)&&-1!==["buttonTitle","brFixed","demoAs","largeVersion","week","popOff","autoOpen","autoPop","staffSelection","serviceSelection"].indexOf(e)&&(t[e]=this.attributesEl[e]);return t},processAutoOpens:function(){this.hasAttributesToProcess&&-1===[void 0,!1].indexOf(this.attributesEl.autoOpen)&&(this.autoPop=-1===[void 0,!1].indexOf(this.attributesEl.autoPop),this.toggleBookForm())},backToButtonFromBg:function(){return(!this.closeCross||!this.isPoppedUp)&&(this.backToButton(),!0)},backToButton:function(){if((this.canPop||this.popup)&&(document.documentElement.classList.remove("wappo-popped"),document.body.classList.remove("wappo-popped")),this.popup){var t=document.getElementById("clone-"+this.elementId),e=t.getElementsByClassName("wap-front")[0];document.getElementById(this.elementId).appendChild(e),t.remove()}this.bookForm=!1},toggleBookForm:function(){if(this.bookForm=!this.bookForm,this.popup){var t=document.getElementById(this.elementId).getElementsByClassName("wap-front")[0],e=document.createElement("div");e.setAttribute("id","clone-"+this.elementId),document.getElementById("wap-footer-container").appendChild(e),e.appendChild(t)}(this.canPop||this.popup)&&(document.body.classList.add("wappo-popped"),document.documentElement.classList.add("wappo-popped"))}}},p=(n("squi"),n("KHd+")),h=Object(p.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:t.elementId}},[n("div",{staticClass:"wap-front",class:t.getDynaClasses},[n("StyleGenerator",{attrs:{options:t.opts,wrapper:t.elementId,largeVersion:t.largeVersion}}),t._v(" "),t.isPage?n("div",{class:"step-"+t.stepName},[t.isBookingPage?n("BookingForm",{attrs:{options:t.opts,wrapperid:t.elementId,attributesEl:t.attributesElProcess},on:{changedStep:t.stepChanged}}):n("ViewingAppointment",{attrs:{options:t.opts,view:t.getView,appointmentkey:t.getParameterByName("appointmentkey")}})],1):t._e(),t._v(" "),n("div",{staticClass:"wappo_module",class:t.getWidClass,on:{click:function(e){return e.target!==e.currentTarget?null:t.backToButtonFromBg(e)}}},[t.isWidget?n("div",{staticClass:"wap-wid wclosable",class:t.getStepName},[t.hasCloseCross?n("span",{staticClass:"wclose",on:{click:t.backToButton}}):t._e(),t._v(" "),t.bookForm?n("BookingForm",{attrs:{demoAs:t.demoAs,step:t.currentStep,options:t.opts,attributesEl:t.attributesElProcess,wrapperid:t.elementId,passedDataSent:t.dataSent},on:{changedStep:t.stepChanged}}):n("BookingButton",{staticClass:"wbtn wbtn-booking wbtn-primary",attrs:{options:t.opts},on:{click:t.toggleBookForm}},[t._v(t._s(t.realButtonTitle))])],1):t._e()]),t._v(" "),t.bgEnabled?n("div",{staticClass:"wap-bg",on:{click:t.backToButtonFromBg}}):t._e()],1)])},[],!1,null,null,null);e.a=h.exports},VYcA:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.client-appointment{\n\tmax-width: 270px;\n\tbackground: #f9f9f9;\n\tpadding: .6em;\n\tborder-radius: .3em;\n}\n.fc-event .img-bw{\n  filter: grayscale(1);\n  border-radius: 50%;\n  width: 15px;\n  height: 15px;\n}\n.fc-event.hover .img-bw{\n  filter: none;\n}\n.rounded-circle.img-fluid.img-max {\n    max-width: 40px;\n}\n",""])},VaHL:function(t,e,n){"use strict";var i=n("GDSN");n.n(i).a},VaI0:function(t,e,n){var i=n("xhmi");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("5f99b809",i,!0,{})},VjjH:function(t,e,n){"use strict";var i=n("9MH3");n.n(i).a},W79H:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-front.large-version .wap-wid.step-BookingServiceSelection {\n    max-width:100%;\n}\n",""])},X8YZ:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wappo-error {\n    background-color:#c86b5b;\n    color:#fff;\n    padding: .5em;\n    border-radius: .4em;\n}\n.wappo-error a {\n    color: #33c5ff;\n    text-decoration: underline;\n}\n",""])},XC6E:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!1===n){this.intervals=[];var i=e.sort(function(t,e){return t[0]>e[0]?1:-1}),s=!0,o=!1,a=void 0;try{for(var r,c=i[Symbol.iterator]();!(s=(r=c.next()).done);s=!0){var l=r.value;l.length>2?this.intervals.push({start:l[0],end:l[1],left:parseInt(l[2]),service:l[3],edit_key:l[4]}):this.intervals.push({start:l[0],end:l[1]})}}catch(t){o=!0,a=t}finally{try{!s&&c.return&&c.return()}finally{if(o)throw a}}}else this.intervals=e}return i(t,[{key:"get",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=[];if(!1===e)return new t(s,!0);var o=!0,a=!1,r=void 0;try{for(var c,l=this.intervals[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var d=c.value;if((!1===i||void 0===d.service||d.service===i)&&!(d.start>=d.end)){var u={start:e.unix(),end:n.unix()};if(this.intersecting(u,d))if(this.aContainsB(u,d)){var p=Object.assign({},d);s.push(Object.assign(p,{start:d.start,end:d.end,duration:d.end-d.start,llave:"a"}))}else{var h=Object.assign({},d);h=u.start>d.start?u.end<d.end?Object.assign(h,{start:u.start,end:u.end,duration:u.end-u.start,llave:"b1"}):Object.assign(h,{start:u.start,end:d.end,duration:d.end-u.start,llave:"b2"}):u.end<=d.end?Object.assign(h,{start:d.start,end:u.end,duration:u.end-d.start,llave:"c"}):Object.assign(h,{start:d.start,end:d.end,duration:d.end-d.start,llave:"c"}),s.push(h)}}}}catch(t){a=!0,r=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}return new t(s,!0)}},{key:"substract",value:function(e){for(var n=0;n<this.intervals.length;n++){var i=this.intervals[n];if(!Array.isArray(i)){var s=!0,o=!1,a=void 0;try{for(var r,c=e.intervals[Symbol.iterator]();!(s=(r=c.next()).done);s=!0){var l=r.value;this.intersecting(i,l)&&(this.aContainsB(i,l)?this.intervals[n]=this.aMinusBWhenContaining(i,l):this.intervals[n]=this.aMinusBWhenIntersect(i,l))}}catch(t){o=!0,a=t}finally{try{!s&&c.return&&c.return()}finally{if(o)throw a}}}}var d=[],u=!0,p=!1,h=void 0;try{for(var f,v=this.intervals[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var m=f.value;if(Array.isArray(m)){var g=!0,b=!1,w=void 0;try{for(var _,y=m[Symbol.iterator]();!(g=(_=y.next()).done);g=!0){var x=_.value;d.push(x)}}catch(t){b=!0,w=t}finally{try{!g&&y.return&&y.return()}finally{if(b)throw w}}}else m&&d.push(m)}}catch(t){p=!0,h=t}finally{try{!u&&v.return&&v.return()}finally{if(p)throw h}}return new t(d,!0)}},{key:"aMinusBWhenContaining",value:function(t,e){var n=[];return n.push({start:t.start,end:e.start,duration:e.start-t.start}),n.push({start:e.end,end:t.end,duration:e.end-t.end}),n}},{key:"aMinusBWhenIntersect",value:function(t,e){if(t.start>=e.start){if(t.end>e.end)return{start:e.end,end:t.end,duration:t.end-e.end}}else if(t.end<e.end)return{start:t.start,end:e.start,duration:e.start-t.start};return!1}},{key:"intersecting",value:function(t,e){return!(t.start>=e.end||t.end<=e.start)}},{key:"aContainsB",value:function(t,e){return t.start<e.start&&t.end>e.end}},{key:"arrayToInterval",value:function(e){return new t(e)}},{key:"splits",value:function(e){var n=[],i=!0,s=!1,o=void 0;try{for(var a,r=this.intervals[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var c=a.value;c.slots=Math.floor(c.duration/e),n.push(c)}}catch(t){s=!0,o=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw o}}return new t(n,!0)}},{key:"totalSlots",value:function(){var t=0,e=!0,n=!1,i=void 0;try{for(var s,o=this.intervals[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var a=s.value;void 0!==a.slots&&(t+=a.slots)}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}return t}}]),t}();e.a=s},Xx3G:function(t,e,n){var i=n("W79H");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("498d5bce",i,!0,{})},aKqD:function(t,e,n){"use strict";var i=n("2RkK");n.n(i).a},c4fg:function(t,e,n){var i=n("GQ6r");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("2030b0b6",i,!0,{})},es6V:function(t,e,n){"use strict";var i=n("NwSl");n.n(i).a},fP5I:function(t,e,n){"use strict";var i=n("5oH9"),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i["a"]),s(e,[{key:"endpoints",value:function(){return{save:{method:"post",route:"booking"},reschedule:{method:"patch",route:"booking"},get:{method:"get",route:"booking"},delete:{method:"delete",route:"booking"},convertDate:{method:"post",route:"convertDate"}}}}]),e}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i["a"]),a(e,[{key:"endpoints",value:function(){return{get:{method:"get",route:"availability"}}}}]),e}(),c=n("+fxr"),l=n("MkfN"),d=n("eWXC"),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var p,h,f={mixins:[l.a],data:function(){return{serviceBooking:null,serviceAvailability:null,loading:!1,errorMessages:[],viewName:null,viewData:null}},created:function(){d.a.listens("beforeRequest",this.beforeRequest),this.serviceBooking=this.$vueService(new o),this.serviceAvailability=this.$vueService(new r)},components:{Loader:c.a},methods:{refreshInitValue:function(){this.loading=!0,this.initValueRequest().then(this.loaded).catch(this.serviceError)},loaded:function(t){var e=this.issueResponseDetected(t);if(e)return this.serviceError({message:"Server response altered, make sure your WordPress' site does not display server errors.",submessage:["-----------","Read this:","https://wappointment.com/docs/unidentified-error/","-----------","Error detected: ",e]}),!1;this.viewData=t.data,this.loading=!1,void 0!==this.loadedAfter&&this.loadedAfter()},issueResponseDetected:function(t){if(!this.responseDataIsObject(t)&&void 0!==t.request&&void 0!==t.request.response){var e=t.request.response.trim();if("{"!==e.charAt(0))return e.split("{")[0]}return!1},responseDataIsObject:function(t){return"object"==u(t.data)&&Object.keys(t.data).length>0},beforeRequest:function(){this.errorMessages=[]},initValueRequest:(p=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceAvailability.call("get");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}),h=function(){var t=p.apply(this,arguments);return new Promise(function(e,n){return function i(s,o){try{var a=t[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});e(r)}("next")})},function(){return h.apply(this,arguments)}),serviceError:function(t){if(this.loading=!1,void 0!==t.response)void 0!==t.response.data.message&&this.errorMessages.push(t.response.data.message),void 0!==t.response.data.data.errors&&this.lengthGreaterThan(t.response.data.data.errors,0)&&this.lengthGreaterThan(t.response.data.data.errors,0)&&(this.errorMessages=t.response.data.data.errors);else if(this.errorMessages=[],this.errorMessages.push(void 0!==t.message?t.message:"An unidentified error occured"),void 0!==t.submessage){var e=t.submessage;Array.isArray(e)||(e=[e]);var n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var r=o.value;this.errorMessages.push(r)}}catch(t){i=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw s}}}},lengthGreaterThan:function(t,e){if("object"===(void 0===t?"undefined":u(t))&&Object.keys(t).length>e||"object"===(void 0===t?"undefined":u(t))&&t.length>e)return!0}}},v=n("KHd+"),m=Object(v.a)(f,void 0,void 0,!1,null,null,null);e.a=m.exports},ftQn:function(t,e,n){var i=n("3R/I");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("040ea0ad",i,!0,{})},gkNc:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-front .wbtn.wbtn-cell.wbtn-secondary.wbtn-service,\n.wap-front .wbtn.wbtn-cell.wbtn-secondary.wbtn-service:not(:disabled):not(.disabled):active,\n.wap-front .wbtn.wbtn-cell.wbtn-secondary.wbtn-service:not(:disabled):not(.disabled).active{\n    width: 100%;\n    margin: .4em;\n    border: none;\n    overflow: hidden;\n    padding: .4em;\n    max-width: 340px;\n    font-size: 1em;\n}\n.wap-front .wbtn-service.d-flex .service-label .service-name\n{\n    font-size: 1.2em;\n    line-height: 1.2em;\n}\n.wap-front .wbtn-service.d-flex .service-label .description\n{\n    font-size: .8em;\n}\n.wap-front .wbtn-service.d-flex .service-price{\n    font-size: 1em;\n}\n.wap-front .wbtn-service .wap-icon-image {\n    transition: all .3s ease-in-out;\n    overflow: hidden;\n    height: 80px;\n    width: 80px;\n    background-position: center center;\n    background-size: cover;\n}\n.wap-front.large-version .wbtn.wbtn-cell.wbtn-secondary.wservice-large, \n.wap-front.large-version .wbtn.wbtn-cell.wbtn-secondary.wservice-large:not(:disabled):active {\n    max-width:none ;\n    margin:1em 0;\n}\n.wap-front .wbtn-service.wservice-large .wap-icon-image {\n    height: 160px;\n    width: 160px;\n}\n.wap-front .wbtn-service .service-label{\n    margin: 0 .5em;\n    overflow: hidden;\n    white-space: initial;\n    text-align: center;\n}\n\n\n/* pills */\n.wap-front .wbtn-service.d-flex .service-label{\n    text-align: left;\n}\n.service-price{\n    font-weight: bold;\n}\n.service-price .price-currency{\n    font-size: .7em;\n}\n.service-price.price-right{\n    margin-left: auto !important;\n}\n.wap-front .als{\n    align-self: flex-start !important;\n}\n\n",""])},gnn1:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.booking-widget-editor-wizard{\n    width: 600px;\n}\n.wrapper-widget-style{\n    box-shadow: inset 0px 0px 10px 0 rgba(0,0,0,.2);\n    padding: 1rem;\n    border-radius: 2rem;\n}\n",""])},gsSy:function(t,e,n){"use strict";var i=n("OiRY"),s=n("tOgP"),o={props:["service","relations","options"],mixins:[i.a,s.a],computed:{getClasses:function(){return void 0===window.wappointment_services||void 0===window.wappointment_services.is_admin?"wbtn wbtn-secondary wbtn-cell":"btn btn-secondary btn-cell"},durationsOrdered:function(){return this.service.options.durations.sort(function(t,e){return t.duration>e.duration?1:-1})},sellable:function(){return this.service.options.woo_sellable}},methods:{selectDuration:function(t){if(!this.triggersDemoEvent("service_location")){var e={duration:parseInt(t.duration)},n="BookingLocationSelection";1==this.service.locations.length&&(e.location=this.service.locations[0],n="BookingCalendar"),this.$emit("durationSelected",n,e)}}}},a=(n("5Kp/"),n("KHd+")),r=Object(a.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.durationsOrdered.length>0?n("div",[void 0!==t.options?n("div",{staticClass:"title wtitle"},[t._v(t._s(t.options.service_duration.select_duration))]):t._e(),t._v(" "),n("div",{staticClass:"d-flex flex-wrap justify-content-around"},t._l(t.durationsOrdered,function(e,i){return n("div",{staticClass:"wbtn wbtn-cell wbtn-duration wbtn-secondary d-flex align-items-center",attrs:{role:"button"},on:{click:function(n){t.selectDuration(e)}}},[n("span",{staticClass:"mr-2 wduration",class:{wsold:t.canSell(e)}},[t._v(t._s(e.duration)+" "+t._s(t.options.general.min))]),t._v(" "),t.canSell(e)?n("span",{staticClass:"wprice"},[t._v(t._s(t.formatPrice(e.woo_price)))]):t._e()])}),0)]):t._e()},[],!1,null,null,null);e.a=r.exports},gzyJ:function(t,e,n){"use strict";var i={props:{title:{type:String,default:""},options:{type:Object},className:{type:String,default:"wbtn wbtn-primary"}}},s=n("KHd+"),o=Object(s.a)(i,function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{class:t.className,attrs:{type:"button"},on:{click:function(e){t.$emit("click")}}},[t._t("default")],2)},[],!1,null,null,null);e.a=o.exports},hu2d:function(t,e,n){"use strict";var i=n("c4fg");n.n(i).a},ibrO:function(t,e,n){"use strict";var i=n("LB0/"),s=n("vbJd"),o=n("l9VS"),a=n("XfSa"),r=n("VyXW"),c=n("FYyN"),l={extends:a.a,components:window.wappointmentExtends.filter("RegavComponents",{RegularAvailability:i.a,TimeZones:o.a,StaffSelector:s.a,StaffPicture:r.a},{RequestMaker:c.a}),props:{noback:{},minimal:{type:Boolean,default:!1}},data:function(){return{viewName:"regav",reload:!1}},computed:{hasRegav:function(){return null!==this.viewData&&void 0!==this.viewData.regav},getRegav:function(){var t=Object.assign({},this.viewData.regav);return void 0===this.viewData.regav.precise&&(t=this.convertRegavToPrecise(t)),t}},methods:{convertRegavToPrecise:function(t){for(var e in this.viewData.regav)if(this.viewData.regav.hasOwnProperty(e))for(var n=0;n<this.viewData.regav[e].length;n++){var i=this.viewData.regav[e][n];t[e][n]=[60*i[0],60*i[1]]}return t},changed:function(){this.refreshInitValue()},updatedRA:function(t){t.precise=!0,this.settingStaffSave("regav",t)},changedABD:function(t){this.settingStaffSave("availaible_booking_days",t)},updateTimezone:function(t){this.settingStaffSave("timezone",t)},updateStaffName:function(t){this.reload=!0,this.viewData.activeStaffName=t,this.settingStaffSave("display_name",t)},updateStaff:function(t){this.reload=!0,this.settingSave("activeStaffId",t)},afterSuccess:function(t){-1!==t.config.data.indexOf("timezone")||this.reload}}},d=(n("8dkp"),n("KHd+")),u=Object(d.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.dataLoaded?n("div",[!1===t.minimal?n("div",[n("p",{staticClass:"h6 text-muted"},[n("span",{staticClass:"bullet-wap"},[t._v("1")]),t._v(" "),t.viewData.staffs.length>1?n("span",{staticClass:"bullet-title"},[t._v(" Set who provides the appointments ")]):n("span",{staticClass:"bullet-title"},[t._v(" Modify your picture ")])]),t._v(" "),t.viewData?n("div",{staticClass:"d-flex align-items-top mb-2"},[n("StaffPicture",{attrs:{src:t.viewData.activeStaffAvatar,gravatar:t.viewData.activeStaffGravatar},on:{changed:t.changed}}),t._v(" "),n("div",{staticClass:"mr-2 changename"},[n("InputPh",{attrs:{ph:"Change name"},on:{updatedValue:t.updateStaffName},model:{value:t.viewData.activeStaffName,callback:function(e){t.$set(t.viewData,"activeStaffName",e)},expression:"viewData.activeStaffName"}})],1),t._v(" "),n("div",{staticClass:"account-selector"},[n("StaffSelector",{attrs:{staffs:t.viewData.staffs,activeStaffId:t.viewData.activeStaffId},on:{updateStaff:t.updateStaff}}),t._v(" "),t._m(0)],1)],1):t._e(),t._v(" "),t._m(1),t._v(" "),t.viewData?n("TimeZones",{attrs:{classW:"d-flex",wizard:t.noback,timezones:t.viewData.timezones_list,defaultTimezone:t.viewData.timezone,typeClass:"small text-muted container-values d-flex justify-content-between align-items-center form-control"},on:{updateTimezone:t.updateTimezone}}):t._e(),t._v(" "),n("hr")],1):t._e(),t._v(" "),t.hasRegav?n("div",[!1===t.minimal?n("p",{staticClass:"h6 text-muted"},[n("span",{staticClass:"bullet-wap"},[t._v("3")]),t._v(" "),n("span",{staticClass:"bullet-title"},[t._v(" Set your standard weekly schedule")])]):t._e(),t._v(" "),n("RegularAvailability",{attrs:{initValue:t.getRegav,viewData:t.viewData,minimal:t.minimal},on:{updatedDays:t.updatedRA,changedABD:t.changedABD}})],1):t._e()]):t._e()},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("small",{staticClass:"text-muted"},[this._v(" You must select a WordPress account; you can "),e("a",{attrs:{href:"users.php",target:"_blank"}},[this._v("add a new one here")]),this._v(" (a contributor role is required at least)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"h6 text-muted"},[e("span",{staticClass:"bullet-wap"},[this._v("2")]),this._v(" "),e("span",{staticClass:"bullet-title"},[this._v(" Set your timezone")])])}],!1,null,null,null);e.a=u.exports},izdF:function(t,e,n){"use strict";var i=n("77/Y");n.n(i).a},j7id:function(t,e,n){"use strict";var i=n("rUx2");n.n(i).a},k072:function(t,e,n){var i=n("JSzD");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("dcd37738",i,!0,{})},"kGR+":function(t,e,n){"use strict";var i=n("Jvpg"),s={props:["services","relations","options","admin","viewData"],mixins:[n("tOgP").a],data:function(){return{search:""}},components:{ServiceButton:i.a},created:function(){1==this.services.length&&this.selectService(this.services[0])},computed:{getServiceFilter:function(){if(void 0===this.options.attributesEl||void 0===this.options.attributesEl.serviceSelection)return[];for(var t=-1!==this.options.attributesEl.serviceSelection.indexOf(",")?this.options.attributesEl.serviceSelection.split(","):[this.options.attributesEl.serviceSelection],e=0;e<t.length;e++)t[e]=parseInt(t[e]);return t},firstLevelServiceFilter:function(){var t=this.getServiceFilter;return t.length<1?this.services:this.services.filter(function(e){return-1!==t.indexOf(e.id)})},filteredServices:function(){var t=this.search.toLowerCase();return this.firstLevelServiceFilter.filter(function(e){return-1!==e.name.toLowerCase().indexOf(t)})}},methods:{selectService:function(t){if(!this.triggersDemoEvent("service_duration")){var e={service:t},n="";t.options.durations.length>1?n="BookingDurationSelection":(e.duration=t.options.durations[0].duration,n="BookingLocationSelection",1==t.locations.length&&(e.location=t.locations[0],n="BookingCalendar")),this.$emit("serviceSelected",n,e)}}}},o=(n("yFz+"),n("KHd+")),a=Object(o.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.services.length>0?n("div",[void 0!==t.options?n("div",{staticClass:"title wtitle"},[t._v(t._s(t.options.service_selection.select_service))]):t._e(),t._v(" "),t.services.length>10?n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}):t._e(),t._v(" "),t.options.service_selection.check_full_width?t._l(t.filteredServices,function(e,i){return n("ServiceButton",{key:"service-sel-"+i,staticClass:"wservice-large",attrs:{service:e,options:t.options,viewData:t.viewData},on:{selectService:t.selectService}})}):n("div",{staticClass:"d-flex flex-wrap justify-content-around"},t._l(t.filteredServices,function(e,i){return n("ServiceButton",{key:"service-sel-"+i,attrs:{service:e,options:t.options,viewData:t.viewData},on:{selectService:t.selectService}})}),1)],2):t._e()},[],!1,null,null,null);e.a=a.exports},l8GO:function(t,e,n){"use strict";var i=n("BDLL"),s=n("fP5I"),o=n("G0ds"),a=n("xa6k");var r,c,l={methods:{confirm:function(){if(this.disabledButtons)this.options.eventsBus.emits("stepChanged","confirmation");else{var t=this.bookingFormExtended;t.time=this.selectedSlot.start,t.ctz=this.timeprops.ctz,t.service=this.service.id,t.location=this.location.id,t.duration=this.duration,this.$emit("loading",{loading:!0,dataSent:t}),this.saveBookingRequest(t).then(this.appointmentBooked).catch(this.appointmentBookingError)}},confirmLegacy:function(){if(this.disabledButtons)this.options.eventsBus.emits("stepChanged","confirmation");else{var t=this.bookingFormExtended;t.time=this.selectedSlot.start,t.type=this.selection,t.ctz=this.timeprops.ctz,this.$emit("loading",{loading:!0,dataSent:t}),this.saveBookingRequestLegacy(t).then(this.appointmentBookedLegacy).catch(this.appointmentBookingError)}},saveBookingRequestLegacy:(r=regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceBooking.call("save",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}),c=function(){var t=r.apply(this,arguments);return new Promise(function(e,n){return function i(s,o){try{var a=t[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});e(r)}("next")})},function(t){return c.apply(this,arguments)}),appointmentBookedLegacy:function(t){var e=window.wappointmentExtends.filter("AppointmentBookedNextScreen",this.relations.next,{result:t,service:this.service});this.$emit("confirmed",e,{appointmentSavedData:t.data.appointment,isApprovalManual:0==t.data.appointment.status,appointmentSaved:!0,appointmentKey:t.data.appointment.edit_key,loading:!1})},selectDefaultType:function(){this.selection=this.service.type[0]},selectType:function(t){this.selection=t;var e=Object.assign({},this.bookingForm);this.bookingForm={},this.bookingForm=e,this.bookingForm.type=t,this.$emit("selectedLocation",t)},hasError:function(t){return""===this.bookingForm[t]?"":void 0!==this.errorsOnFields[t]&&!0===this.errorsOnFields[t]?"isInvalid":"isValid"},onInput:function(t){var e=t.number,n=t.isValid;t.country;this.bookingForm.phone=e,this.phoneValid=n}}},d=(n("H7Pi"),n("KHd+")),u=Object(d.a)(l,void 0,void 0,!1,null,null,null).exports,p=n("l8y5"),h=n("H5HU"),f=n("/fjS"),v=n("tOgP"),m=n("uAwV"),g=n("OiRY"),b=n("LNkL");var w,_={extends:s.a,mixins:[o.a,u,p.a,v.a,g.a,m.a],props:["service","selectedSlot","options","errors","data","timeprops","relations","appointment_starts_at","duration","location","custom_fields","staffs","selectedStaff","selectedPackage","selectedVariation","wpauth"],components:{BookingAddress:h.a,PhoneInput:f.a,CountryStyle:function(){return n.e(26).then(n.bind(null,"dh4s"))},AppointmentTypeSelection:i.a,Terms:b.a},data:function(){return{phoneId:"",phoneValid:!1,errorsOnFields:{},mounted:!1,bookingFormExtended:null,canDisplayInputs:!1,staff:null}},created:function(){this.serviceAppointmentService=this.$vueService(new a.a),this.isLegacy?(1==this.service.type.length||this.disabledButtons)&&this.selectType(this.service.type[0]):(this.setCanDisplay(this.location),this.setStaff())},mounted:function(){this.mounted=!0},computed:{isCompactHeader:function(){return void 0===this.options.general||-1===[void 0,!1].indexOf(this.options.general.check_header_compact_mode)},requirePhoneInput:function(){return this.phoneSelected||-1===[void 0,!1,""].indexOf(this.service.options.phone_required)},skypeValid:function(){return/^[a-zA-Z][a-zA-Z0-9.\-_]{5,31}$/.test(this.bookingForm.skype)},dataEmpty:function(){for(var t in this.bookingForm)if(this.bookingForm.hasOwnProperty(t)&&""!==this.bookingForm[t])return!1;return!0},canSubmit:function(){return Object.keys(this.errorsOnFields).length<1},legacyServiceHasTypes:function(){return this.isLegacy&&this.service.type.length>1},showFormInputs:function(){return this.canDisplayInputs&&(!this.legacyServiceHasTypes||this.legacyServiceHasTypes&&"string"==typeof this.location&&""!==this.location)}},methods:{setStaff:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.staff=this.selectedStaff},getId:function(t){this.phoneId=t},selectDefaultType:function(){this.selection=this.service.type[0]},selectType:function(t){this.selection=t;var e=Object.assign({},this.bookingForm);this.bookingForm={},this.bookingForm=e,this.bookingForm.type=t,this.dataDemoChanged(this.bookingForm),this.$emit("selectedLocation",t),this.canDisplayInputs=!1,setTimeout(this.setCanDisplay,100)},setCanDisplay:function(){this.canDisplayInputs=!0},hasError:function(t){return""===this.bookingForm[t]?"":void 0!==this.errorsOnFields[t]&&!0===this.errorsOnFields[t]?"isInvalid":"isValid"},onInput:function(t){var e=t.number,n=t.isValid;t.country;this.bookingForm.phone=e,this.phoneValid=n},changedBF:function(t,e){this.bookingFormExtended=t,this.errorsOnFields=e,this.dataDemoChanged(t)},dataDemoChanged:function(t){this.disabledButtons&&(t.type=this.selection,this.options.eventsBus.emits("dataDemoChanged",t))},back:function(){this.triggersDemoEvent("selection")||this.$emit("back",this.relations.prev,{selectedSlot:!1})},confirmSwitch:function(){return this.isLegacy?this.confirmLegacy():this.confirm()},confirm:function(){if(!this.triggersDemoEvent("confirmation")){var t=this.bookingFormExtended;t.time=this.selectedSlot.start,void 0!==this.selectedSlot.edit_key&&(t.appointment_key=this.selectedSlot.edit_key),t.ctz=this.timeprops.ctz,t.service=this.service.id,t.location=this.location.id,t.duration=this.duration,t.staff_id=this.staff.id,this.selectedPackage&&(t.package_id=this.selectedPackage.id,t.package_price_id=this.selectedVariation.price_id,t.woo_pack_variation_id=this.selectedVariation.woo_pack_variation_id),this.$emit("loading",{loading:!0,dataSent:t}),this.saveBookingRequest(t).then(this.appointmentBooked).catch(this.appointmentBookingError)}},saveBookingRequest:(w=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(s,o){try{var a=e[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})}}(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceAppointmentService.call("save",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(t){return w.apply(this,arguments)}),appointmentBooked:function(t){if(void 0!==t.data.result){var e={appointmentSavedData:t.data.appointment,order:t.data.order,isApprovalManual:0==t.data.appointment.status,appointmentSaved:!0,appointmentKey:t.data.appointment.edit_key,loading:!1,resultBooking:t.data};this.$emit("confirmed",this.mustPay&&!0===t.data.payment_required?"BookingPaymentStep":this.getAddonNextScreen(t.data.result),this.appointmentBookedDataFilter(e,t))}else this.$emit("loading",{loading:!1}),this.appointmentBookingError({message:"Error in booking request response"})},appointmentBookedDataFilter:function(t,e){return window.wappointmentExtends.filter("AppointmentBookedData",t,e)},getAddonNextScreen:function(t){return window.wappointmentExtends.filter("AppointmentBookedNextScreen",this.relations.next,{result:t,service:this.service})},appointmentBookingError:function(t){this.$emit("serviceError",t)}}},y=(n("aKqD"),Object(d.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide-fade"}},[t.mounted?n("div",[t.isCompactHeader?n("div",{staticClass:"form-summary text-center"},[n("div",{staticClass:"my-2"},[t.appointment_starts_at?n("div",[n("div",{staticClass:"wselected wclosable wmy-4 d-flex align-items-center d-flex-inline"},[n("WapImage",{attrs:{faIcon:["far","clock"],size:"auto"}}),t._v(" "),n("span",{staticClass:"welementname wml-2"},[t._v(t._s(t.appointment_starts_at))]),t._v(" "),n("span",{staticClass:"wclose",on:{click:t.back}})],1)]):t._e()])]):t._e(),t._v(" "),t.errors.length>0?n("div",{staticClass:"wappointment-errors"},t._l(t.errors,function(e){return n("div",[t._v("\n                "+t._s(e)+"\n            ")])}),0):t._e(),t._v(" "),t.legacyServiceHasTypes?n("AppointmentTypeSelection",{attrs:{options:t.options,typeSelected:t.selection,typesAllowed:t.service.type},on:{selectType:t.selectType}}):t._e(),t._v(" "),n("transition",{attrs:{name:"slide-fade"}},[t.showFormInputs?n("div",[n("FieldsGenerated",{attrs:{custom_fields:t.custom_fields,service:t.service,location:t.location,options:t.options,selectedSlot:t.selectedSlot,wpauth:t.wpauth},on:{changed:t.changedBF,dataDemoChanged:t.dataDemoChanged}}),t._v(" "),n("Terms",{attrs:{options:t.options}})],1):t._e()]),t._v(" "),n("div",{staticClass:"d-flex wbtn-confirm"},[n("div",{staticClass:"mr-2"},[n("span",{staticClass:"wbtn-secondary wbtn",on:{click:t.back}},[t._v(t._s(t.options.form.back))])]),t._v(" "),t.canSubmit?n("span",{staticClass:"wbtn-primary wbtn flex-fill mr-0",on:{click:t.confirmSwitch}},[t._v(t._s(t.options.form.confirm))]):n("span",{staticClass:"wbtn-primary wbtn wbtn-disabled flex-fill mr-0",attrs:{disabled:""}},[t._v(t._s(t.options.form.confirm))])]),t._v(" "),n("CountryStyle")],1):t._e()])},[],!1,null,null,null));e.a=y.exports},m5jI:function(t,e,n){var i=n("xjEs");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("2b27ff83",i,!0,{})},mkhk:function(t,e,n){"use strict";var i={methods:{getParameterByName:function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}}},s=n("KHd+"),o=Object(s.a)(i,void 0,void 0,!1,null,null,null);e.a=o.exports},o38m:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-l.wap-bar {\n  width: 92%;\n  height: auto;\n}\n",""])},rUx2:function(t,e,n){var i=n("4nX5");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("7845cc67",i,!0,{})},sHVe:function(t,e,n){"use strict";var i=n("IXoI");var s,o,a={extends:n("XfSa").a,props:{list:{type:String},defaultEmail:{type:String},buttonLabel:{type:String,default:"Subscribe"},placeholder:{type:String,default:"Enter an email"},statuses:{type:Array},subscribeOtherEmail:{type:String,default:"Use another email"}},data:function(){return{serviceWappointment:null,email:"",changeEmail:!1,serverValidationErrors:void 0}},created:function(){this.serviceWappointment=this.$vueService(new i.a),this.email=this.defaultEmail},computed:{hasEmailError:function(){return this.getFieldErrors("email")},isValid:function(){return""!=this.email},canSubscribe:function(){return!this.isSubscribed||!0===this.changeEmail},isSubscribed:function(){if(!this.statuses)return!1;var t=this.defaultEmailList;return!1!==t&&void 0!==t.lists[this.list]},defaultEmailList:function(){var t=this.defaultEmail,e=this.statuses.filter(function(e){return e.email==t});return 1==e.length&&e[0]}},methods:{getFieldErrors:function(t){return void 0!==this.serverValidationErrors&&void 0!==this.serverValidationErrors[t]&&this.serverValidationErrors[t]},subscribeAgain:function(){this.changeEmail=!0,this.email=""},successSubscribed:function(t){this.$WapModal().notifySuccess(t.data.message),void 0!==t.data.result&&void 0!==t.data.result.statuses&&this.$emit("updatedStatuses",t.data.result.statuses)},failedRequestWrap:function(t){this.failedRequest(t),void 0!==t.response&&void 0!==t.response.data.data.errors.validations&&(this.serverValidationErrors=t.response.data.data.errors.validations)},subscribe:function(){this.$WapModal().request(this.subscribeWappointmentRequest()).then(this.successSubscribed).catch(this.failedRequestWrap)},subscribeWappointmentRequest:(s=regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceWappointment.call("subscribe",{list:this.list,email:this.email});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}),o=function(){var t=s.apply(this,arguments);return new Promise(function(e,n){return function i(s,o){try{var a=t[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});e(r)}("next")})},function(t){return o.apply(this,arguments)})}},r=n("KHd+"),c=Object(r.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.canSubscribe?n("div",{staticClass:"mb-3"},[t._t("default"),t._v(" "),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:{"is-invalid":t.hasEmailError},attrs:{type:"email",placeholder:t.placeholder,"aria-label":t.placeholder},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-primary",on:{click:t.subscribe}},[n("span",{staticClass:"dashicons dashicons-email"}),t._v(" "+t._s(t.buttonLabel))])]),t._v(" "),t.hasEmailError?n("div",{staticClass:"invalid-feedback"},t._l(t.getFieldErrors("email"),function(e){return n("p",{staticClass:"m-0"},[t._v(" "+t._s(e))])}),0):t._e()])],2):n("div",{staticClass:"small"},[n("p",{staticClass:"d-flex align-items-center m-0"},[n("span",{staticClass:"dashicons dashicons-yes text-success"}),t._v(" "),n("span",[t._v("Subscribed ("+t._s(t.defaultEmail)+")")])]),t._v(" "),n("button",{staticClass:"btn btn-link btn-sm",on:{click:t.subscribeAgain}},[t._v(t._s(t.subscribeOtherEmail))])])])},[],!1,null,null,null);e.a=c.exports},sc10:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.bullet-title{\n    color: #777;\n    border-bottom: 1px solid #c2c1cc;\n    font-weight: bold;\n}\n.bullet-wap{\n    border: 1px solid var(--primary);\n    padding: .35rem;\n    border-radius: 1.2rem;\n    height: 2rem;\n    width: 2rem;\n    display: inline-block;\n    text-align: center;\n    font-size: 1rem;\n    color: var(--primary);\n    margin-right: .5rem;\n    background-color: #fff;\n}\n.changename .label-wrapper{\n    margin-bottom: 0 !important;\n}\n.account-selector{\n    max-width: 380px;\n}\n",""])},squi:function(t,e,n){"use strict";var i=n("R+kQ");n.n(i).a},uAwV:function(t,e,n){"use strict";var i={computed:{mustPay:function(){return-1===[void 0,!1].indexOf(this.service.options.woo_sellable)&&!this.wooAddonActive},hasPaidDurations:function(){var t=!0,e=!1,n=void 0;try{for(var i,s=this.service.options.durations[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value;if(-1===[void 0,!1,""].indexOf(o.woo_price)&&o.woo_price>0)return!0}}catch(t){e=!0,n=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw n}}}}},s=n("KHd+"),o=Object(s.a)(i,void 0,void 0,!1,null,null,null);e.a=o.exports},vleE:function(t,e,n){"use strict";var i=n("2o8U");n.n(i).a},wDLf:function(t,e,n){"use strict";var i=n("k072");n.n(i).a},wUn3:function(t,e,n){"use strict";var i={extends:n("SO17").a,data:function(){return{nItems:14,cName:"wap-bar"}}},s=(n("es6V"),n("KHd+")),o=Object(s.a)(i,void 0,void 0,!1,null,null,null);e.a=o.exports},whSN:function(t,e,n){"use strict";var i=new RegExp("[^#a-f\\d]","gi"),s=new RegExp("^#?[a-f\\d]{3}[a-f\\d]?$|^#?[a-f\\d]{6}([a-f\\d]{2})?$","i"),o={methods:{hx_rgb:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.toStringRgba(this.hexToRgbA(t),e)},toStringRgba:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"rgba("+t.r+","+t.g+","+t.b+","+(!1===e?t.a:e)+")"},hexToRgbA:function(t){if("string"!=typeof t||i.test(t)||!s.test(t))return"#ccc";var e=1;8===(t=t.replace(/^#/,"")).length&&(e=parseInt(t.slice(6,8),16)/255,t=t.slice(0,6)),4===t.length&&(e=parseInt(t.slice(3,4).repeat(2),16)/255,t=t.slice(0,3)),3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var n=parseInt(t,16);return{r:n>>16,g:n>>8&255,b:255&n,a:e}}}},a=n("KHd+"),r=Object(a.a)(o,void 0,void 0,!1,null,null,null);e.a=r.exports},xX18:function(t,e,n){"use strict";var i=n("LFG5");n.n(i).a},xa6k:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"suffix",value:function(){return"wappointment/v1"}},{key:"endpoints",value:function(){return{save:{method:"post",route:"/services/booking",timeout:2e4},bookadmin:{method:"post",route:"/services/booking/admin"},fetch:{method:"post",route:"/services/booking/fetch"},get:{method:"get",route:"/services/booking"},delete:{method:"delete",route:"/services/booking"}}}}]),t}();e.a=s},xhmi:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.fdisabled{\n  cursor: not-allowed !important;\n  color: #c8c8c8 !important;\n}\n.fdisabled .dashicons.txt{\n  color:#c8c8c8 !important;\n}\n\n",""])},xjEs:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.gotozoom{\n  filter: grayscale(1);\n}\n.gotozoom:hover{\n  filter: none;\n}\n.gotojitsi{\n  background-color:#ffffff;\n  max-height: 40px;\n  border-radius: 50%;\n}\n",""])},y43P:function(t,e,n){"use strict";var i=n("VQM7"),s=n("XfSa"),o=n("Qi5d"),a=n("oV90"),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["a"]),r(e,[{key:"endpoints",value:function(){return{create:{method:"post",route:"/pages"}}}}]),e}();var l,d,u={extends:s.a,props:{page_id:{type:Number,default:0},page_link:{type:String},widgetDefault:{type:Object},save:{type:Boolean,default:!1},forceCreation:{type:Boolean,default:!1}},data:function(){return{bookingpage:!1,showWidget:!0,params:{autoOpen:!1,largeVersion:!1,week:!1,demoAs:!0,center:!1,popup:!0},editpagedetails:!1,booking_page_id:0,page:{title:"Booking page",slug:"booking-page",status:"publish",content:""}}},created:function(){this.serviceWPPages=this.$vueService(new c),this.booking_page_id=this.page_id,0===this.booking_page_id&&(this.bookingpage=!0)},components:{Front:i.a,ShortcodeGenerator:o.a,InputPh:window.wappoGet("InputPh")},watch:{bookingpage:function(){this.$emit("canSave",this.bookingpage)}},methods:{createPage:function(){this.request(this.createPageRequest,void 0,void 0,!1,this.successCreatedPage)},createPageRequest:(l=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceWPPages.call("create",Object.assign({},this.page));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}),d=function(){var t=l.apply(this,arguments);return new Promise(function(e,n){return function i(s,o){try{var a=t[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});e(r)}("next")})},function(){return d.apply(this,arguments)}),successCreatedPage:function(t){void 0!==t.data&&void 0!==t.data.id&&t.data.id>0&&(this.booking_page_id=t.data.id,this.settingSave("booking_page",this.booking_page_id),this.$emit("saved",this.booking_page_id))},updateShortCode:function(t,e){this.page.content="\x3c!-- wp:shortcode --\x3e"+t+"\x3c!-- /wp:shortcode --\x3e",this.showWidget=!1,setTimeout(this.delaychangeRefresh.bind(null,e),100)},delaychangeRefresh:function(t){for(var e in t)t.hasOwnProperty(e)&&(this.params[e]=t[e]);this.showWidget=!0}}},p=(n("VaHL"),n("KHd+")),h=Object(p.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[0===t.booking_page_id?n("div",{staticClass:"d-flex"},[n("div",{staticClass:"booking-widget-editor-wizard wrapper-widget-style"},[t.showWidget?n("Front",{attrs:{classEl:"wappointment_widget",attributesEl:t.params}}):t._e()],1),t._v(" "),n("div",{staticClass:"ml-4"},[n("div",[t.forceCreation?t._e():n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.bookingpage,expression:"bookingpage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.bookingpage)?t._i(t.bookingpage,null)>-1:t.bookingpage},on:{change:function(e){var n=t.bookingpage,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.bookingpage=n.concat([null])):o>-1&&(t.bookingpage=n.slice(0,o).concat(n.slice(o+1)))}else t.bookingpage=s}}}),t._v(" "+t._s(t.get_i18n("wizard_4_create","wizard"))+"\n                ")]),t._v(" "),t.bookingpage||t.forceCreation?n("div",[n("div",{staticClass:"d-flex"},[n("InputPh",{attrs:{ph:t.get_i18n("bwe_page_edit","common")},model:{value:t.page.title,callback:function(e){t.$set(t.page,"title",e)},expression:"page.title"}}),t._v(" "),t.editpagedetails?t._e():n("div",{staticClass:"btn btn-link btn-xs",attrs:{role:"button"},on:{click:function(e){t.editpagedetails=!0}}},[t._v(t._s(t.get_i18n("bwe_page_edit","common")))])],1),t._v(" "),t.editpagedetails?n("div",[n("InputPh",{attrs:{ph:t.get_i18n("bwe_page_slug","common")},model:{value:t.page.slug,callback:function(e){t.$set(t.page,"slug",e)},expression:"page.slug"}}),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.page.status,expression:"page.status"}],attrs:{type:"radio",id:"publish",value:"publish"},domProps:{checked:t._q(t.page.status,"publish")},on:{change:function(e){t.$set(t.page,"status","publish")}}}),t._v(" "),n("label",{attrs:{for:"male"}},[t._v("Publish")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.page.status,expression:"page.status"}],attrs:{type:"radio",id:"draft",value:"draft"},domProps:{checked:t._q(t.page.status,"draft")},on:{change:function(e){t.$set(t.page,"status","draft")}}}),t._v(" "),n("label",{attrs:{for:"female"}},[t._v("Draft")])])],1):t._e(),t._v(" "),n("div",{staticClass:"my-2"},[t._v(t._s(t.get_i18n("bwe_widget_settings","common")))]),t._v(" "),t.bookingpage||t.forceCreation?n("div",{staticClass:"pl-4 small"},[n("ShortcodeGenerator",{attrs:{title:"Book now",preview:!1,simple:!0,popupInit:!0},on:{change:t.updateShortCode}})],1):t._e(),t._v(" "),t.save?n("button",{staticClass:"btn btn-primary btn-lg btn-block",on:{click:t.createPage}},[t._v(t._s(t.get_i18n("bwe_create_bp","common")))]):t._e()]):t._e()])])]):n("div",[n("h5",{staticClass:"text-primary"},[t._v(t._s(t.get_i18n("bwe_page_bp_exist_already","common")))]),t._v(" "),n("a",{staticClass:"btn btn-secondary",attrs:{href:"post.php?post="+t.booking_page_id+"&action=edit",target:"_blank"}},[n("span",{staticClass:"dashicons dashicons-edit"}),t._v(" "+t._s(t.get_i18n("bwe_page_edit","common"))+"\n        ")]),t._v(" "),n("a",{staticClass:"btn btn-secondary",attrs:{href:t.page_link,target:"_blank"}},[n("span",{staticClass:"dashicons dashicons-calendar-alt"}),t._v(" "+t._s(t.get_i18n("bwe_page_view","common"))+"\n        ")])])])},[],!1,null,null,null);e.a=h.exports},"yFz+":function(t,e,n){"use strict";var i=n("Xx3G");n.n(i).a},zXQP:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-front .wap-booking-fields label{\n    color: var(--wappo-body-tx);\n}\n.wap-front .phone-field .dropdown ul {\n    position: initial;\n    max-width: 266px;\n    min-width: 224px;\n    margin-top: 12px;\n    overflow-y: scroll !important;\n    overflow: hidden;\n}\n.wap-front .phone-field .dropdown {\n    border-radius: .2em;\n}\n.wap-front .phone-field .dropdown.open + input {\n    display:none;\n}\n.wap-front .address-service{\n    border-radius: .2em;\n    padding: .3em;\n    margin: auto;\n    text-align: left;\n    margin-bottom: .6rem;\n}\n.wap-front .address-service .icon-address{\n    padding: 0 .3em;\n}\n.wap-front .address-service address{\n    margin-left: .6em;\n}\n.wap-booking-fields label{\n    margin-bottom: 0;\n    font-size: .9em;\n}\n.wap-terms{\n    font-size: .7em;\n    text-align: left;\n    line-height: 1.4;\n    margin-bottom: .3em;\n}\n.wap-front .wrounded{\n  border-radius : 50%;\n}\n.wap-front .wshadow{\n  box-shadow: inset 0px 8px 10px 0 rgba(0,0,0,.08);\n}\n.wap-front .form-summary .wselected {\n    display: inline-flex !important;\n    font-size: .8em;\n}\n\n",""])}}]);