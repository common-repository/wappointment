(window.webpackJsonp=window.webpackJsonp||[]).push([[19,18],{"+0Lj":function(e,t,n){"use strict";n.r(t);var i=n("ZfG2"),s=n("FYyN"),r=n("5oH9"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),a(t,[{key:"endpoints",value:function(){return{index:{method:"get",route:"currency"},save:{method:"post",route:"currency"}}}}]),t}(),c=n("OiRY");function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(s,r){try{var a=t[s](r),o=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(o).then(function(e){i("next",e)},function(e){i("throw",e)});e(o)}("next")})}}var d,u,p={mixins:[s.a,c.a],components:{SearchDropdown:i.a},data:function(){return{serviceCurrency:"",currencies:[],selectedCurrency:!1}},created:function(){this.serviceCurrency=this.$vueService(new o),this.get()},computed:{modifiedCurrencies:function(){return this.currencies.map(function(e){return e.name=e.code+" | "+e.symbol+" | "+e.name,e})}},methods:{get:function(){this.request(this.getRequest,{},void 0,!1,this.loaded)},getRequest:(u=l(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceCurrency.call("index",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)}),loaded:function(e){this.currencies=e.data,this.selectedCurrency=this.currencyCode},save:function(){this.request(this.saveRequest,{},void 0,!1,this.savedOk)},saveRequest:(d=l(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceCurrency.call("save",{currency:this.selectedCurrency});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)}),savedOk:function(){this.$emit("close",this.selectedCurrency)}}},h=n("KHd+"),m=Object(h.a)(p,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.selectedCurrency?n("div",[n("SearchDropdown",{attrs:{ph:"Select a currency",elements:e.modifiedCurrencies,idKey:"code",labelSearchKey:"name"},model:{value:e.selectedCurrency,callback:function(t){e.selectedCurrency=t},expression:"selectedCurrency"}}),e._v(" "),n("button",{staticClass:"btn btn-primary mt-2",on:{click:e.save}},[e._v(e._s(e.get_i18n("save","common")))])],1):e._e()},[],!1,null,null,null).exports,v=n("332h"),f=n("hs9/"),_={components:{WCell:v.a,WImage:f.a},props:{payment:{type:Object}},computed:{getImage:function(){return{icon:"methods/"+this.payment.key+".png",alt:this.payment.name,title:this.payment.name}},getClass:function(){var e={};return e["payment-"+this.payment.key]=!0,this.payment.installed&&this.payment.active?e["tt-success"]=!0:e["tt-disabled"]=!0,e}}},g=(n("6RK3"),Object(h.a)(_,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"payment tt-lg",class:e.getClass,attrs:{"data-tt":e.payment.description},on:{click:function(t){e.$emit("click",e.payment)}}},[n("WCell",[n("WImage",{attrs:{image:e.getImage}}),e._v(" "),!0!==e.payment.hideLabel?n("span",{staticClass:"ml-1"},[e._v(e._s(e.payment.name))]):e._e(),e._v(" "),e.payment.installed?[n("span",{attrs:{"data-tt":"Configure"}},[n("span",{staticClass:"dashicons dashicons-admin-generic"})]),e._v(" "),e.payment.installed&&e.payment.configured?n("span",{attrs:{"data-tt":"Activate"}},[n("span",{staticClass:"dashicons dashicons-admin-generic"})]):e._e()]:e._e()],2)],1)},[],!1,null,null,null).exports),y=n("PqtY"),w=n("XfSa"),b={extends:w.a,props:["method"],methods:{activate:function(){this.settingSave("onsite_enabled",this.method.active,this.success)},success:function(e){this.$WapModal().notifySuccess(e.data.message),this.$WapModal().reload()}}},x=Object(h.a)(b,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"active-method"}},[n("div",{staticClass:"d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.method.active,expression:"method.active"}],attrs:{type:"checkbox",id:"active-method"},domProps:{checked:Array.isArray(e.method.active)?e._i(e.method.active,null)>-1:e.method.active},on:{change:[function(t){var n=e.method.active,i=t.target,s=!!i.checked;if(Array.isArray(n)){var r=e._i(n,null);i.checked?r<0&&e.$set(e.method,"active",n.concat([null])):r>-1&&e.$set(e.method,"active",n.slice(0,r).concat(n.slice(r+1)))}else e.$set(e.method,"active",s)},e.activate]}}),e._v("\n            Enable Method\n          ")])])])])},[],!1,null,null,null).exports,k={mixins:[c.a],props:["currencies"]},S=Object(h.a)(k,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bg-danger rounded p-2"},[t("div",{staticClass:"text-white"},[this._v("\n        "+this._s(this.currencyText)+" is not supported \n    ")]),this._v(" "),t("div",{staticClass:"text-muted small bg-secondary p-2 rounded"},[this._v("\n        Accepted currencies : "+this._s(this.currencies)+"\n    ")])])},[],!1,null,null,null).exports,C={components:window.wappointmentExtends.filter("PaymentMethodsSettings",{WPayment:g,onsiteSettings:x},{extends:w.a,mixins:[s.a,c.a],components:{CurrenciesSupported:S}}),mixins:[c.a,y.a],data:function(){return{payment_edit:null,payment_methods:apiWappointment.methods}},computed:{filteredPayments:function(){return this.payment_methods.sort(function(e,t){return e.installed<t.installed})}},methods:{hideElementsPopup:function(){this.$emit("closed")},clicked:function(e){this.payment_edit=e,this.payment_edit.installed?(this.openPopup(this.payment_edit.name),this.$emit("opened")):this.$emit("clicked",e)}}},P=Object(h.a)(C,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex"},[e._l(e.filteredPayments,function(t){return n("WPayment",{key:t.key,staticClass:"text-muted small",attrs:{payment:t},on:{click:e.clicked}})}),e._v(" "),e.showModal?n("WapModal",{attrs:{show:e.showModal,large:"",noscroll:""},on:{hide:e.hidePopup}},[n("h4",{staticClass:"modal-title",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.modalTitle)+" ")]),e._v(" "),n(e.payment_edit.key+"Settings",{tag:"component",attrs:{method:e.payment_edit},on:{close:e.hidePopup}})],1):e._e()],2)},[],!1,null,null,null).exports,O=n("Bct9"),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),A(t,[{key:"endpoints",value:function(){return{save:{method:"post",route:"/services"},index:{method:"get",route:"/services"},delete:{method:"delete",route:"/services"},reorder:{method:"post",route:"/services/reorder"}}}}]),t}(),E=n("VJs4"),R={extends:n("jwg7").default,components:{ServiceModulable:E.a},props:{subview:{type:String,default:""},element:{type:Object,default:null},params:{type:Object,default:null}},data:function(){return{servicesService:null}},created:function(){this.servicesService=this.$vueService(new j),null!==this.element&&(this.model=Object.assign({},this.element),this.model.locations_id=this.model.locations.map(function(e){return e.id}),delete this.model.locations),void 0===this.model.options.fields&&(this.model.options.fields=[]),0==this.model.options.fields.length&&(this.model.options.fields.push("email"),this.model.options.fields.push("name"))},methods:{initMethod:function(){},loaded:function(e){},savedTransmit:function(e){this.$emit("saved",e)}}},T=(n("LNQO"),Object(h.a)(R,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container-fluid"},[t("ServiceModulable",{attrs:{dataPassed:this.model,servicesService:this.servicesService,params:this.params},on:{saved:this.savedTransmit}})],1)},[],!1,null,null,null).exports),$={props:["service","idx","can_move"],mixins:[c.a],components:{WCell:v.a},methods:{soldDuration:function(e){return-1===["",void 0,!1].indexOf(e.woo_price)},getDurationPrice:function(e){return this.formatPrice(e.woo_price)},isSellable:function(e){return e.options.woo_sellable},serviceHasIcon:function(e){return""!=e.options.icon},getDurations:function(e){return e.options.durations},getLocations:function(e){return e.locations}}},q=(n("6jfr"),Object(h.a)($,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"row-click"},[n("td",[n("div",[e._v(e._s(e.idx+1))])]),e._v(" "),n("td",[n("div",[n("div",{staticClass:"d-flex align-items-center"},[e.serviceHasIcon(e.service)?n("WapImage",{attrs:{element:e.service,config:{mauto:!1},desc:e.service.name,size:"lg"}}):e._e(),e._v(" "),n("div",{staticClass:"ml-2"},[n("div",[e._v(e._s(e.service.name))]),e._v(" "),void 0!==e.service.labels?n("div",{staticClass:"d-flex align-items-center"},e._l(e.service.labels,function(t){return n("div",{staticClass:"mr-2",class:t.class},[e._v(e._s(t.text))])}),0):n("div",{staticClass:"small"},[e.isSellable(e.service)?n("div",{staticClass:"text-success"},[e._v(e._s(e.get_i18n("selling","orders")))]):n("div",{staticClass:"text-info"},[e._v(e._s(e.get_i18n("free","orders")))])])])],1)]),e._v(" "),n("div",{staticClass:"wlist-actions text-muted"},[e.can_move?n("span",{attrs:{"data-tt":e.get_i18n("sort","common")}},[n("span",{staticClass:"dashicons dashicons-move"})]):e._e(),e._v(" "),n("span",{attrs:{"data-tt":e.get_i18n("getshort","common")}},[n("span",{staticClass:"dashicons dashicons-shortcode",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.$emit("shortcode",e.service.id)}}})]),e._v(" "),n("span",{attrs:{"data-tt":e.get_i18n("edit","common")}},[n("span",{staticClass:"dashicons dashicons-edit",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.$emit("edit",e.service)}}})]),e._v(" "),n("span",{attrs:{"data-tt":e.get_i18n("delete","common")}},[n("span",{staticClass:"dashicons dashicons-trash",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.$emit("delete",e.service.id)}}})]),e._v(" "),n("span",[e._v("(id: "+e._s(e.service.id)+")")])])]),e._v(" "),n("td",[n("div",{staticClass:"d-flex"},e._l(e.getDurations(e.service),function(t,i){return n("WCell",{key:i,staticClass:"duration-cell"},[n("span",[e._v(e._s(t.duration)+"min")]),e.isSellable(e.service)&&e.soldDuration(t)?n("span",[e._v(e._s(e.getDurationPrice(t)))]):e._e()])}),1)]),e._v(" "),n("td",[n("div",{staticClass:"d-flex"},e._l(e.getLocations(e.service),function(e){return n("div",{staticClass:"location d-flex align-items-center",attrs:{"data-tt":e.name}},[n("WapImage",{attrs:{element:e,desc:e.name,size:"md"}})],1)}),0)])])},[],!1,null,null,null).exports),L=n("Mola"),M=n("AsP0"),D=n("BIr2"),V={data:function(){return{resettedValues:{elementPassed:null}}},methods:{resettingValues:function(){for(var e in this.resettedValues)if(Object.hasOwnProperty.call(this.resettedValues,e))if(-1!==e.indexOf(".")){var t=e.split(".");this[t[0]][t[1]]=this.resettedValues[e]}else this[e]=this.resettedValues[e]}}},z=Object(h.a)(V,void 0,void 0,!1,null,null,null).exports;function H(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(s,r){try{var a=t[s](r),o=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(o).then(function(e){i("next",e)},function(e){i("throw",e)});e(o)}("next")})}}var W={extends:L.a,mixins:window.wappointmentExtends.filter("ServicesManageMixins",[D.a,y.a,z]),components:{ServicesAddEdit:T,ShortcodeDesigner:M.a,ServiceRow:q},data:function(){return{currentView:"listing",viewName:"empty",elementPassed:null,servicesOrder:[],showShortcode:!1,showCurrency:!1,keyDataSource:"services",paramsPassed:{}}},created:function(){this.mainService=this.$vueService(new j),"modalities"===this.$route.name&&this.goToDelivery()},watch:{currentView:function(e){this.$emit("isolate","listing"!=e)}},computed:{searchable:function(){return this.elements},serviceListing:function(){return"listing"==this.currentView},serviceAdd:function(){return-1!==["add","edit","editLegacy"].indexOf(this.currentView)},requiresDBUpgrade:function(){return null!==this.dataResponse&&this.dataResponse.db_required},limitReached:function(){return null!==this.dataResponse&&this.dataResponse.limit_reached}},methods:{afterLoaded:function(e){this.$emit("dataUp",e.data)},hideElementsPopup:function(){this.showShortcode=!1,this.showCurrency=!1},getShortCode:function(e){this.showShortcode=e,this.openPopup("Get Booking Widget Shortcode")},goToDelivery:function(){this.$router.push({name:"modalities"})},orderChanged:function(e){this.request(this.reorderRequest,{id:e.moved.element.id,new_sorting:e.moved.newIndex},void 0,!1,this.hasBeenSavedNoReload)},reorderRequest:function(){var e=H(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainService.call("reorder",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),hasBeenSavedNoReload:function(e){return this.hasBeenSavedDeleted(e,!1)},hasBeenSaved:function(e){void 0!==e.data.message&&this.$WapModal().notifySuccess(e.data.message,15),this.hasBeenSavedDeleted()},hasBeenSavedDeleted:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(this.showListing(),this.loadElements()),void 0!==e.data.message&&this.$WapModal().notifySuccess(e.data.message)},deleteService:function(e){var t=this;this.$WapModal().confirm({title:"Do you really want to delete this service?"}).then(function(n){!1!==n&&t.request(t.deleteRequest,{id:e},void 0,!1,t.hasBeenSavedDeleted)})},deleteRequest:function(){var e=H(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainService.call("delete",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),editElement:function(e){this.paramsPassed=window.wappointmentExtends.filter("ServiceEditParams",this.paramsPassed,e),this.currentView="edit",this.elementPassed=Object.assign({},e)},showService:function(){return this.requiresDBUpgrade?this.runDbUpdate():!1!==this.dataResponse.limit_reached?this.requiresAddon("services",this.elements.limit_reached):(this.currentView="add",void(this.elementPassed=null))},showGroupService:function(){return!1!==this.dataResponse.limit_reached?this.requiresAddon("services",this.elements.limit_reached):void 0!==this.showGroupServiceRun?this.showGroupServiceRun():this.requiresAddon("group")},showListing:function(){this.currentView="listing",this.resettingValues()}}},I=Object(h.a)(W,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.serviceListing?n("div",[n("div",{staticClass:"d-flex align-items-center"},[n("button",{staticClass:"btn btn-outline-primary btn my-2 btn-sm",on:{click:e.showService}},[e._v(e._s(e.get_i18n("service_add1_to_1","settings")))]),e._v(" "),n("button",{staticClass:"btn btn-outline-primary btn my-2 btn-sm ml-2",on:{click:e.showGroupService}},[n("span",{staticClass:"dashicons dashicons-buddicons-buddypress-logo"}),e._v(" "+e._s(e.get_i18n("service_addgroup","settings")))]),e._v(" "),e.elements&&e.elements.length>10?n("InputPh",{staticClass:"max-200 ml-2 mb-0",attrs:{type:"text",ph:"Search name"},model:{value:e.searchterm,callback:function(t){e.searchterm=t},expression:"searchterm"}}):e._e()],1),e._v(" "),e.elements?n("div",{staticClass:"table-hover"},[n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[e._v("#")]),e._v(" "),n("th",{attrs:{scope:"col"}},[e._v(e._s(e.get_i18n("cals_name","settings")))]),e._v(" "),n("th",{attrs:{scope:"col"}},[e._v(e._s(e.get_i18n("service_duration","settings")))]),e._v(" "),n("th",{attrs:{scope:"col"}},[e._v(e._s(e.get_i18n("service_delivery","settings"))+" "),e.requiresDBUpgrade?e._e():n("a",{attrs:{href:"javascript:;"},on:{click:e.goToDelivery}},[e._v(e._s(e.get_i18n("service_delivery_manage","settings")))])])])]),e._v(" "),e.elements.length>0?n("draggable",{attrs:{draggable:".row-click",handle:".dashicons-move",tag:"tbody"},on:{change:e.orderChanged},model:{value:e.elements,callback:function(t){e.elements=t},expression:"elements"}},e._l(e.filteredSearchable,function(t,i){return n("ServiceRow",{key:"row-service-"+i,attrs:{service:t,idx:i,can_move:""==e.searchterm&&e.elements.length>1},on:{edit:e.editElement,delete:e.deleteService,shortcode:e.getShortCode}})}),1):n("tbody",[n("tr",[e._v("\n                        "+e._s(e.get_i18n("empty_listing","common"))+"\n                    ")])])],1)]):e._e(),e._v(" "),e.isPaginated?n("Pagination",{attrs:{pagination:e.pagination},on:{changePage:e.changePage}}):e._e(),e._v(" "),e.showModal?n("WapModal",{attrs:{show:e.showModal,noscroll:""},on:{hide:e.hidePopup}},[n("h4",{staticClass:"modal-title",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.modalTitle)+" ")]),e._v(" "),e.showShortcode?n("ShortcodeDesigner",{attrs:{service_id:e.showShortcode,showTip:!1}}):e._e()],1):e._e()],1):e._e(),e._v(" "),e.serviceAdd?n("div",[n("button",{staticClass:"btn btn-link btn-xs mb-2",on:{click:e.showListing}},[e._v(" < "+e._s(e.get_i18n("back","common")))]),e._v(" "),n("ServicesAddEdit",{attrs:{element:e.elementPassed,params:e.paramsPassed,legacy:!1},on:{saved:e.hasBeenSaved}})],1):e._e()])},[],!1,null,null,null).exports,B=n("lpR3"),K=window.wappointmentExtends.filter("ServicesAndPackagesViews",{ServicesManage:I,CurrencyEditor:m,PaymentAllowed:P}),G={mixins:[O.a,y.a,c.a,B.a],components:K,data:function(){return{currentView:"services",showSettings:!1,settingstimeout:!1,isIsolated:!1,popupOn:!1,tax:0,canEditTax:!1,hasPackageView:void 0!==K.PackagesManage}},computed:{getComponent:function(){return"services"==this.currentView?"ServicesManage":"PackagesManage"},packShown:function(){return"packages"==this.currentView}},methods:{dataUp:function(e){this.tax=e.tax},saveTax:function(){this.settingSave("tax",this.tax)},editTax:function(){this.canEditTax=!0},updateCurrency:function(){this.$WapModal().reload()},isolate:function(e){this.isIsolated=e},clicked:function(e){"stripe"==e.key&&this.requiresAddon("stripe"),"paypal"==e.key&&this.requiresAddon("paypal"),"woocommerce"==e.key&&this.requiresAddon("woocommerce")},closed:function(){this.removeSettings(),this.popupOn=!1},opened:function(){this.popupOn=!0,clearTimeout(this.settingstimeout)},showSettingsNow:function(){!1!==this.settingstimeout&&(clearTimeout(this.settingstimeout),this.showSettings=!1),this.showSettings=!0},delayRemove:function(){!1===this.popupOn&&(this.settingstimeout=setTimeout(this.removeSettings,2e3))},removeSettings:function(){this.showSettings=!1,this.canEditTax=!1},manageServices:function(){this.currentView="services"},managePackages:function(){if(!this.hasPackageView)return this.requiresAddon("packages");this.currentView="packages"},setCurrency:function(){this.openPopup("Set currency"),this.showCurrency=!0}}},F=(n("85D9"),Object(h.a)(G,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isIsolated?e._e():n("div",{staticClass:"d-flex bg-secondary p-2 rounded packlisting",on:{mouseenter:e.showSettingsNow,mouseleave:e.delayRemove}},[n("button",{staticClass:"btn btn-light mr-2",class:{active:!e.packShown},on:{click:e.manageServices}},[e._v(e._s(e.get_i18n("services_manage","settings")))]),e._v(" "),n("button",{staticClass:"btn btn-light mr-2",class:{active:e.packShown},on:{click:e.managePackages}},[e._v(e._s(e.get_i18n("sell_pack","settings")))]),e._v(" "),n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("div",{staticClass:"d-flex"},[e.showSettings?n("div",[n("div",{staticClass:"d-flex align-items-center"},[n("div",{staticClass:"text-muted small"},[e._v("\n                            "+e._s(e.get_i18n("currency","settings"))+" "),e.wooAddonActive?n("span",{staticClass:"text-dark tt-danger",attrs:{"data-tt":"Configure it in WooCommerce"}},[e._v(e._s(e.currencyText))]):n("a",{attrs:{href:"javascript:;"},on:{click:e.setCurrency}},[e._v(e._s(e.currencyText))])]),e._v(" "),e.wooAddonActive?e._e():n("div",{staticClass:"text-muted small ml-2"},[e._v("\n                            "+e._s(e.get_i18n("tax","settings"))+" "),e.canEditTax?n("span",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.tax,expression:"tax"}],attrs:{type:"text",size:"2"},domProps:{value:e.tax},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.saveTax(t)):null},input:function(t){t.target.composing||(e.tax=t.target.value)}}}),e._v("% \n                                "),n("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:e.saveTax}},[e._v(e._s(e.get_i18n("save","common")))])]):n("a",{attrs:{href:"javascript:;"},on:{click:e.editTax}},[e._v(e._s(e.tax)+"%")])])]),e._v(" "),n("div",{staticClass:"d-flex align-items-center"},[n("div",{staticClass:"text-muted small"},[e._v(e._s(e.get_i18n("services_payments","settings")))]),e._v(" "),n("PaymentAllowed",{on:{clicked:e.clicked,opened:e.opened,closed:e.closed}})],1)]):e._e()])])],1),e._v(" "),n(e.getComponent,{tag:"component",staticClass:"p-2 border border-secondary",on:{isolate:e.isolate,dataUp:e.dataUp}}),e._v(" "),e.showModal?n("WapModal",{attrs:{show:e.showModal,noscroll:""},on:{hide:e.hidePopup}},[n("h4",{staticClass:"modal-title",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.modalTitle)+" ")]),e._v(" "),e.showCurrency?n("CurrencyEditor",{on:{close:e.updateCurrency}}):e._e()],1):e._e()],1)},[],!1,null,null,null));t.default=F.exports},"0LHV":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.commands-div{\n    min-width:280px;\n}\n",""])},"0YK1":function(e,t,n){"use strict";var i=n("7s+T");n.n(i).a},"5pyh":function(e,t,n){"use strict";var i=n("5oH9"),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["a"]),s(t,[{key:"endpoints",value:function(){return{save:{method:"post",route:"service"},get:{method:"get",route:"settings"}}}}]),t}();t.a=r},"6RK3":function(e,t,n){"use strict";var i=n("jVgC");n.n(i).a},"6jfr":function(e,t,n){"use strict";var i=n("kOgY");n.n(i).a},"6mcK":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wcell {\n    display: inline-block;\n    padding: .2em;\n    font-size: .8em;\n    background-color: #eee;\n    border-radius: .2em;\n    margin: .3em .3em 0 0;\n    border: 1px solid #ccc\n}\n",""])},"7s+T":function(e,t,n){var i=n("6mcK");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("212e9ff0",i,!0,{})},"85D9":function(e,t,n){"use strict";var i=n("K11y");n.n(i).a},ARFL:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wappointment-wrap textarea.form-control {\n    min-width:420px;\n}\n.wappointment-wrap .input-360 input {\n    min-width:360px;\n}\n\n\n",""])},AsP0:function(e,t,n){"use strict";var i=n("xV/h"),s=n("Qi5d"),r=n("MkfN"),a=n("6CjO"),o={mixins:window.wappointmentExtends.filter("shortcodeDesignerMixins",[r.a]),props:{title:{type:String,default:"Book now!"},calendar_id:{default:!1},service_id:{default:!1},services:{default:null},calendars:{default:null},simple:{default:!1}},data:function(){return{shortcode:"",clicked:!1,canLockStaff:!1,canLockService:!1,showingTip:!1}},components:{ClickCopy:i.a,VideoIframe:a.a,ShortcodeGenerator:s.a},methods:{updateShortCode:function(e){this.shortcode=e}},computed:{shortCodeHasService:function(){return-1!==this.shortcode.indexOf('service="')},shortCodeHasCalendar:function(){return-1!==this.shortcode.indexOf('staff="')},addonLink:function(){return apiWappointment.apiSite+"/addons"}}},c=(n("CwPI"),n("KHd+")),l=Object(c.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"shortcode-editor"},[n("div",{staticClass:"shortcode-gen"},[n("ShortcodeGenerator",{attrs:{title:e.title,calendar_id:e.calendar_id,service_id:e.service_id,calendars:e.calendars,services:e.services,simple:e.simple,canLockStaff:e.canLockStaff,canLockService:e.canLockService},on:{change:e.updateShortCode}})],1),e._v(" "),n("div",{attrs:{id:"shortcode_block"}},[n("p",{staticClass:"m-0"},[e._v(e._s(e.get_i18n("bwe_your_sh","common")))]),e._v(" "),n("ClickCopy",{attrs:{value:e.shortcode},on:{clicked:function(t){e.clicked=!0}}}),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.clicked?n("div",[!e.canLockStaff&&e.shortCodeHasCalendar?n("div",{staticClass:"text-danger text-left small"},[e._v("The lock on calendar will work only with the "),n("strong",[n("a",{attrs:{href:e.addonLink,target:"_blank"}},[e._v("Calendars & Staff")])]),e._v(" addon")]):e._e(),e._v(" "),!e.canLockService&&e.shortCodeHasService?n("div",{staticClass:"text-danger text-left small mt-2"},[e._v("The lock on service will work only with the "),n("strong",[n("a",{attrs:{href:e.addonLink,target:"_blank"}},[e._v("Services Suite")])]),e._v(" addon")]):e._e()]):e._e()])],1)]),e._v(" "),e.showingTip?n("div",{staticClass:"mt-4"},[n("VideoIframe",{attrs:{src:"https://www.youtube.com/embed/VMi2Ry-JrGA"}})],1):n("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.showingTip=!0}}},[e._v(e._s(e.get_i18n("bwe_how_use_sh","common")))])])},[],!1,null,null,null);t.a=l.exports},BIr2:function(e,t,n){"use strict";var i={data:function(){return{searchterm:"",searchkey:"name"}},computed:{filteredSearchable:function(){var e=this.searchterm.toLowerCase(),t=this.searchkey;return this.searchable.filter(function(n){return-1!==n[t].toLowerCase().indexOf(e)})}}},s=n("KHd+"),r=Object(s.a)(i,void 0,void 0,!1,null,null,null);t.a=r.exports},CwPI:function(e,t,n){"use strict";var i=n("Q+ZH");n.n(i).a},K11y:function(e,t,n){var i=n("frdH");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("4cbfb9ef",i,!0,{})},LFG5:function(e,t,n){var i=n("0LHV");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("89ba4b2e",i,!0,{})},LNQO:function(e,t,n){"use strict";var i=n("j2Ig");n.n(i).a},OiRY:function(e,t,n){"use strict";var i={computed:{currency:function(){return this.currencySymb},priceFormat:function(){return this.wooAddonActive?window.wappointment_woocommerce.currency_format:window.apiWappointment.currency.format},wooAddonActive:function(){return void 0!==window.wappointment_woocommerce&&window.wappointment_woocommerce.installed_at},wooCurrency:function(){return this.wooAddonActive?window.wappointment_woocommerce.currency_symbol:""},wooCurrencyText:function(){return this.wooAddonActive?window.wappointment_woocommerce.currency_text:""},currencySeparator:function(){return this.wooAddonActive?window.wappointment_woocommerce.decimals_sep:window.apiWappointment.currency.decimals_sep},thousandSeparator:function(){return this.wooAddonActive?window.wappointment_woocommerce.thousand_sep:window.apiWappointment.currency.thousand_sep},wappoCurrencyText:function(){return window.apiWappointment.currency.code+" - "+this.wappoCurrency},wappoCurrency:function(){return window.apiWappointment.currency.symbol},currencyCode:function(){return window.apiWappointment.currency.code},currencySymb:function(){return this.wooAddonActive?this.wooCurrency:this.wappoCurrency},currencyText:function(){return this.wooAddonActive?this.wooCurrencyText:this.wappoCurrencyText}},methods:{canSell:function(e){return this.sellable&&""!==this.currency&&-1===[void 0,""].indexOf(e.woo_price)},formatPrice:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.priceFormat.replace("[currency]",this.currency).replace("[price]",this.formatThousands(this.displayCents(e*(t?1:100))))},formatCentsPrice:function(e){return this.formatPrice(e,!0)},displayCents:function(e){var t=e/100;return!1===this.currencySeparator?Math.floor(t):t.toFixed(2).replace(".",this.currencySeparator)},formatThousands:function(e){for(var t=e.toString(),n="",i=(!1===this.currencySeparator?t:t.split(this.currencySeparator)[0]).split("").reverse().join(""),s=0;s<i.length;s++)n+=i[s]+((s+1)%3==0&&i.length>s+1?this.thousandSeparator:"");return n.split("").reverse().join("")+(!1===this.currencySeparator?"":this.currencySeparator+t.split(this.currencySeparator)[1])}}},s=n("KHd+"),r=Object(s.a)(i,void 0,void 0,!1,null,null,null);t.a=r.exports},PqtY:function(e,t,n){"use strict";var i={data:function(){return{showModal:!1,modalTitle:""}},methods:{openPopup:function(e){this.modalTitle=e,this.showModal=!0},hidePopup:function(e){this.modalTitle="popTitle",this.showModal=!1,void 0!==this.hideElementsPopup&&this.hideElementsPopup()}}},s=n("KHd+"),r=Object(s.a)(i,void 0,void 0,!1,null,null,null);t.a=r.exports},"Q+ZH":function(e,t,n){var i=n("uChi");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("661e781e",i,!0,{})},Qi5d:function(e,t,n){"use strict";var i=n("FYyN"),s=n("c+oO"),r=n("ZfG2");var a,o,c={mixins:[i.a],components:{SearchDropdown:r.a},props:{preview:{type:Boolean,default:!0},title:{type:String,default:""},calendar_id:{default:!1},service_id:{default:!1},calendars:{default:null},services:{default:null},simple:{default:!1},canLockStaff:{default:!1},canLockService:{default:!1},popupInit:{default:!1}},data:function(){return{large:!1,open:!1,popup:!1,close_cross:!1,random:!1,center:!1,week:!1,staffpage:!1,titleGiven:"",active_staff_id:!1,active_service_id:!1,calendars_data:null,services_data:null,servicesService:null,calendarsService:null}},created:function(){this.titleGiven=this.title,this.active_staff_id=this.calendar_id,this.active_service_id=this.service_id,this.calendarsService=this.$vueService(new s.a),this.popup=this.popupInit,this.services&&this.calendars?this.setBaseData(this.calendars,this.services):this.loadCalendars()},methods:{setBaseData:function(e,t){this.calendars_data=e,this.services_data=t},loadCalendars:function(){this.request(this.requestCalendars,{},void 0,!1,this.loadedCalendars)},loadedCalendars:function(e){this.setBaseData(e.data.calendars,e.data.services)},requestCalendars:(a=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.calendarsService.call("index",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}),o=function(){var e=a.apply(this,arguments);return new Promise(function(t,n){return function i(s,r){try{var a=e[s](r),o=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(o).then(function(e){i("next",e)},function(e){i("throw",e)});t(o)}("next")})},function(e){return o.apply(this,arguments)})},watch:{active_staff_id:function(e){-1===[void 0,!1,""].indexOf(e)&&(this.staffpage=!1)},popup:function(e){e&&(this.center=!1,this.large=!1)},staffpage:function(e){e&&(this.random=!1)}},computed:{staffSelected:function(){return-1===[void 0,!1,""].indexOf(this.active_staff_id)},filteredCalendars:function(){if(this.active_service_id&&this.calendars_data){var e=this.active_service_id;return this.calendars_data.filter(function(t){return-1!==t.services.indexOf(e)})}return this.calendars_data},filteredServices:function(){if(this.active_staff_id&&this.services_data){var e=this.active_staff_id,t=this.calendars_data.find(function(t){return t.id==e}).services;return this.services_data.filter(function(e){return-1!==t.indexOf(e.id)})}return this.services_data},getShortCode:function(){var e='wap_widget title="'+this.titleGiven+'"';return e+=this.large?" large ":"",e+=this.open?" open ":"",e+=this.popup?" popup ":"",e+=this.close_cross?" close_cross ":"",e+=this.center?" center ":"",e+=this.week?" week ":"",e+=this.staffpage?" staff_page ":"",e+=this.random?" random ":"",e+=this.active_staff_id?' staff="'+this.active_staff_id+'" ':"",e="["+(e+=this.active_service_id?' service="'+this.active_service_id+'" ':"")+"]",this.$emit("change",e,{largeVersion:this.large,autoOpen:this.open,popup:this.popup,close_cross:this.close_cross,week:this.week,center:this.center,staffPage:this.staffpage,random:this.random,buttonTitle:this.titleGiven}),e},previewSCimg:function(){var e="widget_"+(this.open?"cal_":"")+(this.large?"lg":this.center?"sm-c":"sm")+".svg";return window.apiWappointment.resourcesUrl+"images/"+e}}},l=(n("xX18"),n("KHd+")),d=Object(l.a)(c,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-items-center justify-content-between"},[n("div",{staticClass:"commands-div"},[n("div",{attrs:{"data-tt":"Booking button's title"}},[n("label",[n("InputPh",{attrs:{ph:e.get_i18n("bwe_widget_button_title","common")},model:{value:e.titleGiven,callback:function(t){e.titleGiven=t},expression:"titleGiven"}})],1)]),e._v(" "),n("div",{attrs:{"data-tt":e.get_i18n("bwe_widget_ck_fs_popup_tip","common")}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.popup,expression:"popup"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.popup)?e._i(e.popup,null)>-1:e.popup},on:{change:function(t){var n=e.popup,i=t.target,s=!!i.checked;if(Array.isArray(n)){var r=e._i(n,null);i.checked?r<0&&(e.popup=n.concat([null])):r>-1&&(e.popup=n.slice(0,r).concat(n.slice(r+1)))}else e.popup=s}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_fs_popup","common")))])]),e._v(" "),e.popup?n("div",{staticClass:"ml-2"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.close_cross,expression:"close_cross"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.close_cross)?e._i(e.close_cross,null)>-1:e.close_cross},on:{change:function(t){var n=e.close_cross,i=t.target,s=!!i.checked;if(Array.isArray(n)){var r=e._i(n,null);i.checked?r<0&&(e.close_cross=n.concat([null])):r>-1&&(e.close_cross=n.slice(0,r).concat(n.slice(r+1)))}else e.close_cross=s}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_fs_popup_closes","common")))])]):e._e(),e._v(" "),n("div",{attrs:{"data-tt":"Center the widget within the container"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.center,expression:"center"}],attrs:{type:"checkbox",disabled:e.popup},domProps:{checked:Array.isArray(e.center)?e._i(e.center,null)>-1:e.center},on:{change:function(t){var n=e.center,i=t.target,s=!!i.checked;if(Array.isArray(n)){var r=e._i(n,null);i.checked?r<0&&(e.center=n.concat([null])):r>-1&&(e.center=n.slice(0,r).concat(n.slice(r+1)))}else e.center=s}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_center","common")))])]),e._v(" "),n("div",{attrs:{"data-tt":"Opens the calendar's step automatically"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.open,expression:"open"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.open)?e._i(e.open,null)>-1:e.open},on:{change:function(t){var n=e.open,i=t.target,s=!!i.checked;if(Array.isArray(n)){var r=e._i(n,null);i.checked?r<0&&(e.open=n.concat([null])):r>-1&&(e.open=n.slice(0,r).concat(n.slice(r+1)))}else e.open=s}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_open","common")))])]),e._v(" "),n("div",{attrs:{"data-tt":"Calendar will expand to the container's width"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.large,expression:"large"}],attrs:{type:"checkbox",disabled:e.popup},domProps:{checked:Array.isArray(e.large)?e._i(e.large,null)>-1:e.large},on:{change:function(t){var n=e.large,i=t.target,s=!!i.checked;if(Array.isArray(n)){var r=e._i(n,null);i.checked?r<0&&(e.large=n.concat([null])):r>-1&&(e.large=n.slice(0,r).concat(n.slice(r+1)))}else e.large=s}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_full","common")))])]),e._v(" "),n("div",{attrs:{"data-tt":"Show a week view instead of the full month"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.week,expression:"week"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.week)?e._i(e.week,null)>-1:e.week},on:{change:function(t){var n=e.week,i=t.target,s=!!i.checked;if(Array.isArray(n)){var r=e._i(n,null);i.checked?r<0&&(e.week=n.concat([null])):r>-1&&(e.week=n.slice(0,r).concat(n.slice(r+1)))}else e.week=s}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_week","common")))])]),e._v(" "),n("div",{attrs:{"data-tt":"The first screen in your booking form will be a staff selection page(if you have more than one staff)"}},[n("label",{class:{"text-muted":e.staffSelected}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.staffpage,expression:"staffpage"}],attrs:{disabled:e.staffSelected,type:"checkbox"},domProps:{checked:Array.isArray(e.staffpage)?e._i(e.staffpage,null)>-1:e.staffpage},on:{change:function(t){var n=e.staffpage,i=t.target,s=!!i.checked;if(Array.isArray(n)){var r=e._i(n,null);i.checked?r<0&&(e.staffpage=n.concat([null])):r>-1&&(e.staffpage=n.slice(0,r).concat(n.slice(r+1)))}else e.staffpage=s}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_staff","common")))])]),e._v(" "),n("div",{attrs:{"data-tt":"Random selection of the staff"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.random,expression:"random"}],attrs:{type:"checkbox",disabled:e.staffpage},domProps:{checked:Array.isArray(e.random)?e._i(e.random,null)>-1:e.random},on:{change:function(t){var n=e.random,i=t.target,s=!!i.checked;if(Array.isArray(n)){var r=e._i(n,null);i.checked?r<0&&(e.random=n.concat([null])):r>-1&&(e.random=n.slice(0,r).concat(n.slice(r+1)))}else e.random=s}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_random","common")))])]),e._v(" "),e.simple?e._e():[e.filteredCalendars?n("div",[n("SearchDropdown",{attrs:{ph:"Lock Calendar/Staff",elements:e.filteredCalendars,labelSearchKey:"name"},model:{value:e.active_staff_id,callback:function(t){e.active_staff_id=t},expression:"active_staff_id"}})],1):e._e(),e._v(" "),e.filteredServices?n("div",{staticClass:"mt-2"},[n("SearchDropdown",{attrs:{ph:"Lock Service",elements:e.filteredServices,labelSearchKey:"name"},model:{value:e.active_service_id,callback:function(t){e.active_service_id=t},expression:"active_service_id"}})],1):e._e()]],2),e._v(" "),e.preview?n("div",[n("img",{staticClass:"img-fluid",attrs:{src:e.previewSCimg,alt:"preview booking button shape",width:"100"}})]):e._e(),e._v(" "),n("span",{staticStyle:{display:"none"}},[e._v(e._s(e.getShortCode))])])},[],!1,null,null,null);t.a=d.exports},VJs4:function(e,t,n){"use strict";var i=n("5pyh"),s=n("XfSa"),r=n("OiRY");var a,o,c={extends:s.a,mixins:[r.a],props:["dataPassed","servicesService","extraOptions","buttons","minimal","params"],data:function(){return{serviceService:null,modelHolder:{name:"",duration:60,type:"",address:"",options:{countries:[],phone_required:!1,video:""}},errors:{},formKey:"form"}},created:function(){void 0!==this.dataPassed&&(this.modelHolder=Object.assign({},this.dataPassed))},computed:{errorsPassed:function(){return this.errors},schemai18n:function(){return[{type:"row",class:"d-flex flex-wrap flex-sm-nowrap align-items-top fieldthumb",classEach:"mr-2",fields:[{type:"opt-imageselect",model:"options.icon",cast:String},{type:"input",label:this.get_i18n("service_f_name","settings"),model:"name",cast:String,class:"input-360"}]},{type:"checkbox",label:this.get_i18n("service_f_sell","settings"),model:"options.woo_sellable",cast:Boolean,default:!1},{type:"address",label:this.get_i18n("service_f_sdecs","settings"),model:"options.description",address:!1,cast:String},{type:"opt-multidurations",label:this.get_i18n("service_f_duration","settings"),model:"options.durations",cast:String,class:"w-100",default:[{duration:60}],min:5,max:240,step:5,int:!0,unit:"min",required_options_props:{woo_sellable:"woo_sellable"}},{type:"opt-modality",label:this.get_i18n("service_f_modality","settings"),model:"locations_id",cast:Array,checklistOptions:{value:"id"}},{type:"opt-customfields",label:this.get_i18n("service_f_cfield","settings"),model:"options.fields",bus:!0,listenBus:!0,cast:Array,checklistOptions:{value:"namekey"}},{type:"countryselector",label:this.get_i18n("service_f_countries","settings"),model:"options.countries",cast:Array,conditions:[{model:"options.fields",values:["phone"]}],validation:["required"]}]}},methods:{schemaParsed:function(){return window.wappointmentExtends.filter("ServiceFormSchema",this.addPriceField(this.schemai18n),this.params)},generatePriceField:function(){return{type:"input",label:this.sprintf_i18n("service_f_price","settings",this.currencyText),model:"options.woo_price",cast:String,conditions:[{model:"options.woo_sellable",values:[!0]}],liveParse:function(e){var t=(e=(e=e.replace(",",".")).replace(/[^0-9.]/g,"")).indexOf(".");return-1!==t&&t<e.length-2&&(e=Number.parseFloat(e).toFixed(2)),e}}},addPriceField:function(e){for(var t=0;t<e.length;t++)"opt-multidurations"==e[t].type&&(e[t].woo_price_field=this.generatePriceField());return e},isReady:function(e){this.$emit("ready",e)},initMethod:function(){this.serviceService=void 0!==this.servicesService?this.servicesService:this.$vueService(new i.a)},saveExternal:function(){this.$refs.formgenerator.submitTrigger(!0)},save:function(e){this.modelHolder=e,this.request(this.saveServiceRequest,void 0,void 0,!1,this.saved,this.failedValidation)},failedValidation:function(e){void 0!==e.response&&void 0!==e.response.data&&void 0!==e.response.data.data&&void 0!==e.response.data.data.errors&&void 0!==e.response.data.data.errors.validations&&(this.errors=e.response.data.data.errors.validations,this.formKey="form"+(new Date).getTime()),this.$refs.fgaddservice.reRender(),this.serviceError(e)},saveServiceRequest:(a=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceService.call("save",this.modelHolder);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}),o=function(){var e=a.apply(this,arguments);return new Promise(function(t,n){return function i(s,r){try{var a=e[s](r),o=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(o).then(function(e){i("next",e)},function(e){i("throw",e)});t(o)}("next")})},function(){return o.apply(this,arguments)}),saved:function(e){this.$emit("saved",e)}}},l=n("KHd+"),d=Object(l.a)(c,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("WAPFormGenerator",e._b({key:e.formKey,ref:"fgaddservice",attrs:{buttons:e.buttons,schema:e.schemaParsed(),data:e.modelHolder,errors:e.errorsPassed,minimal:e.minimal},on:{submit:e.save,back:function(t){e.$emit("back")},ready:e.isReady}},"WAPFormGenerator",e.extraOptions,!1))],1)},[],!1,null,null,null);t.a=d.exports},"c+oO":function(e,t,n){"use strict";var i=n("5oH9"),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["a"]),s(t,[{key:"endpoints",value:function(){return{save:{method:"post",route:"/calendars"},index:{method:"get",route:"/calendars"},delete:{method:"delete",route:"/calendars"},reorder:{method:"post",route:"/calendars/reorder"},saveService:{method:"post",route:"/calendars/services"},saveCustomFields:{method:"post",route:"/calendars/customfields"},loadCustomFields:{method:"get",route:"/calendars/customfields"},savePermission:{method:"post",route:"/calendars/permissions"},toggle:{method:"post",route:"/calendars/toggle"},getAvatar:{method:"post",route:"/calendars/avatar"},saveCal:{method:"post",route:"/calendars/savecal",timeout:3e4},refreshCalendars:{method:"post",route:"/calendars/refreshcalendars"},disconnectCal:{method:"post",route:"/calendars/disconnect"}}}}]),t}();t.a=r},eErJ:function(e,t,n){"use strict";var i=n("5pyh");var s,r,a={extends:n("XfSa").a,props:["dataPassed","servicesService","extraOptions","buttons"],data:function(){return{serviceService:null,modelHolder:{name:"",duration:60,type:"",address:"",options:{countries:[],phone_required:!1,video:""}},errors:{},formKey:"form"}},created:function(){void 0!==this.dataPassed&&(this.modelHolder=Object.assign({},this.dataPassed))},computed:{schemai18n:function(){return[{type:"row",class:"d-flex flex-wrap flex-sm-nowrap align-items-center",classEach:"mr-2 w-100",fields:[{type:"input",label:this.get_i18n("wizard_3_servicename","wizard"),model:"name",cast:String,styles:{"max-width":"200px"},validation:["required"]},{type:"duration",label:this.get_i18n("wizard_3_duration","wizard"),model:"duration",cast:String,class:"w-100",default:60,min:5,max:240,step:5,int:!0,unit:"min",validation:["required"]}]},{type:"checkimages",label:this.get_i18n("wizard_3_delivery","wizard"),model:"type",cast:Array,images:[{value:"zoom",name:this.get_i18n("wizard_3_delivery_video","wizard"),subname:"(Zoom, Google meet, ...)",icon:["fas","video"]},{value:"physical",name:this.get_i18n("wizard_3_delivery_address","wizard"),icon:"map-marked-alt"},{value:"phone",name:this.get_i18n("wizard_3_delivery_byphone","wizard"),icon:"phone"},{value:"skype",name:this.get_i18n("wizard_3_delivery_byskype","wizard"),icon:["fab","skype"]}],validation:["required"]},{type:"checkimages",label:this.get_i18n("wizard_3_select_video","wizard"),radioMode:!0,model:"options.video",cast:Array,images:[{value:"zoom",name:"Zoom",icon:"zoom.png",icontype:"img",realsize:!0},{value:"googlemeet",name:"Google Meet",icon:"google-meet.png",icontype:"img",realsize:!0}],conditions:[{model:"type",values:["zoom"]}],validation:["required"]},{type:"address",label:this.get_i18n("wizard_3_address","wizard"),model:"address",cast:String,conditions:[{model:"type",values:["physical"]}],validation:["required"]},{type:"checkbox",label:this.get_i18n("wizard_3_delivery_phone_require","wizard"),model:"options.phone_required",cast:Boolean},{type:"countryselector",label:this.get_i18n("wizard_3_accepted_countries","wizard"),model:"options.countries",cast:Array,conditions:[{type:"or",conda:{model:"type",values:["phone"]},condb:{model:"options.phone_required",values:[!0]}}],validation:["required"]}]},schemaParsed:function(){return window.wappointmentExtends.filter("serviceFormSchema",this.schemai18n,this.modelHolder)},errorsPassed:function(){return this.errors}},methods:{isReady:function(e){this.$emit("ready",e)},initMethod:function(){this.serviceService=void 0!==this.servicesService?this.servicesService:this.$vueService(new i.a)},saveExternal:function(){this.$refs.formgenerator.submitTrigger(!0)},save:function(e){this.modelHolder=e,this.request(this.saveServiceRequest,void 0,void 0,!1,this.saved,this.failedValidation)},failedValidation:function(e){void 0!==e.response&&void 0!==e.response.data&&void 0!==e.response.data.data&&void 0!==e.response.data.data.errors&&void 0!==e.response.data.data.errors.validations&&(this.errors=e.response.data.data.errors.validations,this.formKey="form"+(new Date).getTime()),this.serviceError(e)},saveServiceRequest:(s=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceService.call("save",this.modelHolder);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}),r=function(){var e=s.apply(this,arguments);return new Promise(function(t,n){return function i(s,r){try{var a=e[s](r),o=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(o).then(function(e){i("next",e)},function(e){i("throw",e)});t(o)}("next")})},function(){return r.apply(this,arguments)}),saved:function(e){this.$emit("saved"),this.serviceSuccess(e)}}},o=n("KHd+"),c=Object(o.a)(a,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("WAPFormGenerator",e._b({key:e.formKey,ref:"formgenerator",attrs:{buttons:e.buttons,schema:e.schemaParsed,data:e.modelHolder,errors:e.errorsPassed},on:{submit:e.save,back:function(t){e.$emit("back")},ready:e.isReady}},"WAPFormGenerator",e.extraOptions,!1))],1)},[],!1,null,null,null);t.a=c.exports},frdH:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.text-dark.tt-danger{\n    cursor:default;\n}\n.packlisting .btn-light:not(:disabled):not(.disabled).active,\n.packlisting .btn-light:not(:disabled):not(.disabled):active\n {\n  color: #fff;\n  background-color: #b5b4e6;\n  border-color: #d3d9df;\n}\n",""])},hfjm:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.payment .wcell .img-fluid{\n    height : 18px;\n}\n.payment.tt-disabled .wcell .img-fluid{\n    filter: grayscale(1);\n}\n.payment.tt-disabled:hover .wcell .img-fluid{\n    filter: grayscale(0);\n}\n.payment .wcell .dashicons{\n    display:none;\n}\n.payment .wcell:hover .dashicons{\n    display:inline;\n}\n.payment .wcell .dashicons{\n    font-size: 16px;\n}\n",""])},"hs9/":function(e,t,n){"use strict";var i={props:{image:{type:Object}},computed:{resourcesUrl:function(){return window.apiWappointment.resourcesUrl+"images/"}}},s=(n("0YK1"),n("KHd+")),r=Object(s.a)(i,function(){var e=this.$createElement;return(this._self._c||e)("img",{staticClass:"img-fluid",attrs:{title:this.image.title,src:this.resourcesUrl+this.image.icon,alt:this.image.alt}})},[],!1,null,null,null);t.a=r.exports},j2Ig:function(e,t,n){var i=n("ARFL");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("77410511",i,!0,{})},jVgC:function(e,t,n){var i=n("hfjm");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("4163c350",i,!0,{})},jwg7:function(e,t,n){"use strict";n.r(t);var i=n("XfSa"),s=n("VJs4"),r=n("eErJ"),a={extends:i.a,props:["legacy"],data:function(){return{viewName:"service",parentLoad:!1,model:{name:"",duration:60,type:"",address:"",options:{countries:[]}}}},components:{ServiceModulable:s.a,ServiceLegacy:r.a},methods:{initMethod:function(){this.request(this.initValueRequest,void 0,void 0,!1,this.loaded)},loaded:function(e){this.viewData=e.data,this.model=e.data.service,this.model.duration=parseInt(this.model.duration),-1!==["",null,void 0].indexOf(this.model.options)&&(this.model.options={countries:[]}),this.$emit("fullyLoaded")},saveTransmit:function(e){this.$emit("saved",e)}}},o=n("KHd+"),c=Object(o.a)(a,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dataLoaded?n("div",{staticClass:"container-fluid"},[e.legacy?n("ServiceLegacy",{attrs:{dataPassed:e.model,buttons:!0},on:{saved:function(t){e.$emit("saved")}}}):n("ServiceModulable",{attrs:{dataPassed:e.model,buttons:!0},on:{saved:e.saveTransmit}})],1):e._e()},[],!1,null,null,null);t.default=c.exports},kOgY:function(e,t,n){var i=n("yzvr");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("3c7e95df",i,!0,{})},uChi:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n#shortcode_block{\n    border: 2px solid var(--primary);\n    border-radius: .3rem;\n    padding: 1rem;\n    text-align: center;\n}\n#shortcode_block p{\n    font-size: 1.4rem;\n}\n.shortcode-editor{\n    max-width:600px;\n}\n.shortcode-gen{\n    background-color: #f5f5f5;\n    padding: .5em;\n    border-radius: .4em;\n}\n\n",""])},xX18:function(e,t,n){"use strict";var i=n("LFG5");n.n(i).a},yzvr:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.location {\n    margin: .2rem;\n    color: #717171;\n}\n.wcell.duration-cell{\n    padding: 0;\n}\n.wcell.duration-cell span{\n    display: inline-block;\n    padding: .3em;\n}\n.wcell.duration-cell span:nth-child(2) {\n    background: #fbfbfb;\n    border-left:1px solid #ccc;\n}\n",""])}}]);