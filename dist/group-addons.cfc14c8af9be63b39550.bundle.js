(window.webpackJsonp=window.webpackJsonp||[]).push([[12,4,18],{"+vtg":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-front .wduration{\n    font-weight: bold;\n    margin: 0 .2em;\n}\n.wap-front .welementname{\n    line-height: 1.2em;\n}\n.wselected .welementname,\n.wselected .wduration,\n.wselected .wap-img svg,\n.wbtn-primary-light .wap-img svg,\n.wap-front .wselected .wprice{\n    color: var(--wappo-pri-tx);\n}\n.success .wap-img svg{\n    color: var(--wappo-success-tx);\n}\n.wap-front .wsep::before{\n    content: ' ';\n    margin: 0 .4em;\n}\n.wclose::before, .wclose::after{\n    content: ' ';\n    position: absolute;\n    background-color: #b5b1b1;\n}\n.wclose::before{\n    transform: translateX(15px) rotate(45deg);\n}\n.wclose::after{\n    transform: translateX(15px) rotate(-45deg);\n}\n.wclose:hover::before, \n.wclose:hover::after{\n    background-color: #7a7575;\n    width: 1px;\n}\n.wclose{\n    cursor: pointer;\n    height: 1em;\n    width: 1em;\n    display: inline-block;\n    border-radius: 2em;\n    position:relative;\n}\n.wclose::before, \n.wclose::after{\n    height: .8em;\n    width: 1px;\n    top: .1em;\n    right: 1.5em;\n}\n",""])},"/vDO":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-terms{\n    font-size: .7em;\n    text-align: left;\n    line-height: 1.4;\n    margin-bottom: .3em;\n}\n\n",""])},"0LHV":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.commands-div{\n    min-width:280px;\n}\n",""])},"0YK1":function(t,e,n){"use strict";var i=n("7s+T");n.n(i).a},"0dk3":function(t,e,n){var i=n("sc10");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("73e3fd82",i,!0,{})},"1/zx":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'\n.wbtn.no-avail span, \n.wbtn.avail span, \n.wbtn-secondary.wbtn-round span {\n    display: block;\n    line-height: 2.2em;\n    font-size: 1.2em;\n    padding:0;\n    margin:0;\n}\n.over360 .ddays .wbtn.no-avail span, \n.over360 .ddays .wbtn.avail span  {\n    line-height: 2.4em;\n}\n.over360 .wbtn-secondary.wbtn-round span  {\n    line-height: 2em;\n}\n.sq {\n  position: relative;\n}\n.sq:after {\n  content: "";\n  display: block;\n  padding-bottom: 100%;\n}\n.sq span {\n  display:block;\n  position: absolute !important;\n  width: 100%;\n  height: 100%;\n}\n',""])},"1GcS":function(t,e,n){var i=n("sEG9");(t.exports=n("I1BE")(!1)).push([t.i,".addon ul li::before {\n    font-family: dashicons;\n    background-color: #9393c8;\n    -webkit-mask: url("+i(n("ashb"))+") no-repeat center;\n    mask: url("+i(n("ashb"))+') no-repeat center;\n    content: " ";\n    font-weight: 900;\n    position: absolute;\n    left: -1.6rem;\n    width: 20px;\n    height: 16px;\n    color: #fff;\n    margin-top: .1rem;\n}',""])},"2DFw":function(t,e,n){"use strict";var i=n("l2W7"),s=n("7O5W"),o=n("OHi5"),a=n("xJv6"),r=n("Qjxm"),c=n("rT2p"),l=n("VQM7"),d={extends:n("gIVG").default,data:function(){return{bfdemo:!0}},watch:{step:function(t){-1===[void 0,null].indexOf(t)&&this.demoConfigure(t)}},methods:{refreshInitValue:function(){this.viewData=this.options.frontAvailability,this.loadedAfter()},loadedInit:function(t){-1===[void 0,null].indexOf(t)&&this.demoConfigure(t)},demoConfigure:function(t){var e=this.isLegacy?this.getChildComponentDataForStepLegacy(t,this.options.editionsSteps):this.getChildComponentDataForStep(t,this.options.editionsSteps),n=window.wappointmentExtends.filter("BFDemoGetChildComponentForStep",this.getChildComponentForStep(t),{step_name:t}),i=window.wappointmentExtends.filter("BFDemoGetChildComponentDataForStep",e,{step_name:t,bookingFormObject:this,editionsSteps:this.options.editionsSteps});this.childChangedStep(n,i)},getChildComponentDataForStepLegacy:function(t,e){var n={},i=e.findIndex(function(t){return"selection"==t.key}),s=e.findIndex(function(t){return"form"==t.key}),o=(e.findIndex(function(t){return"confirmation"==t.key}),t),a=e.findIndex(function(t){return t.key==o});return a<i&&(n.selectedSlot=!1,n.appointmentSaved=!1,n.dataSent={}),a>i&&(n.selectedSlot=this.getSlotAvailableForDemo(),n.location=void 0!==this.service.type?this.service.type[0]:""),a>s&&(n.appointmentSaved=!0,null!==this.passedDataSent?n.dataSent=this.passedDataSent:n.dataSent=this.options.demoData.form),n},getChildComponentDataForStep:function(t,e){var n={},i=e.findIndex(function(t){return"service_selection"==t.key}),s=e.findIndex(function(t){return"service_duration"==t.key}),o=e.findIndex(function(t){return"service_location"==t.key}),a=e.findIndex(function(t){return"selection"==t.key}),r=e.findIndex(function(t){return"form"==t.key}),c=(e.findIndex(function(t){return"confirmation"==t.key}),e.findIndex(function(e){return e.key==t}));return c<a&&(n.selectedSlot=!1,n.appointmentSaved=!1,n.dataSent={}),c>0&&(n.service=!1,n.duration=!1,n.location=!1),c>i&&(n.service=this.services[0]),c>s&&(n.duration=n.service.options.durations[0].duration),c>o&&(n.location=n.service.locations[0]),c>a&&(n.selectedSlot=this.getSlotAvailableForDemo()),c>r&&(n.appointmentSaved=!0,n.dataSent=null!==this.passedDataSent?this.passedDataSent:this.options.demoData.form),n},getChildComponentForStep:function(t){switch(t){case"staff_selection":return"BookingStaffSelection";case"service_selection":return"BookingServiceSelection";case"service_duration":return"BookingDurationSelection";case"service_location":return"BookingLocationSelection";case"selection":return"BookingCalendar";case"swift_payment":return"BookingPaymentStep";case"form":return"BookingFormInputs";case"confirmation":return"BookingFormConfirmation"}},getSlotAvailableForDemo:function(){return{start:this.intervalsCollection.intervals[0].start}}}},u=n("KHd+"),p=Object(u.a)(d,void 0,void 0,!1,null,null,null).exports,h={extends:l.a,components:{BookingFormDemo:window.wappointmentExtends.filter("BookingDemoComponent",p)},methods:{toggleBookForm:function(){if(this.disabledButtons){var t=this.options.editionsSteps.findIndex(function(t){return"button"==t.key})+1;this.options.eventsBus.emits("stepChanged",this.options.editionsSteps[t].key)}else;}}},f=Object(u.a)(h,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wap-front",class:{"br-fixed":t.isBottomRight},attrs:{id:t.elementId}},[n("StyleGenerator",{attrs:{options:t.opts,wrapper:t.elementId}}),t._v(" "),t.isPage?n("div",[t.isBookingPage?n("BookingFormDemo",{attrs:{options:t.opts}}):n("ViewingAppointment",{attrs:{options:t.opts,view:t.getParameterByName("view"),appointmentkey:t.getParameterByName("appointmentkey")}})],1):t._e(),t._v(" "),t.isWidget?n("div",{staticClass:"wap-wid"},[t.bookForm&&t.isBottomRight?n("span",{staticClass:"close-wid",on:{click:t.backToButton}}):t._e(),t._v(" "),t.bookForm?n("BookingFormDemo",{attrs:{step:t.currentStep,options:t.opts,passedDataSent:t.dataSent}}):n("BookingButton",{staticClass:"wbtn wbtn-booking wbtn-primary",attrs:{options:t.opts},on:{click:t.toggleBookForm}},[t._v(t._s(t.realButtonTitle))])],1):t._e()],1)},[],!1,null,null,null).exports,v=n("hehe"),m=n("7yAQ"),g={name:"core-slider",props:["options"],mixins:[n("nbzh").a],computed:{getunit:function(){return void 0!==this.options.unit?this.options.unit:""}}},w=Object(u.a)(g,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex align-items-center"},[n("label",{staticClass:"mr-2",attrs:{for:t.id}},[t._v(t._s(t.label)+" ("+t._s(t.updatedValue)+t._s(t.getunit)+")")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedValue,expression:"updatedValue"}],attrs:{type:"range",id:t.id,min:t.options.min,max:t.options.max,step:t.options.step},domProps:{value:t.updatedValue},on:{__r:function(e){t.updatedValue=e.target.value}}})])},[],!1,null,null,null).exports,b=n("sgCK"),y=n("whSN"),_=n("lpR3"),x=n("Vz0f"),S=n("eWXC"),k=n("MQ60"),C=n.n(k),D=n("UrQX"),A=n("a8Nn");s.c.add(o.faPalette,a.faEdit,r.faSave);var O={components:{Front:l.a,FrontDemo:f,ColorPicker:v.a,CountrySelector:x.a,InputPh:window.wappoGet("InputPh"),FormFieldCheckbox:m.a,FormFieldSelect:b.a,FormFieldSlider:w,FontAwesomeIcon:c.a,draggable:C.a},mixins:[y.a,_.a],props:["preoptions","bgcolor","config","widgetFields","defaultSettings","frontAvailability","editingMode","shortcodeParams","steps"],data:function(){return{step:"general",showAdvancedColors:!1,options:null,tbgcolor:"#fff",colorEdit:!1,textEdit:!0,canSave:!1,labelActiveStep:"",tagRemoved:{},showCategory:"",editionsStepsLegacy:[{key:"button",label:"Booking button"},{key:"selection",label:"Slot selection"},{key:"form",label:"Form"},{key:"confirmation",label:"Confirmation"}],editionsSteps:[],reverseEditionsSteps:[],categoriesOrder:[],reloading:!1}},created:function(){this.editionsSteps=window.wappointmentExtends.filter("WidgetEditorEditionsSteps",this.isLegacy?this.editionsStepsLegacy:this.steps,this.config,A),this.reverseEditionsSteps=this.editionsSteps.slice(0).reverse(),this.options=Object.assign({},this.preoptions),this.options.editionsSteps=this.editionsSteps,this.options.frontAvailability=this.frontAvailability,this.options.eventsBus=S.a,this.options.demoData={form:{ctz:"Europe/Paris",name:"John Mcgregor",email:"j.mcgregor@gmail",phone:"6552",skype:"jmcg",type:void 0!==this.config.service.type?this.config.service.type[0]:"",time:!1}},this.tbgcolor=this.bgcolor,S.a.listens("stepChanged",this.stepChanged),S.a.listens("dataDemoChanged",this.dataChanged),this.stepChanged("general"),this.categoriesOrder=this.widgetFields.swift_payment.categories.sort(function(t,e){return void 0!==t.nodrag?1:0})},computed:{isLegacy:function(){return this.frontAvailability.services.length<2&&void 0!==this.frontAvailability.services[0].type},pendingByDefault:function(){return this.config.approval_mode>1},hasMultipleTypes:function(){return this.allowedTypeMultiple},getStyleThemeBg:function(){return"background-color:"+this.hx_rgb(this.tbgcolor)},allowedTypeMultiple:function(){return this.config.service.type.length>1},stepButton:function(){return"button"==this.step},stepCalendar:function(){return"selection"==this.step},stepForm:function(){return"form"==this.step},stepConfirmation:function(){return"confirmation"==this.step},currentIndexStep:function(){var t=this;return this.editionsSteps.findIndex(function(e){return e.key==t.step})}},watch:{options:{handler:function(t,e){null!==e&&(this.canSave=!0)},deep:!0}},methods:{changeCategoriesOrder:function(t){this.$WapModal().request(this.settingSaveRequest({key:"payments_order",val:this.categoriesOrder.map(function(t){return t.key})})).then(this.savedCategoriesSuccess).catch(this.serviceError)},savedCategoriesSuccess:function(t){this.serviceSuccess(t),window.apiWappointment.methods=t.data.methods,this.reloadStep()},reloadStep:function(){var t=this;this.reloading=!0,setTimeout(function(){t.reloading=!1},50)},parseLabel:function(t){return D.render(t,{classPrefix:"bbcode",newLine:!1,allowData:!0,allowClasses:!0})},tagHasBeenRemoved:function(t,e){if("string"==typeof t){var n=this.getTags(t);if(!1===n)return n;for(var i=0;i<n.length;i++)if(-1===e.indexOf(n[i]))return!0}return!1},getTags:function(t){var e=t.match(/\[[^\]]*]/g);return!!Array.isArray(e)&&e},dataChanged:function(t){this.options.demoData.form=t},getOrderClass:function(t,e){return"order-"+(e>=this.currentIndexStep?e-this.currentIndexStep:this.editionsSteps.length-(this.currentIndexStep-e))},orderedClass:function(t,e){var n={hover:t.key==this.step,hidestep:-1===["general",t.key].indexOf(this.step)};return!1===this.colorEdit&&(n[this.getOrderClass(t,e)]=!0),n},screenScrollWatch:function(t,e){1==t[0].intersectionRatio?this.$refs.editorbar.classList.remove("stick-to-top"):this.$refs.editorbar.classList.add("stick-to-top")},stepChanged:function(t){this.setStep(t,this.getLabelForStep(t))},getLabelForStep:function(t){for(var e=0;e<this.editionsSteps.length;e++)if(t==this.editionsSteps[e].key)return"Step "+(e+1)+": "+this.editionsSteps[e].label},changedInput:function(t,e,n){var i=t+"_"+e;this.tagRemoved[i]=this.tagHasBeenRemoved(this.defaultSettings[t][e],this.options[t][e])},getFieldAdminInfos:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("colors"==t){var i=null!==this.widgetFields&&void 0!==this.widgetFields[t]&&void 0!==this.widgetFields[t]&&void 0!==this.widgetFields[t][e]&&this.widgetFields[t][e];return!1!==i&&void 0!==i.fields&&void 0!==i.fields[n]?i.fields[n]:i}return!1!==n?null!==this.widgetFields&&void 0!==this.widgetFields[t].categories[n]&&void 0!==this.widgetFields[t].categories[n].fields&&void 0!==this.widgetFields[t].categories[n].fields[e]&&this.widgetFields[t].categories[n].fields[e]:null!==this.widgetFields&&void 0!==this.widgetFields[t]&&void 0!==this.widgetFields[t].fields&&void 0!==this.widgetFields[t].fields[e]&&this.widgetFields[t].fields[e]},getFieldTip:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getFieldAdminInfos(t,e,n);return void 0!==i.tip?i.tip:""},canShowField:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getConditions(t,e,n);if(!1!==n){var s=this.getFieldAdminInfos(t,e,n);if(void 0!==s.fields&&void 0===s.fields[n])return!1}if(!1!==i){for(var o=!0,a=0;a<i.length;a++){var r=i[a];if(this.getValueOnDottedKey(r.key)!==r.val)return!1}return o}return!0},getValueOnDottedKey:function(t){var e=[];return e=-1!==t.indexOf(".")?t.split("."):[t],this.getDeepValue(this.options,e)},getDeepValue:function(t,e){var n=e.shift(),i=void 0!==t[n]&&t[n];return e.length>0?this.getDeepValue(i,e):i},getConditions:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getFieldAdminInfos(t,e,n);return void 0!==i.conditions&&i.conditions},getLabel:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getFieldAdminInfos(t,e);return!1!==n&&this.hasFieldKey(i,n)?void 0!==i.fields[n].label?i.fields[n].label:n:!1!==i?i.label:e},isMain:function(t,e){return!0===this.getFieldAdminInfos(t,e).main},getOptions:function(t,e){var n=this.getFieldAdminInfos(t,e);return!1!==n?n.options:null},hasFieldKey:function(t,e){return!1!==t&&void 0!==t.fields[e]},getVisibility:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getFieldAdminInfos(t,e);return!1!==n&&this.hasFieldKey(i,n)?void 0===i.fields[n].hidden:!1===i||void 0===i.hidden},isCurrentStep:function(t){return this.step==t},isExtraSet:function(t){return-1===["button","selection","form","confirmation"].indexOf(t)},isComponentTypeActive:function(t,e,n,i){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return void 0!==t&&("#"==t[0]?!0===s&&this.colorEdit&&this.getVisibility(e,n,i):!0!==s&&this.getVisibility(e,i))},getComponentType:function(t,e){return-1===["select_service","select_location","select_duration","select_package"].indexOf(e)&&-1!==["check_","slide_","select"].indexOf(e.substr(0,6))?"check_"==e.substr(0,6)?"FormFieldCheckbox":"select_"==e.substr(0,7)?"FormFieldSelect":"FormFieldSlider":"#"==t[0]?"ColorPicker":"InputPh"},getCompProp:function(t){return t},allowedType:function(t){return-1!==this.config.service.type.indexOf(t)},saveChanges:function(){this.canSave&&this.$WapModal().request(this.settingSaveRequest({key:"widget",val:this.options})).then(this.savedWidgetSuccess).catch(this.serviceError)},savedWidgetSuccess:function(t){this.canSave=!1,this.serviceSuccess(t)},savedWidgetFailed:function(t){},setStep:function(t,e){this.step=t,this.labelActiveStep=e,void 0!==this.widgetFields[t]&&void 0!==this.widgetFields[t].categories&&(this.showCategory=this.widgetFields[t].categories[0].label)},toggleColor:function(){this.colorEdit=!this.colorEdit,this.step="general"},toggleText:function(){this.textEdit=!this.textEdit}}},E=(n("k6XK"),Object(u.a)(O,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"d-flex booking-widget-editor"},[n("div",{staticClass:"widget-wraper p-3 mr-3",style:t.getStyleThemeBg},[n("div",{staticClass:"clear pt-2"},[t.editingMode?t._e():n("div",[n("Front",{attrs:{options:t.preoptions,classEl:"wappointment_widget",attributesEl:t.shortcodeParams}})],1),t._v(" "),t.editingMode&&void 0!==t.frontAvailability?n("div",{staticClass:"d-flex flex-wrap preview-book"},t._l(t.editionsSteps,function(e,i){return n("div",{staticClass:"bordered",class:t.orderedClass(e,i),attrs:{"data-tt":e.key==t.step&&t.labelActiveStep}},[t.reloading?t._e():n("div",{staticClass:"overflowhidden",class:"step-"+e.key},[n("FrontDemo",{attrs:{options:t.options,classEl:"wappointment_widget",step:e.key}})],1)])}),0):t._e()])]),t._v(" "),t.editingMode?n("div",{staticClass:"align-self-start",attrs:{id:"editor-bar"}},[n("div",{staticClass:"mb-2"},[n("button",{staticClass:"btn btn-primary",class:{disabled:!t.canSave},on:{click:t.saveChanges}},[n("FontAwesomeIcon",{attrs:{icon:["fas","save"],size:"lg"}}),t._v(" "+t._s(t.get_i18n("save","common")))],1)]),t._v(" "),n("div",{staticClass:"widget-fields-wrapper"},[n("div",[n("div",[n("button",{staticClass:"btn btn-secondary btn-cell btn-xs ml-0 mr-2 btn-switch-edit",class:{selected:!t.colorEdit},on:{click:t.toggleColor}},[n("span",[n("FontAwesomeIcon",{attrs:{icon:["fas","edit"],size:"lg"}}),t._v(" "+t._s(t.get_i18n("bwe_edit_text","common")))],1)]),t._v(" "),n("button",{staticClass:"btn btn-secondary btn-cell btn-xs ml-0 mr-2 btn-switch-edit",class:{selected:t.colorEdit},on:{click:t.toggleColor}},[n("span",[n("FontAwesomeIcon",{attrs:{icon:["fas","palette"],size:"lg"}}),t._v(" "+t._s(t.get_i18n("bwe_edit_color","common")))],1)])]),t._v(" "),n("div",{staticClass:"d-flex align-items-center my-2"},[t.colorEdit?t._e():n("div",{staticClass:"d-flex flex-wrap align-items-center"},[void 0!==t.widgetFields.general?n("button",{staticClass:"btn btn-link btn-xs mr-1 tt-below",class:{selected:"general"==t.step},attrs:{"data-tt":"General"},on:{click:function(e){t.setStep("general","General")}}},[t._v(" "+t._s(t.get_i18n("bwe_general","common")))]):t._e(),t._v(" "),n("span",{staticClass:"small text-muted mr-1"},[t._v(">")]),t._v(" "),t._l(t.editionsSteps,function(e,i){return[n("button",{staticClass:"btn btn-link btn-xs mr-1 tt-below",class:{selected:t.step==e.key},attrs:{"data-tt":e.label},on:{click:function(n){t.setStep(e.key,t.getLabelForStep(e.key))}}},[t._v(" "+t._s(t.get_i18n("bwe_step","common"))+" "+t._s(i+1))]),t._v(" "),i!==t.editionsSteps.length-1?n("span",{staticClass:"small text-muted mr-1"},[t._v(">")]):t._e()]})],2)])]),t._v(" "),n("div",{staticClass:"bwe-settings-bar"},[n("transition",{attrs:{name:"slide-fade-top"}},[t.colorEdit?n("div",{staticClass:"colors-fields"},[t._l(t.options.colors,function(e,i){return t.isMain("colors",i)||t.showAdvancedColors?n("fieldset",[n("legend",[t._v(t._s(t.getLabel("colors",i)))]),t._v(" "),t._l(e,function(e,s){return t.canShowField("colors",i,s)?n("div",{staticClass:"tt-below",attrs:{"data-tt":!!t.getFieldTip("colors",i,s)&&t.getFieldTip("colors",i,s)}},[t.isComponentTypeActive(e,"colors",i,s,!0)?n(t.getComponentType(e,s),{key:s,tag:"component",attrs:{eventChange:"input",label:t.getLabel("colors",i,s),ph:t.defaultSettings.colors[i][s],options:t.getOptions("colors",i,s),allowReset:""},model:{value:t.options.colors[i][s],callback:function(e){t.$set(t.options.colors[i],s,e)},expression:"options.colors[group_key][input_key]"}}):t._e()],1):t._e()})],2):t._e()}),t._v(" "),t.showAdvancedColors?t._e():n("a",{staticClass:"my-2 small",attrs:{href:"javascript:;"},on:{click:function(e){t.showAdvancedColors=!0}}},[t._v(t._s(t.get_i18n("bwe_edit_more_colors","common"))+" ")])],2):t._e()])],1),t._v(" "),t.colorEdit?t._e():n("div",{staticClass:"bwe-settings-bar"},[t._l(t.reverseEditionsSteps,function(e,i){return n("div",{key:e.key},[n("transition",{attrs:{name:"slide-fade-top"}},[t.isCurrentStep(e.key)?n("div",{staticClass:"widget-fields",class:{"active-fields":t.step==e.key},attrs:{"data-step":"Step "+(4-i)+": "+e.label}},[void 0!==t.widgetFields[e.key]&&void 0!==t.widgetFields[e.key].categories?n("div",[void 0!==t.widgetFields[e.key].categories_draggable?n("draggable",{staticClass:"nav nav-tabs ml-2",attrs:{draggable:".candrg"},on:{change:t.changeCategoriesOrder},model:{value:t.categoriesOrder,callback:function(e){t.categoriesOrder=e},expression:"categoriesOrder"}},t._l(t.categoriesOrder,function(e,i){return n("div",{staticClass:"nav-item d-flex mr-2",class:{candrg:void 0===e.nodrag},attrs:{role:"button"},on:{click:function(n){t.showCategory=e.label}}},[n("a",{staticClass:"nav-link",class:{active:t.showCategory==e.label}},[void 0===e.nodrag?n("span",{staticClass:"dashicons dashicons-move"}):t._e(),t._v("\n                                                "+t._s(e.label)+"\n                                            ")])])}),0):n("div",{staticClass:"nav nav-tabs ml-2"},t._l(t.widgetFields[e.key].categories,function(e,i){return n("div",{staticClass:"nav-item d-flex mr-2",attrs:{role:"button"},on:{click:function(n){t.showCategory=e.label}}},[n("a",{staticClass:"nav-link",class:{active:t.showCategory==e.label}},[t._v("\n                                                "+t._s(e.label)+"\n                                            ")])])}),0),t._v(" "),t._l(t.widgetFields[e.key].categories,function(i,s){return n("div",{class:{"selected-tab":t.showCategory==i.label}},[t.showCategory==i.label?n("div",{staticClass:"ml-3 mt-3"},[void 0!==i.sub?n("div",{staticClass:"small",domProps:{innerHTML:t._s(t.parseLabel(i.sub))}}):t._e(),t._v(" "),t._l(i.fields,function(i,o){return t.canShowField(e.key,o,s)?n("div",{staticClass:"tt-below",attrs:{"data-tt":!!t.getFieldTip(e.key,o,s)&&t.getFieldTip(e.key,o,s)}},[t._v("\n                                                "+t._s(t.changedInput(e.key,o,t.options[e.key][o]))+"\n                                                "),t.isComponentTypeActive(t.options[e.key][o],e.key,o,o)?n(t.getComponentType(t.options[e.key][o],o),t._b({key:o,tag:"component",attrs:{eventChange:"input",label:i.label,completeTrigger:void 0!==i.togglesave,ph:t.defaultSettings[e.key][o],options:void 0!==i.options?i.options:{},allowReset:""},on:{input:function(n){return t.changedInput(e.key,o,n)},toggleComplete:t.reloadStep},model:{value:t.options[e.key][o],callback:function(n){t.$set(t.options[e.key],o,n)},expression:"options[stepObj.key][field_key]"}},"component",t.getCompProp(i),!1)):t._e(),t._v(" "),-1===[void 0,!1].indexOf(t.tagRemoved[e.key+"_"+o])?n("div",{staticClass:"small text-danger"},[t._v("\n                                                You should leave the tag(s) "+t._s(t.getTags(t.defaultSettings[e.key][o]).join(", "))+"\n                                                ")]):t._e()],1):t._e()})],2):t._e()])})],2):n("div",[void 0!==t.widgetFields[e.key]&&void 0!==t.widgetFields[e.key].sub?[n("div",{staticClass:"small",domProps:{innerHTML:t._s(t.parseLabel(t.widgetFields[e.key].sub))}})]:t._e(),t._v(" "),t._l(t.options[e.key],function(i,s){return t.canShowField(e.key,s)?n("div",{staticClass:"tt-below",attrs:{"data-tt":!!t.getFieldTip(e.key,s)&&t.getFieldTip(e.key,s)}},[t._v("\n                                        "+t._s(t.changedInput(e.key,s,i))+"\n                                        "),t.isComponentTypeActive(i,e.key,s,s)?n(t.getComponentType(i,s),t._b({key:s,tag:"component",attrs:{eventChange:"input",label:t.getLabel(e.key,s),ph:t.defaultSettings[e.key][s],options:t.getOptions(e.key,s),allowReset:""},on:{input:function(n){return t.changedInput(e.key,s,n)}},model:{value:t.options[e.key][s],callback:function(n){t.$set(t.options[e.key],s,n)},expression:"options[stepObj.key][field_key]"}},"component",t.getCompProp(i),!1)):t._e(),t._v(" "),-1===[void 0,!1].indexOf(t.tagRemoved[e.key+"_"+s])?n("div",{staticClass:"small text-danger"},[t._v("\n                                        You should leave the tag(s) "+t._s(t.getTags(t.defaultSettings[e.key][s]).join(", "))+"\n                                        ")]):t._e()],1):t._e()})],2)]):t._e()])],1)}),t._v(" "),n("transition",{attrs:{name:"slide-fade-top"}},[t.isCurrentStep("general")?n("div",{staticClass:"widget-fields",class:{"active-fields":"general"==t.step},attrs:{"data-step":"General"}},t._l(t.options.general,function(e,i){return t.canShowField("general",i)?n("div",{staticClass:"tt-below",attrs:{"data-tt":!!t.getFieldTip("general",i)&&t.getFieldTip("general",i)}},[t._v("\n                                "+t._s(t.changedInput("general",i,e))+"\n                                "),t.isComponentTypeActive(e,"general",i,i)?n(t.getComponentType(e,i),{key:i,tag:"component",attrs:{eventChange:"input",label:t.getLabel("general",i),ph:t.defaultSettings.general[i],options:t.getOptions("general",i),allowReset:""},on:{input:function(e){return t.changedInput("general",i,e)}},model:{value:t.options.general[i],callback:function(e){t.$set(t.options.general,i,e)},expression:"options['general'][field_key]"}}):t._e(),t._v(" "),-1===[void 0,!1].indexOf(t.tagRemoved["general_"+i])?n("div",{staticClass:"small text-danger"},[t._v("\n                                    You should leave the tag(s) "+t._s(t.getTags(t.defaultSettings.general[i]).join(", "))+"\n                                ")]):t._e()],1):t._e()}),0):t._e()])],2)]),t._v(" "),t.colorEdit?n("ColorPicker",{attrs:{small:"",label:"Test Different Background Color"},model:{value:t.tbgcolor,callback:function(e){t.tbgcolor=e},expression:"tbgcolor"}}):t._e()],1):t._e()])])},[],!1,null,null,null).exports),I=n("MkfN"),P=n("6CjO"),B=n("y43P"),T=n("AsP0"),z={mixins:[I.a],props:["title","page_id","page_link"],components:{VideoIframe:P.a,CreateBookingPage:B.a,ShortcodeDesigner:T.a},data:function(){return{area:"page",booking_page_id:0,widgetDefault:{button:{title:"booking-page"}}}},created:function(){this.booking_page_id=this.page_id},computed:{showWidget:function(){return"widget"==this.area},showPost:function(){return"post"==this.area},showPage:function(){return"page"==this.area}},methods:{showArea:function(t){this.area=t},selectAll:function(t){t.target.select()}}},M=(n("Zq7e"),Object(u.a)(z,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"buttons-block"}},[n("div",{staticClass:"text-muted mt-4"},[t._v(t._s(t.get_i18n("bwe_description","common")))]),t._v(" "),n("div",{staticClass:"d-flex my-4"},[n("button",{staticClass:"btn btn-secondary btn-cell btn-xs ml-0 mr-2",class:{selected:t.showPage},on:{click:function(e){t.showArea("page")}}},[n("span",{staticClass:"dashicons dashicons-welcome-add-page mr-1"}),t._v(" "+t._s(t.get_i18n("bwe_create_bp","common"))+"\n        ")]),t._v(" "),n("button",{staticClass:"btn btn-secondary btn-cell btn-xs ml-0 mr-2",class:{selected:t.showPost},on:{click:function(e){t.showArea("post")}}},[n("span",{staticClass:"dashicons dashicons-shortcode mr-1"}),t._v(" "+t._s(t.get_i18n("bwe_using_sh","common"))+" \n        ")]),t._v(" "),n("button",{staticClass:"btn btn-secondary btn-cell btn-xs ml-0 mr-2",class:{selected:t.showWidget},on:{click:function(e){t.showArea("widget")}}},[n("span",{staticClass:"dashicons dashicons-welcome-widgets-menus mr-1"}),t._v(" "+t._s(t.get_i18n("bwe_using_wdg","common"))+" \n        ")])]),t._v(" "),t.showPage?n("div",[n("div",{staticClass:"mt-4"},[n("CreateBookingPage",{ref:"createpage",attrs:{forceCreation:!0,save:!0,widgetDefault:t.widgetDefault,page_id:t.booking_page_id,page_link:t.page_link}})],1)]):t._e(),t._v(" "),t.showPost?n("div",[n("ShortcodeDesigner",{attrs:{title:t.title,simple:!0}})],1):t._e(),t._v(" "),t.showWidget?n("div",[n("div",{staticClass:"mt-4"},[n("VideoIframe",{attrs:{src:"https://www.youtube.com/embed/h_bWIqOmq0M"}})],1)]):t._e()])},[],!1,null,null,null).exports),F={name:"WidgetShow",extends:i.a,props:{wizard:{type:Boolean,default:!1},params:{type:Object,default:void 0},stepsAllowed:{type:Array,default:function(){return["Preview","Customize","Insert"]}}},data:function(){return{colors:"#ffffff",viewName:"widget",isWidgetShown:!0,editing:!1,showingStep:"",stepsReady:[]}},components:{BookingWidgetEditor:E,WidgetInsert:M},created:function(){var t=!0,e=!1,n=void 0;try{for(var i,s=this.stepsAllowed[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value;this.stepsReady.push(this.prepareStep(o))}}catch(t){e=!0,n=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw n}}this.showStep(this.stepsAllowed[0])},methods:{prepareStep:function(t){switch(t){case"Preview":return{key:t,label:this.get_i18n("bwe_page_preview","common"),class:"dashicons-visibility"};case"Customize":return{key:t,label:this.get_i18n("bwe_page_customize","common"),class:"dashicons-edit"};case"Insert":return{key:t,label:this.get_i18n("bwe_page_insert","common"),class:"dashicons-layout"}}},shownStep:function(t){return this.showingStep==t},showStep:function(t){this.showingStep=t,this.editing=-1===["Preview","Insert"].indexOf(t),this.isWidgetShown=-1!==["Preview","Customize"].indexOf(t)},getClassTabIcon:function(t){switch(t){case"Preview":return"dashicons-visibility";case"Customize":return"dashicons-edit";case"Insert":return"dashicons-layout"}}},computed:{widgetData:function(){return null!==this.viewData&&void 0!==this.viewData.widget?this.viewData.widget:null},getBgColor:function(){return null!==this.viewData&&void 0!==this.viewData.bgcolor?this.viewData.bgcolor:"#fff"},widgetFields:function(){return null!==this.viewData&&void 0!==this.viewData.widgetFields?this.viewData.widgetFields:null},widgetDefault:function(){return null!==this.viewData&&void 0!==this.viewData.widgetDefault?this.viewData.widgetDefault:null},frontAvailability:function(){return null!==this.viewData&&void 0!==this.viewData.front_availability?this.viewData.front_availability:null}}},R=Object(u.a)(F,function(){var t=this,e=t.$createElement,n=t._self._c||e;return null!==t.widgetData?n("div",[t.wizard?t._e():n("div",{staticClass:"d-flex mt-4 ml-4 bwe-tabs"},[n("ul",{staticClass:"nav nav-tabs"},t._l(t.stepsReady,function(e,i){return n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",class:{active:t.shownStep(e.key)},attrs:{href:"javascript:;"},on:{click:function(n){t.showStep(e.key)}}},[n("span",{staticClass:"dashicons",class:e.class}),t._v(" "+t._s(i+1)+" - "+t._s(e.label)+"\n            ")])])}),0)]),t._v(" "),t.isWidgetShown?n("div",[n("transition",{attrs:{name:"slide-fade-top"}},[n("BookingWidgetEditor",{attrs:{bgcolor:t.getBgColor,editingMode:t.editing,widgetFields:t.widgetFields,shortcodeParams:t.params,config:t.viewData.config,preoptions:t.widgetData,defaultSettings:t.widgetDefault,frontAvailability:t.frontAvailability,steps:t.viewData.steps}})],1)],1):n("div",[n("transition",{attrs:{name:"slide-fade-top"}},[n("WidgetInsert",{attrs:{title:t.viewData.widget.button.title,page_id:t.viewData.booking_page_id,page_link:t.viewData.booking_page_url}})],1)],1)]):t._e()},[],!1,null,null,null);e.a=R.exports},"2RkK":function(t,e,n){var i=n("zXQP");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("0bd5698e",i,!0,{})},"2YWL":function(t,e,n){"use strict";var i=n("unoB");n.n(i).a},"2sO2":function(t,e,n){var i=n("J1PL");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("0626cf5e",i,!0,{})},"3R/I":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-front .wap-booking-fields label{\n    color: var(--wappo-body-tx);\n}\n.wap-front .phone-field .dropdown ul {\n    position: initial;\n    max-width: 266px;\n    min-width: 224px;\n    margin-top: 12px;\n    overflow-y: scroll !important;\n    overflow: hidden;\n}\n.wap-front .phone-field .dropdown {\n    border-radius: .2em;\n}\n.wap-front .phone-field .dropdown.open + input {\n    display:none;\n}\n.wap-front .address-service{\n    border-radius: .2em;\n    padding: .3em;\n    margin: auto;\n    text-align: left;\n    margin-bottom: .6rem;\n}\n.wap-front .address-service .icon-address{\n    padding: 0 .3em;\n}\n.wap-front .address-service address{\n    margin-left: .6em;\n}\n.wap-booking-fields {\n    text-align: left;\n    margin: .5em 0;\n}\n.wap-booking-fields label{\n    margin-bottom: 0;\n    font-size: .9em;\n}\n.wap-terms{\n    font-size: .7em;\n    text-align: left;\n    line-height: 1.4;\n    margin-bottom: .3em;\n}\n.wap-front .wrounded{\n  border-radius : 50%;\n}\n.wap-front .wshadow{\n  box-shadow: inset 0px 8px 10px 0 rgba(0,0,0,.08);\n}\n.wap-front .form-summary .wselected {\n    display: inline-flex !important;\n    font-size: .8em;\n}\n\n",""])},"3X8r":function(t,e,n){var i=n("6AN6");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("12d06e70",i,!0,{})},"3diX":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n#buttons-block textarea{\n    resize: none;\n}\n.form-max{\n    max-width: 350px;\n}\n#buttons-block .btn-secondary.btn-cell .dashicons{\n    position: initial;\n}\n#buttons-block .btn-secondary.btn-cell{\n    display: flex;\n    align-items: center;\n}\n\n",""])},"4WTF":function(t,e,n){var i=n("hjUW");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("dad29bf0",i,!0,{})},"4iGn":function(t,e,n){"use strict";var i=n("mhCM");n.n(i).a},"5CGA":function(t,e,n){var i=n("k6Kb");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("01601f4e",i,!0,{})},"5Kp/":function(t,e,n){"use strict";var i=n("2sO2");n.n(i).a},"5pyh":function(t,e,n){"use strict";var i=n("5oH9"),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i["a"]),s(e,[{key:"endpoints",value:function(){return{save:{method:"post",route:"service"},get:{method:"get",route:"settings"}}}}]),e}();e.a=o},"5qZH":function(t,e,n){"use strict";var i={mixins:[n("whSN").a],props:["options","wrapper","largeVersion"],data:function(){return{opts:null,widthWrapper:!1,baseFontSize:"20px",calendarRound:.6}},created:function(){this.opts=Object.assign({},this.options)},computed:{buttonIsBold:function(){return!0===this.opts.button.check_bold?"font-weight:bold;":""},buttonIsFull:function(){return!0===this.opts.button.check_full?"width:100%;":""}},mounted:function(){this.widthWrapper=document.getElementById(this.wrapper).clientWidth,this.largeVersion?this.widthWrapper>"620"?this.baseFontSize="22px":this.baseFontSize=this.widthWrapper<"620"?"21px":"20px":this.baseFontSize="20px"}},s=n("KHd+"),o=Object(s.a)(i,function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-style",[t._v("\n    :root {\n        --wappo-pri-bg: "+t._s(t.hx_rgb(t.opts.colors.primary.bg))+";\n        --wappo-pri-tx: "+t._s(t.hx_rgb(t.opts.colors.primary.text))+";\n        --wappo-pri-tx-lt: "+t._s(t.hx_rgb(t.opts.colors.primary.text,.8))+";\n        --wappo-sec-bg: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg))+";\n        --wappo-sec-tx: "+t._s(t.hx_rgb(t.opts.colors.secondary.text))+";\n        --wappo-sec-sel-bg: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg_selected))+";\n        --wappo-sec-sel-tx: "+t._s(t.hx_rgb(t.opts.colors.secondary.text_selected))+";\n        --wappo-header-tx: "+t._s(t.hx_rgb(t.opts.colors.header.text))+";\n        --wappo-body-tx: "+t._s(t.hx_rgb(t.opts.colors.body.text))+";\n        --wappo-body-bg: "+t._s(t.hx_rgb(t.opts.colors.body.bg))+";\n        --wappo-success-tx: "+t._s(t.hx_rgb(t.opts.colors.confirmation.text))+";\n        --wappo-error-tx: "+t._s(t.hx_rgb(t.opts.colors.form.error))+";\n        --wappo-valid-tx: "+t._s(t.hx_rgb(t.opts.colors.form.success))+";\n        --wappo-input-col: "+t._s(t.hx_rgb("#495057"))+";\n        --wappo-input-ph: "+t._s(t.hx_rgb("#aeadad"))+";\n        --wappo-input-bor: "+t._s(t.hx_rgb("#ced4da"))+";\n        --wappo-input-box-s: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.25))+";\n        --wappo-payment-border: "+t._s(t.hx_rgb(t.opts.colors.form.payment))+";\n    }\n    .wap-front .wbtn.wbtn-primary-light,\n    .wap-front .wbtn.wbtn-primary-light:not(:disabled):not(.disabled):active, \n    .wap-front .wbtn.wbtn-primary-light:not(:disabled):not(.disabled).active {\n        background: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.8))+";\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.8))+";\n        border-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.6))+";\n        color: var(--wappo-pri-tx);\n        box-shadow: 0 .1em 0 "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.4))+";\n    }\n    .wap-front .wbtn.wbtn-primary.wbtn-booking,\n    .wap-front .wbtn-primary.wbtn-booking:not(:disabled):not(.disabled):active, \n    .wap-front .wbtn-primary.wbtn-booking:not(:disabled):not(.disabled).active {\n        font-size: "+t._s(t.opts.button.slide_size+"em")+" !important;\n        "+t._s(t.buttonIsBold)+"\n        "+t._s(t.buttonIsFull)+"\n    }\n    .wap-front .wbtn.wbtn-primary,\n    .wap-front .wbtn-primary:not(:disabled):not(.disabled):active, \n    .wap-front .wbtn-primary:not(:disabled):not(.disabled).active {\n        background: var(--wappo-pri-bg);\n        background-color: var(--wappo-pri-bg);\n        border-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.8))+";\n        color: var(--wappo-pri-tx);\n        box-shadow: 0 .1em 0 "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.6))+";\n        margin: .2em 0;\n    }\n    .wap-front .d-section.ds-1 .wbtn.wbtn-primary{\n        margin: .2em;\n    }\n    .wap-front .wbtn.wbtn-primary:hover {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.9))+";\n        box-shadow: 0 0 0 .2em "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.5))+";\n    }\n\n    .wap-front .wbtn:focus, \n    .wap-front .wbtn.focus {\n        box-shadow: 0 0 0 .2em "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.25))+";\n    }\n    \n    .wap-front .wbtn-primary.disabled, \n    .wap-front .wbtn-primary:disabled, \n    .wap-front .wbtn-primary.disabled:hover, \n    .wap-front .wbtn-primary:disabled:hover {\n        background-color: var(--wappo-pri-bg) !important;\n        border-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.8))+" !important;\n        color: var(--wappo-pri-tx) !important;\n        box-shadow: 0 .1em 0 "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.6))+";\n    }\n\n    .wap-front .wbtn-primary:disabled:hover {\n        background-color: var(--wappo-pri-bg) !important;\n        border-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.8))+" !important;\n        color: var(--wappo-pri-tx) !important;\n        box-shadow: 0 .1em 0 "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.6))+";\n    }\n\n    .wap-front .address-service {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.address.bg))+";\n        border-color: "+t._s(t.hx_rgb(t.opts.colors.address.bg,.8))+";\n        color: "+t._s(t.hx_rgb(t.opts.colors.address.text))+";\n        box-shadow: 0 .1em 0 "+t._s(t.hx_rgb(t.opts.colors.address.bg,.6))+";\n    }\n    .wap-front .address-service a{\n        color: "+t._s(t.hx_rgb(t.opts.colors.address.text))+";\n    }\n\n    .wap-front .wbtn.wbtn-secondary,\n    .wap-front .wbtn.wbtn-secondary .wduration,\n    .wap-front .wbtn-secondary:not(:disabled):not(.disabled):active, \n    .wap-front .wbtn-secondary:not(:disabled):not(.disabled).active {\n        background: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg))+";\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg))+";\n        border-color: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg,.8))+";\n        color: "+t._s(t.hx_rgb(t.opts.colors.secondary.text))+";\n        box-shadow: 0 .1em 0 "+t._s(t.hx_rgb(t.opts.colors.secondary.bg,.6))+";\n        margin: .4em 0;\n    }\n\n    .wap-front .wrap-calendar .wbtn.wbtn-secondary div{\n        color: "+t._s(t.hx_rgb(t.opts.colors.secondary.text))+";\n    }\n\n    .wap-front .wrap-calendar .wbtn.wbtn-secondary.selected div{\n        color: "+t._s(t.hx_rgb(t.opts.colors.secondary.text_selected))+";\n    }\n\n    .wap-front .wbtn.wbtn-secondary:hover {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg,.9))+";\n        box-shadow: 0 0 0 .2em "+t._s(t.hx_rgb(t.opts.colors.secondary.bg,.5))+";\n    }\n\n    .wap-front .wbtn.wbtn-secondary.selected{\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg_selected))+";\n        border-color: "+t._s(t.hx_rgb(t.opts.colors.secondary.bg_selected,.8))+";\n        color: "+t._s(t.hx_rgb(t.opts.colors.secondary.text_selected))+";\n        box-shadow: 0 .1em 0 "+t._s(t.hx_rgb(t.opts.colors.secondary.bg_selected,.6))+";\n    }\n    .wap-front .wbtn.wbtn-secondary.selected svg{\n        color: "+t._s(t.hx_rgb(t.opts.colors.secondary.text_selected))+";\n    }\n\n    .wap-front .wap-form-body .timezone {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.body.bg,.9))+";\n    }\n    \n    .wap-front .wap-form-body .no-avail, \n    .wap-front .wap-form-body .wbtn-link.disabled{\n        color: "+t._s(t.hx_rgb(t.opts.colors.body.disabled_links))+";\n    }\n\n    .wap-front .wap-head {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.header.bg))+";\n    }\n    .wap-front .wap-head.showall{\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.header.bg,.9))+";\n    }\n\n    .wap-bf.show{\n        border-radius: "+t._s(t.calendarRound)+"em;\n    }\n    \n    .wap-front .wbtn.wbtn-secondary.dayselected{\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.selected_day.bg))+";\n    }\n    .wap-front .wap-form-body .dayselected span.avail{\n        color: "+t._s(t.hx_rgb(t.opts.colors.selected_day.text))+";\n    }\n\n    .wap-front .wsummary-section {\n        border-bottom: 1px solid "+t._s(t.hx_rgb(t.opts.colors.body.text,.1))+";\n    }\n    \n\n    .confirmation-summary span{\n        color: "+t._s(t.hx_rgb(t.opts.colors.body.text,.8))+";\n    }\n    .wtitle{\n        color: "+t._s(t.hx_rgb(t.opts.colors.body.text,.8))+";\n        font-size: 1em;\n        text-align:center;\n    }\n    .wdescription{\n        color: "+t._s(t.hx_rgb(t.opts.colors.body.text,.8))+";\n    }\n    \n\n    .wap-front .wbtn-cell{\n        border-radius: "+t._s(t.calendarRound)+"em;\n    }\n\n    .wap-front .form-control:focus {\n        box-shadow: 0 0 0 1px "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.25))+";\n    }\n    .wap-front .wselected{\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.5))+";\n        color: var(--wappo-pri-tx);\n    }\n\n    .wap-front [data-tt]:before {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.8))+";\n        color: var(--wappo-pri-tx);\n    }\n\n    .wap-front [data-tt]:after {\n        border-top: 5px solid "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.9))+";\n    }\n\n    .wap-front .phone-field:focus-within {\n        box-shadow: 0 0 2px  "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.25))+";\n        border-color: var(--wappo-pri-bg);\n    }\n    .wap-front .field-required input:focus, \n    .wap-front .field-required select:focus {\n        border-color: var(--wappo-pri-bg);\n        box-shadow: 0 0 2px "+t._s(t.hx_rgb(t.opts.colors.primary.bg,.6))+";\n        outline: 2px solid transparent;\n    }\n    .wap-front .confirmation-cell .success {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.confirmation.bg))+";\n    }\n    \n\n    .wap-wid.wclosable > .wclose::before, \n    .wap-wid.wclosable > .wclose::after {\n        background-color: "+t._s(t.hx_rgb(t.opts.colors.header.text,.7))+";\n    }\n\n\n    /** wrapper tag **/\n    "+t._s("#"+t.wrapper)+" .wap-front, \n    #wap-footer-container .wap-front {\n        font-size: "+t._s(t.baseFontSize)+";\n    }\n    \n")])},[],!1,null,null,null);e.a=o.exports},"5yDa":function(t,e,n){var i=n("/vDO");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("2cd561ef",i,!0,{})},"6AN6":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-front .wtab,\n.wap-front .wrap-calendar div.wtab{\n  font-size: 14px;\n  margin-right: .4em;\n  padding: .8em;\n  border: 2px solid var(--wappo-payment-border);\n  border-bottom: 0 !important;\n  cursor: pointer;\n  background-color:var(--wappo-body-bg);\n  color: var(--wappo-sec-tx);\n  border-radius:.4em .4em 0 0;\n  font-weight: bold;\n}\n.wap-front .wtab.active, \n.wap-front .wrap-calendar div.wtab.active{\n  background-color: var(--wappo-sec-sel-bg);\n  color: var(--wappo-sec-sel-tx);\n  margin-bottom: -2px;\n}\n.wap-front .wtab.active,\n.wap-front .wtab:hover{\n  border-radius: .4em .4em 0 0;\n  border: 2px solid var(--wappo-sec-bg);\n}\n.wap-front .wtab.active:hover{\n  background-color: var(--wappo-sec-bg);\n}\n.wtab img {\n    filter: grayscale(1);\n    max-width: 70px;\n}\n.wtab.active img,\n.wtab:hover img{\n  filter: grayscale(0);\n}\n\n",""])},"6DDQ":function(t,e,n){"use strict";var i=n("D6xo");n.n(i).a},"6mcK":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wcell {\n    display: inline-block;\n    padding: .2em;\n    font-size: .8em;\n    background-color: #eee;\n    border-radius: .2em;\n    margin: .3em .3em 0 0;\n    border: 1px solid #ccc\n}\n",""])},"6uyd":function(t,e,n){"use strict";e.a=function(){return navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en-US"}},"76M+":function(t,e,n){"use strict";var i=n("xyeX"),s={computed:{getCacheSafeUrl:function(){var t=window.location.href;return(t+=-1===t.indexOf("?")?"?":"&")+"wappoCacheSafe="+Object(i.a)()}}},o=(n("6DDQ"),n("KHd+")),a=Object(o.a)(s,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wappo-error"},[e("strong",[this._v("Oops, can't load the booking module")]),this._v(" "),e("p",[this._v("Click "),e("a",{attrs:{href:this.getCacheSafeUrl}},[this._v("here to reload the page")]),this._v(" and try again")])])},[],!1,null,null,null);e.a=a.exports},"7s+T":function(t,e,n){var i=n("6mcK");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("212e9ff0",i,!0,{})},"8MlL":function(t,e,n){var i=n("gkNc");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("3252066f",i,!0,{})},"8dkp":function(t,e,n){"use strict";var i=n("0dk3");n.n(i).a},"9cgI":function(t,e,n){"use strict";var i={mixins:[n("tOgP").a],props:["service","relations","options"],computed:{locations:function(){return this.service.locations}},methods:{selectLocation:function(t){this.triggersDemoEvent("selection")||this.$emit("locationSelected","BookingCalendar",{location:t})},hasDesc:function(t){return!(void 0===t.options||void 0===t.options.description_on||!t.options.description_on)&&t.options.description}}},s=n("KHd+"),o=Object(s.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.locations.length>0?n("div",[void 0!==t.options?n("div",{staticClass:"title wtitle"},[t._v(t._s(t.options.service_location.select_location))]):t._e(),t._v(" "),n("div",{staticClass:"d-flex flex-wrap"},t._l(t.locations,function(e,i){return n("div",{staticClass:"d-flex align-items-center wbtn wbtn-cell wbtn-service wbtn-secondary",on:{click:function(n){t.selectLocation(e)}}},[n("WapImage",{staticClass:"mx-2",attrs:{element:e,desc:e.name,size:"md"}}),t._v(" "),n("div",{staticClass:"service-label"},[n("div",[t._v(t._s(e.name))]),t._v(" "),t.hasDesc(e)?n("div",{staticClass:"description"},[t._v(t._s(t.hasDesc(e)))]):t._e()])],1)}),0)]):t._e()},[],!1,null,null,null);e.a=o.exports},"9twK":function(t,e,n){"use strict";var i=n("4WTF");n.n(i).a},AOB3:function(t,e,n){"use strict";var i=n("iBid");n.n(i).a},AbtR:function(t,e,n){"use strict";var i=n("VHDP");n.n(i).a},Acyh:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'\n.large-version .wap-wid{\n    max-width: 420px;\n}\n.large-version .wap-wid.step-BookingCalendar{\n    max-width: 100%;\n    min-width: 100%;\n}\n.wap-wid{\n    max-width: 360px;\n}\n.br-fixed .wap-wid .wbtn-booking{\n  float:right;\n}\n.wap-wid .loader {\n    min-height: 68px;\n}\n.wap-front a.initial{\n  color:initial !important;\n}\n.wap-front .wbtn.wbtn-secondary.wbtn-cell{\n  border-radius: .5em;\n  margin: .4em 0;\n}\n.wap-front .wbtn {\n  display: inline-block;\n  font-weight: 400;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: middle;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  border: 1px solid transparent;\n  padding: 0.375em;\n  font-size: .8em;\n  line-height: 1.5;\n  border-radius: 0.25em;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  margin: 0;\n  background-color: transparent;\n  background: transparent;\n  height: auto;\n  text-transform: none;\n}\n.wap-front .wbtn-block{\n  width: 100%;\n}\n.wap-front .wbtn:hover, \n  .wap-front .wbtn:focus {\n    text-decoration: none;\n}\n.wap-front .wbtn:focus, \n  .wap-front .wbtn.focus {\n    outline: 0;\n}\n.wap-front .wbtn.wbtn-disabled, \n  .wap-front .wbtn:disabled {\n    opacity: 0.65;\n}\n.wap-front .wbtn:not(:disabled):not(.wbtn-disabled) {\n    cursor: pointer;\n}\n.wap-front .wbtn:not(:disabled):not(.wbtn-disabled):active, \n  .wap-front .wbtn:not(:disabled):not(.wbtn-disabled).active {\n    background-image: none;\n}\n.wap-front a.wbtn.wbtn-disabled,\n  .wap-front fieldset:disabled a.wbtn {\n    pointer-events: none;\n}\n.wap-front .d-flex {\n  display: -ms-flexbox !important;\n  display: flex !important;\n}\n.wap-front .d-flex.d-flex-inline{\n    display: inline-flex !important;\n}\n.wap-front .flex-wrap {\n    -ms-flex-wrap: wrap !important;\n    flex-wrap: wrap !important;\n}\n.wap-front .flex-fill{\n    -ms-flex: 1 1 auto !important;\n    flex: 1 1 auto !important;\n}\n.wap-front .justify-content-between {\n  -ms-flex-pack: justify !important;\n  justify-content: space-between !important;\n}\n.wap-front .justify-content-around {\n  -ms-flex-pack: distribute !important;\n  justify-content: space-around !important;\n}\n.wap-front .justify-content-center {\n    -webkit-box-pack: center !important;\n    -ms-flex-pack: center !important;\n    justify-content: center !important;\n}\n.wap-front .align-items-center {\n  -ms-flex-align: center !important;\n  align-items: center !important;\n}\n.wap-front .align-items-start {\n    -webkit-box-align: start !important;\n    -ms-flex-align: start !important;\n    align-items: flex-start !important;\n}\n.wap-front .align-content-around {\n  -ms-flex-line-pack: distribute !important;\n  align-content: space-around !important;\n}\n.wap-front .align-self-center {\n  -ms-flex-item-align: center !important;\n  align-self: center !important;\n}\n.wap-front .align-self-stretch {\n  -ms-flex-item-align: stretch !important;\n  align-self: stretch !important;\n}\n.wap-wid.wclosable > .wclose {\n    position: absolute;\n    z-index: 2;\n    right: .3em;\n    top: .3em;\n}\n.wap-front .wml-2{\n    margin-left:.4em;\n}\nhtml[dir=rtl] .wap-front .wml-2{\n  margin-right: .4em !important;\n  margin-left: 0 !important;\n}\n.wprice{\n  font-weight: bold;\n}\n.wap-front .text-center{\n    text-align: center;\n}\n.wap-front .text-sm{\n  font-size: .7em;\n}\n.wappo-popped{\n  overflow: hidden;\n  position: relative;\n}\n.wap-front.wdesk.br-fixed {\n  min-width: 360px;\n}\n.wap-front.br-fixed{\n    position: fixed;\n    right: 0;\n    bottom: 0;\n    margin: 1rem;\n    max-height: 95%;\n    min-width: 320px;\n}\n.wap-booking-fields {\n    text-align: left;\n    margin: .5em 0;\n}\nhtml[dir=rtl] .wap-front.br-fixed{\n    right: auto;\n    left: 0;\n}\nhtml[dir=rtl] .br-fixed .wap-wid .wbtn-booking {\n  float: left;\n}\nhtml[dir=rtl] .wap-booking-fields{\n    text-align: right;\n}\n.wap-booking-fields input,\n.wap-booking-fields textarea{\n  color: var(--wappo-body-tx) !important;\n}\n.wap-booking-fields .isInvalid input[type="text"], \n.wap-booking-fields .isInvalid input[type="email"], \n.wap-booking-fields .isInvalid input[type="url"], \n.wap-booking-fields .isInvalid input[type="tel"],\n.wap-booking-fields .isInvalid textarea{\n    border-right: 4px solid var(--wappo-error-tx) !important;\n}\n.wap-booking-fields .isValid input[type="text"], \n.wap-booking-fields .isValid input[type="email"], \n.wap-booking-fields .isValid input[type="url"], \n.wap-booking-fields .isValid input[type="tel"],\n.wap-booking-fields .isValid textarea{\n    border-right: 4px solid var(--wappo-valid-tx) !important;\n}\nhtml[dir=rtl] .wap-booking-fields .isInvalid input[type="text"], \nhtml[dir=rtl] .wap-booking-fields .isInvalid input[type="email"], \nhtml[dir=rtl] .wap-booking-fields .isInvalid input[type="url"], \nhtml[dir=rtl] .wap-booking-fields .isInvalid input[type="tel"],\nhtml[dir=rtl] .wap-booking-fields .isInvalid textarea{\n    border-left: 4px solid var(--wappo-error-tx) !important;\n    border-right:1px solid var(--wappo-input-bor) !important;\n}\nhtml[dir=rtl] .wap-booking-fields .isValid input[type="text"], \nhtml[dir=rtl] .wap-booking-fields .isValid input[type="email"], \nhtml[dir=rtl] .wap-booking-fields .isValid input[type="url"], \nhtml[dir=rtl] .wap-booking-fields .isValid input[type="tel"],\nhtml[dir=rtl] .wap-booking-fields .isValid textarea{\n    border-left: 4px solid var(--wappo-valid-tx) !important;\n    border-right:1px solid var(--wappo-input-bor) !important;\n}\n.wap-booking-fields .field-required label::after {\n    content:" *";\n    color:var(--wappo-error-tx);\n}\n.wap-front .wappointment-errors{\n    background-color:var(--wappo-error-tx);    \n    border-radius:.25em;\n    padding: .3em;\n    margin: .5em 0;\n}\n.wap-front div.wappointment-errors div{\n    color: var(--wappo-pri-tx);\n}\n.wap-front .wrap-calendar div.wappointment-errors{\n    color: var(--wappo-pri-tx);\n    font-size: .9em;\n}\n.phone-field-wrap .dpselect .selection::after,\n.phone-field-wrap strong{\n    color: #645a5a;\n}\n.wap-front.poppedup{\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  overflow-y: scroll;\n}\n.wap-front.poppedup .wappo_module{\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: 99;\n}\n.wap-front.poppedup .wappo_module .wap-wid{\n  width: 500px;\n  margin: 0 auto;\n  position: relative;\n  max-width:none;\n}\n.wap-front.poppedup .wap-bg{\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, .7);\n  top: 0;\n  z-index: 0;\n  overflow-y: scroll;\n  margin: 0 auto;\n}\n@media only screen and (max-width: 500px) {\n.wap-front.poppedup .wappo_module .wap-wid{\n    min-width:100%;\n}\n.wap-abs{\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    max-height: 95%;\n    overflow-y: scroll;\n}\n.wap-front.wexpanded .wap-bg\n  .wap-front.br-fixed .wap-bg,\n  .wap-front.wexpanded .wap-bg{\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    background-color: rgba(0, 0, 0, .7);\n    top: 0;\n    z-index: 0;\n    overflow-y: scroll;\n}\n.wap-front.br-fixed,\n  .wap-front.wexpanded{\n    width: 100%;\n    margin: 0;\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    overflow-y: scroll;\n}\n.wap-front.wexpanded{\n    z-index: 999999999;\n    height: 100%;\n}\n.wap-front.br-fixed .wbtn.wbtn-booking.wbtn-primary{\n    margin: 0;\n    width:100%;\n    border-radius: .2rem .2rem 0 0;\n}\n.wap-front.br-fixed .wap-bf,\n  .wap-front.br-fixed .wap-wid,\n  .wap-front.wmobile .wap-bf,\n  .wap-front.wmobile .wap-wid{\n    max-width: 100%;\n    position:relative;\n    z-index: 1;\n}\n.wap-front.wmobile .wap-bf,\n  .wap-front.wmobile .wap-wid{\n    width:100%;\n}\n.wap-front.wmobile .wap-wid.step-button{\n    width: auto;\n}\n}\n',""])},AlqU:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wpayment{\n  border: 2px solid var(--wappo-payment-border);\n  border-radius: 0 .4em .4em .4em;\n  position:relative;\n  overflow: hidden;\n}\n.witem{\n  font-size:.7em;\n  border-bottom: 1px solid var(--wappo-payment-border);\n}\n.wcards{\n  height: 25px;\n}\n.wcard{\n  margin-right: .2em;\n}\n\n",""])},AsP0:function(t,e,n){"use strict";var i=n("xV/h"),s=n("Qi5d"),o=n("MkfN"),a=n("6CjO"),r={mixins:window.wappointmentExtends.filter("shortcodeDesignerMixins",[o.a]),props:{title:{type:String,default:"Book now!"},calendar_id:{default:!1},service_id:{default:!1},services:{default:null},calendars:{default:null},simple:{default:!1}},data:function(){return{shortcode:"",clicked:!1,canLockStaff:!1,canLockService:!1,showingTip:!1}},components:{ClickCopy:i.a,VideoIframe:a.a,ShortcodeGenerator:s.a},methods:{updateShortCode:function(t){this.shortcode=t}},computed:{shortCodeHasService:function(){return-1!==this.shortcode.indexOf('service="')},shortCodeHasCalendar:function(){return-1!==this.shortcode.indexOf('staff="')},addonLink:function(){return apiWappointment.apiSite+"/addons"}}},c=(n("CwPI"),n("KHd+")),l=Object(c.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"shortcode-editor"},[n("div",{staticClass:"shortcode-gen"},[n("ShortcodeGenerator",{attrs:{title:t.title,calendar_id:t.calendar_id,service_id:t.service_id,calendars:t.calendars,services:t.services,simple:t.simple,canLockStaff:t.canLockStaff,canLockService:t.canLockService},on:{change:t.updateShortCode}})],1),t._v(" "),n("div",{attrs:{id:"shortcode_block"}},[n("p",{staticClass:"m-0"},[t._v(t._s(t.get_i18n("bwe_your_sh","common")))]),t._v(" "),n("ClickCopy",{attrs:{value:t.shortcode},on:{clicked:function(e){t.clicked=!0}}}),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.clicked?n("div",[!t.canLockStaff&&t.shortCodeHasCalendar?n("div",{staticClass:"text-danger text-left small"},[t._v("The lock on calendar will work only with the "),n("strong",[n("a",{attrs:{href:t.addonLink,target:"_blank"}},[t._v("Calendars & Staff")])]),t._v(" addon")]):t._e(),t._v(" "),!t.canLockService&&t.shortCodeHasService?n("div",{staticClass:"text-danger text-left small mt-2"},[t._v("The lock on service will work only with the "),n("strong",[n("a",{attrs:{href:t.addonLink,target:"_blank"}},[t._v("Services Suite")])]),t._v(" addon")]):t._e()]):t._e()])],1)]),t._v(" "),t.showingTip?n("div",{staticClass:"mt-4"},[n("VideoIframe",{attrs:{src:"https://www.youtube.com/embed/VMi2Ry-JrGA"}})],1):n("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.showingTip=!0}}},[t._v(t._s(t.get_i18n("bwe_how_use_sh","common")))])])},[],!1,null,null,null);e.a=l.exports},BDLL:function(t,e,n){"use strict";var i={mixins:[n("G0ds").a],props:["options","typeSelected","typesAllowed"],mounted:function(){this.selection=this.typeSelected},methods:{isSelected:function(t){return this[t+"Selected"]},selectType:function(t){this.selection=t,this.$emit("selectType",t)},allowedType:function(t){return-1!==this.typesAllowed.indexOf(t)},getTypeObject:function(t){switch(t){case"zoom":return{label:this.options.form.byzoom,icon:["fas","video"]};case"physical":return{label:this.options.form.inperson,icon:"map-marked-alt"};case"phone":return{label:this.options.form.byphone,icon:"phone"};case"skype":return{label:this.options.form.byskype,icon:["fab","skype"]}}}}},s=n("KHd+"),o=Object(s.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},t._l(t.typesAllowed,function(e){return n("div",{staticClass:"wbtn wbtn-secondary wbtn-cell mr-2",class:{selected:t.isSelected(e)},attrs:{role:"button"},on:{click:function(n){t.selectType(e)}}},[n("WapImage",{attrs:{faIcon:t.getTypeObject(e).icon,size:"md"}}),t._v(" "),n("div",[t._v(t._s(t.getTypeObject(e).label))])],1)}),0)},[],!1,null,null,null);e.a=o.exports},CwPI:function(t,e,n){"use strict";var i=n("Q+ZH");n.n(i).a},D6xo:function(t,e,n){var i=n("X8YZ");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("0732dd64",i,!0,{})},FEmh:function(t,e,n){var i=n("JiK0");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("d69eef4e",i,!0,{})},"Fj/6":function(t,e){t.exports=function(t){this.message=t,this.name="InvalidMonthsError"}},G0ds:function(t,e,n){"use strict";var i={data:function(){return{selection:!1}},methods:{appointmentIsType:function(t){return this.selection==t||void 0!==this.appointment&&void 0!==this.appointment.type&&this.appointment.type==t}},computed:{phoneSelected:function(){return this.appointmentIsType("phone")},physicalSelected:function(){return this.appointmentIsType("physical")},skypeSelected:function(){return this.appointmentIsType("skype")},zoomSelected:function(){return this.appointmentIsType("zoom")}}},s=n("KHd+"),o=Object(s.a)(i,void 0,void 0,!1,null,null,null);e.a=o.exports},G5JO:function(t,e,n){"use strict";var i=n("A5Wa"),s=n("6uyd"),o={data:function(){return{shortDateFormat:"YYYY-MM-DD HH:mm"}},methods:{getMomentObject:function(){return i.a},setMomentLocale:function(){i.a.locale(Object(s.a)())},unixToDateTime:function(t,e){return t?i.a.unix(t).tz(e).format(this.shortDateFormat):"---"},getMoment:function(t,e){return i.a.unix(t).tz(e)},tzGuess:function(){return i.a.tz.guess()},getUnixNow:function(){return Object(i.a)().unix()}}},a=n("KHd+"),r=Object(a.a)(o,void 0,void 0,!1,null,null,null);e.a=r.exports},GDSN:function(t,e,n){var i=n("gnn1");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("14b33e1e",i,!0,{})},H1Hz:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.addons .addon.bundle .addon-header {\n    background: linear-gradient(130deg,#d09d04,#e7cf27);\n}\n.addons .addon.bundle.registered .addon-header {\n    padding: 0;\n}\n.addon.bundle.registered .addon-header img {\n    max-width: 90px;\n}\n.addon.bundle.registered .content-addon {\n    padding: .4rem;\n    text-align: left;\n}\n.addon.bundle.registered h2 {\n    font-size: 1.4rem;\n    text-align: left;\n    padding: 0 !important;\n}\n@media (min-width:768px) {\n.addons .bundle .addon-header{\n        border-radius: 1rem 0 0 1rem;\n        max-height: 320px;\n}\n.addons .addon.bundle {\n        max-width: 100%;\n        display: flex !important;\n}\n}\n\n",""])},H7Pi:function(t,e,n){"use strict";var i=n("ftQn");n.n(i).a},HY5A:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.saveButtons .wbtn-secondary{\n    margin: .2em 0 !important;\n}\n",""])},HZxv:function(t,e,n){(e=t.exports=n("I1BE")(!1)).i(n("1GcS"),""),e.push([t.i,"\n.addons .addon {\n    border-radius: 1rem;\n    background-color: #fcfcfc;\n    border: 1px solid #f2f2f2;\n    margin: 1rem;\n    max-width: 420px;\n}\n.addons .addon.addon-active{\n    cursor: pointer;\n    transition: all .3s ease-in-out;\n    box-shadow: 0 0 0 0 rgba(0,0,0,.1);\n}\n.addons .addon.addon-active:hover{\n    box-shadow: 0 .4rem 1rem 0 rgba(0,0,0,.1);\n}\n.addons .addon .content-addon{\n  position:relative;\n}\n.addons .addon .footer .indicator {\n    height: .8rem;\n    width: .8rem;\n    display: inline-block;\n    margin-right: .5rem;\n    border-radius: 2rem;\n}\n.addons .addon.registered.installed-addon .footer .indicator {\n    background-color: #66c677;\n}\n.addons .addon.addon-active.coming-soon {\n    border: 2px dashed #cacaca;\n    background-color: #fbfbfb;\n}\n.addons .addon{\n  overflow:hidden;\n}\n.addons .addon .footer{\n  background: #f7f7f7;\n}\n.addon.coming-soon .addon-header {\n    background-color:#777699;\n}\n.addon .img-gallery {\n    border: 1px solid #ccc;\n    border-radius: .4em;\n    cursor: pointer;\n    margin-right: .2em;\n}\n.addon .img-gallery:hover {\n\n    border-color: #6664cb;\n}\n.addon ul{\n    margin-top: 1rem;\n}\n.addon hr{\n  width: 100%;\n  border-top: 2px solid rgba(210, 210, 210, 0.4);\n}\n.addon ul li{\n    padding-left: 0;\n    list-style: none;\n}\n.addon ul li{\n    list-style-position: outside;\n    margin-left: 1.6rem;\n    position: relative;\n    font-size: .9rem;\n}\n.addon h2{\n    font-size: 1.8rem;\n    text-align: center;\n}\n.addon .btn-outline-primary {\n    color: #9393c8 !important;\n}\n.addon .addon-header{\n    padding: 1rem 2rem;\n    background: linear-gradient(130deg,#a7a6cc,#bc8f9e);\n    color: #fff;\n    border-radius: 1rem 1rem 0 0;\n    min-height: 100px;\n    max-height: 220px;\n}\n.addon .addon-header img{\n    max-width:300px;\n}\n.addon.odd .addon-header {\n    background: linear-gradient(130deg,#bc8f9e,#feecb1);\n}\n.addon .content-addon{\n  padding:2rem;\n}\n\n",""])},IaMM:function(t,e,n){"use strict";var i=n("aajL");n.n(i).a},IlXR:function(t,e,n){"use strict";var i=n("nwuA");n.n(i).a},J1PL:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wbtn-duration .wduration{\n    font-weight: normal;\n}\n.wbtn-duration .wduration.wsold::after{\n    content: ' - ';\n}\n",""])},JRvF:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.first-avail {\n    font-size: 12px;\n}\n.first-avail .ddays  {\n    min-width: 170px;\n    font-size: 12px;\n}\n.first-avail .ddays .wbtn{\n    font-size: .7em;\n}\n.wap-front .first-avail .tt-here[data-tt]::before{\n    bottom: 20px;\n}\n.wap-front .first-avail .tt-here[data-tt]::after{\n    display:none;\n}\n.wap-front .werror{\n    color:var(--wappo-error-tx) !important;\n}\n",""])},JiK0:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.slots-panel{\n    overflow: hidden;\n}\n.d-section {\n    margin: 0 .2em;\n}\n.ds-1{\n    width: 100%;\n}\n.ds-2{\n    width: 48%;\n}\n.ds-3{\n    width: 31%;\n}\n.wbtn span{\n    display:block;\n}\n.wbtn .sleft {\n    color: #f2f2f2;\n    font-size: .7em;\n}\n.wbtn.wbtn-slot {\n    width: 100%;\n    overflow: hidden;\n}\n.wbtn.wbtn-slot,\n.wbtn.wbtn-slot:not(:disabled):not(.disabled):active, \n.wbtn.wbtn-slot:not(:disabled):not(.disabled).active{\n    margin: 0.2em;\n}\n.ds-1 .wbtn.wbtn-slot {\n    width: 31%;\n}\n.day-part{\n    display: block;\n    text-align: center;\n    font-size: .75em;\n    min-height: 28px;\n}\n.timezone{\n    width: 100%;\n}\n\n",""])},JpxJ:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"suffix",value:function(){return"wappointment/v1"}},{key:"endpoints",value:function(){return{create:{method:"post",route:"/order/create"},pay:{method:"post",route:"/order/pay"},confirm:{method:"post",route:"/order/confirm"},index:{method:"get",route:"orders"},refund:{method:"post",route:"/order/refund"},markpaid:{method:"post",route:"/order/paid"},cancel:{method:"post",route:"/order/cancel"}}}}]),t}();e.a=s},Jvpg:function(t,e,n){"use strict";var i={props:["service","options","selected","viewData","extraClass"],name:"ServiceButton",mixins:[n("OiRY").a],computed:{priceAlignRight:function(){return-1===[void 0,!1].indexOf(this.options.service_selection.check_price_right)},getClasses:function(){var t="wbtn wbtn-cell wbtn-secondary wbtn-service d-flex align-items-center";return""!=this.extraClass&&(t+=" "+this.extraClass),!0===this.selected&&(t+=" selected"),t},serviceHasIcon:function(){return""!=this.service.options.icon},sellable:function(){return this.service.options.woo_sellable&&this.hasPrice&&""!=this.currency},hasPrice:function(){return this.getPrices.length>0},getPrices:function(){for(var t=[],e=0;e<this.service.options.durations.length;e++){var n=this.service.options.durations[e];-1===[void 0,""].indexOf(n.woo_price)&&t.push(n.woo_price)}return t},hasDesc:function(){return-1===["",void 0].indexOf(this.service.options.description)},getPriceRange:function(){var t=this.getPrices;return t.length>1?this.formatPrice(Math.min.apply(null,t))+" - "+this.formatPrice(Math.max.apply(null,t)):this.formatPrice(t[0])}},methods:{selectService:function(){this.$emit("selectService",this.service)}}},s=(n("L8vv"),n("KHd+")),o=Object(s.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.getClasses,on:{click:t.selectService}},[t.serviceHasIcon?n("WapImage",{attrs:{element:t.service,desc:t.service.name,size:"lg"}}):t._e(),t._v(" "),n("div",{staticClass:"service-label"},[n("div",{staticClass:"service-name"},[t._v(t._s(t.service.name))]),t._v(" "),t.hasDesc?n("div",{staticClass:"description"},[t._v(t._s(t.service.options.description))]):t._e(),t._v(" "),t.sellable&&!t.priceAlignRight?n("div",{staticClass:"service-price"},[t._v(t._s(t.getPriceRange))]):t._e(),t._v(" "),t._t("default")],2),t._v(" "),t.sellable&&t.priceAlignRight?n("div",{staticClass:"service-price price-right",class:{als:t.hasDesc}},[t._v(t._s(t.getPriceRange))]):t._e()],1)},[],!1,null,null,null);e.a=o.exports},KH6Y:function(t,e,n){"use strict";var i={d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S:"o",w:"e",z:"DDD",W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t:"",L:"",o:"YYYY",Y:"YYYY",y:"YY",a:"a",A:"A",B:"",g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"SSS",v:"",e:"zz",I:"",O:"",P:"",T:"",Z:"",c:"",r:"",U:"X"};e.a=function(t){for(var e=Object.keys(i),n=0;n<e.length;n++)void 0!==e[n]&&(t=t.replace("\\"+e[n],"["+e[n]+"]"));for(var s="",o=!1,a=0;a<t.length;a++)"["==t[a]&&(o=!0),void 0===i[t[a]]||o?s+=t[a]:s+=i[t[a]],"]"==t[a]&&(o=!1);return s}},L8vv:function(t,e,n){"use strict";var i=n("8MlL");n.n(i).a},LFG5:function(t,e,n){var i=n("0LHV");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("89ba4b2e",i,!0,{})},LKNl:function(t,e,n){"use strict";var i=n("Qu3J");n.n(i).a},LNkL:function(t,e,n){"use strict";var i={props:{options:{},tos:{type:Boolean,default:!1}},computed:{getTerms:function(){return this.tos?this.getTos:this.getPP},termsIsOn:function(){return!0===this.getCheck},getTos:function(){return this.getPP.replace("[linktos]",'<a href="'+this.cleanString(this.options.swift_payment.tos_link)+'" target="_blank">').replace("[/linktos]","</a>")},getPP:function(){return this.cleanString(this.getText).replace("[link]",'<a href="'+this.cleanString(this.options.form.terms_link)+'" target="_blank">').replace("[/link]","</a>")},getCheck:function(){return this.tos?this.options.swift_payment.check_tos:this.options.form.check_terms},getText:function(){return this.tos?this.options.swift_payment.tos_text:this.options.form.terms}}},s=(n("OBPl"),n("KHd+")),o=Object(s.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return this.termsIsOn?e("div",{staticClass:"wap-terms",domProps:{innerHTML:this._s(this.getTerms)}}):this._e()},[],!1,null,null,null);e.a=o.exports},LyZl:function(t,e,n){var i=n("1/zx");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("66e72df9",i,!0,{})},Lz4k:function(t,e,n){var i=n("YctO");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("9da53dce",i,!0,{})},Nd7V:function(t,e,n){"use strict";var i=n("t2Av");n.n(i).a},NwSl:function(t,e,n){var i=n("o38m");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("36b9fc60",i,!0,{})},OBPl:function(t,e,n){"use strict";var i=n("5yDa");n.n(i).a},OHi5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=[],s="M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z";e.definition={prefix:"fas",iconName:"palette",icon:[512,512,i,"f53f",s]},e.faPalette=e.definition,e.prefix="fas",e.iconName="palette",e.width=512,e.height=512,e.ligatures=i,e.unicode="f53f",e.svgPathData=s},OiRY:function(t,e,n){"use strict";var i={computed:{currency:function(){return this.currencySymb},priceFormat:function(){return this.wooAddonActive?window.wappointment_woocommerce.currency_format:window.apiWappointment.currency.format},wooAddonActive:function(){return void 0!==window.wappointment_woocommerce&&window.wappointment_woocommerce.installed_at},wooCurrency:function(){return this.wooAddonActive?window.wappointment_woocommerce.currency_symbol:""},wooCurrencyText:function(){return this.wooAddonActive?window.wappointment_woocommerce.currency_text:""},currencySeparator:function(){return this.wooAddonActive?window.wappointment_woocommerce.decimals_sep:window.apiWappointment.currency.decimals_sep},thousandSeparator:function(){return this.wooAddonActive?window.wappointment_woocommerce.thousand_sep:window.apiWappointment.currency.thousand_sep},wappoCurrencyText:function(){return window.apiWappointment.currency.code+" - "+this.wappoCurrency},wappoCurrency:function(){return window.apiWappointment.currency.symbol},currencyCode:function(){return window.apiWappointment.currency.code},currencySymb:function(){return this.wooAddonActive?this.wooCurrency:this.wappoCurrency},currencyText:function(){return this.wooAddonActive?this.wooCurrencyText:this.wappoCurrencyText}},methods:{canSell:function(t){return this.sellable&&""!==this.currency&&-1===[void 0,""].indexOf(t.woo_price)},formatPrice:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.priceFormat.replace("[currency]",this.currency).replace("[price]",this.formatThousands(this.displayCents(t*(e?1:100))))},formatCentsPrice:function(t){return this.formatPrice(t,!0)},displayCents:function(t){var e=t/100;return!1===this.currencySeparator?Math.floor(e):e.toFixed(2).replace(".",this.currencySeparator)},formatThousands:function(t){for(var e=t.toString(),n="",i=(!1===this.currencySeparator?e:e.split(this.currencySeparator)[0]).split("").reverse().join(""),s=0;s<i.length;s++)n+=i[s]+((s+1)%3==0&&i.length>s+1?this.thousandSeparator:"");return n.split("").reverse().join("")+(!1===this.currencySeparator?"":this.currencySeparator+e.split(this.currencySeparator)[1])}}},s=n("KHd+"),o=Object(s.a)(i,void 0,void 0,!1,null,null,null);e.a=o.exports},PdNP:function(t,e){t.exports=function(t){this.message=t,this.name="InvalidMonthsAbbrError"}},"Q+ZH":function(t,e,n){var i=n("uChi");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("661e781e",i,!0,{})},Q6gv:function(t,e,n){"use strict";var i=n("A5Wa"),s=n("KH6Y"),o="\\n",a={props:["service","staff","currentTz","physicalSelected","appointment","showResult","options","ticket"],methods:{goToUrl:function(t){window.open(t)},toIsoString:function(t){return t.toISOString().replace(/-|:|\.\d+/g,"")},getTitle:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(e?"<strong>":"")+t+(e?"</strong>":"")},getAppointmentDetails:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(this.appointment.type){case"phone":return this.getTitle(this.options.i18n.a_is_phone,t)+o+this.options.i18n.a_with_phone.replace("%s",this.getClientPhone);case"zoom":return this.getTitle(this.options.i18n.a_is_video,t)+o+this.options.i18n.a_with_videolink+o+this.generateLink("view-event",t,this.options.i18n.begin_meeting);case"skype":return this.getTitle(this.options.i18n.a_is_skype,t)+o+this.options.i18n.a_with_phone.replace("%s",this.getSkypeUsername);case"physical":return o+this.getTitle(this.options.i18n.a_is_address,t)+o+this.eventLocation}},eventDescription:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t?apiWappointment.signature.replace("https://wappointment.com",'<a href="https://wappointment.com?utm_source=plugin&utm_medium=ics&utm_campaign=appointment">Wappointment</a>'):apiWappointment.signature;return this.getAppointmentDetails(t)+this.getLinks(t)+o+this.getLineSeparator("_",e.length/2)+o+o+e},getLineSeparator:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n="";n.length<e+1;)n+=t;return n},generateLink:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"view-event",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=-1===apiWappointment.frontPage.indexOf("?")?"?":"&",s=apiWappointment.frontPage+i+"view="+t+"&appointmentkey="+this.appointment.edit_key;return this.getLink(window.wappointmentExtends.filter("urlAppointmentKey",s,{appointment:this.appointment,ticket:this.ticket}),e,n)},getLink:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(e?"<a href='"+t+"' target='_blank'>":"")+(e&&""!=n?n:t)+(e?"</a>":"")},getLinks:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t?o+o+(this.canReschedule?this.generateLink("reschedule-event",t,this.options.i18n.reschedule):"")+(this.canCancel&&this.canReschedule?" - ":"")+(this.canCancel?this.generateLink("cancel-event",t,this.options.i18n.cancel):""):(this.canReschedule?o+o+this.appointment.reschedule_until_text.replace("&#10;","").replace("\n",o):"")+(this.canCancel?o+o+this.appointment.cancel_until_text.replace("&#10;","").replace("\n",o)+" "+o+this.generateLink("cancel-event"):"")},getUnixNow:function(){return Object(i.a)().unix()},getPhysicalAddress:function(){var t=this.appointment.location_id,e=this.service.locations.find(function(e){return e.id==t});return void 0!==e?e.options.address:this.appointment.location_label}},computed:{canCancel:function(){return void 0!==this.appointment.can_cancel_until&&this.getUnixNow()<this.appointment.can_cancel_until},canReschedule:function(){return void 0!==this.appointment.can_reschedule_until&&this.getUnixNow()<this.appointment.can_reschedule_until},isoFormat:function(){return Object(s.a)("Ymd")+"[T]"+Object(s.a)("His")},startDate:function(){return i.a.unix(this.appointment.start_at)},getDuration:function(){return this.service.duration},endDate:function(){return i.a.unix(this.endDateMinusBuffer)},endDateMinusBuffer:function(){var t=void 0!==this.appointment.options.buffer_time?60*parseInt(this.appointment.options.buffer_time):0;return this.appointment.end_at-t},formattedStartDate:function(){return this.startDate.format(this.isoFormat)},formattedEndDate:function(){return this.endDate.format(this.isoFormat)},formattedStartDateMS:function(){return this.startDate.toISOString()},formattedEndDateMS:function(){return this.endDate.toISOString()},encodedEventTitle:function(){return encodeURIComponent(this.eventTitle)},eventTitle:function(){return this.service.name+" - "+this.staff.n},getSkypeUsername:function(){return void 0!==this.appointment.client.options&&void 0!==this.appointment.client.options.skype?this.appointment.client.options.skype:""},getClientPhone:function(){return void 0!==this.appointment.client.options&&void 0!==this.appointment.client.options.phone?this.appointment.client.options.phone:""},encodedEventTZ:function(){return encodeURIComponent(this.currentTz)},eventLocation:function(){return"physical"==this.appointment.type?this.getPhysicalAddress():this.appointment.location_label},saveToIcal:function(){return encodeURI("data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT",this.appointment.ics_organizer,"CATEGORIES:APPOINTMENT","TRANSP:OPAQUE","URL:"+document.URL,"DTSTART:"+this.formattedStartDate,"DTEND:"+this.formattedEndDate,"SUMMARY:"+this.eventTitle,"DESCRIPTION:"+this.eventDescription(),"LOCATION:"+this.eventLocation,"END:VEVENT","END:VCALENDAR"].join("\n"))},saveToYahoo:function(){var t="https://calendar.yahoo.com/?v=60&view=d&type=20";return t+="&title="+this.encodedEventTitle,t+="&st="+this.formattedStartDate,t+="&et="+this.formattedEndDate,t+="&in_loc="+encodeURIComponent(this.eventLocation.replaceAll("\n",", ")),t+="&desc="+encodeURIComponent(this.eventDescription().replaceAll("\\n","\n"))},saveToGoogle:function(){var t="http://www.google.com/calendar/event?action=TEMPLATE";return t+="&text="+this.encodedEventTitle,t+="&dates="+this.formattedStartDate+"/"+this.formattedEndDate,t+="&ctz="+this.encodedEventTZ,t+="&trp=true",t+="&sprop="+apiWappointment.apiSite,t+="&details="+encodeURIComponent(this.eventDescription(!0).replaceAll("\\n","<br/>")),t+="&location="+encodeURIComponent(this.eventLocation.replaceAll("\n",", "))},saveToOutlookOnline:function(){var t="https://outlook.live.com/calendar/0/deeplink/compose?path=/calendar/action/compose&rru=addevent";return t+="&subject="+encodeURIComponent(this.eventTitle.replaceAll(" ","\n")),t+="&startdt="+this.formattedStartDateMS,t+="&enddt="+this.formattedEndDateMS,t+="&location="+encodeURIComponent(this.eventLocation.replaceAll("\n",", ").replaceAll(" ","\n")),t+="&body="+encodeURIComponent(this.eventDescription(!0).replaceAll("\\n","<br/>").replaceAll(" ","\n"))}}},r=(n("hZNi"),n("KHd+")),c=Object(r.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"saveButtons"},[n("span",{staticClass:"wbtn-secondary wbtn googlecal d-flex align-items-center d-flex-inline",attrs:{role:"button"},on:{click:function(e){t.goToUrl(t.saveToGoogle)}}},[n("WapImage",{attrs:{faIcon:["fab","google"],size:"md"}}),t._v(" "),n("span",{staticClass:"ml-2"},[t._v("Google")])],1),t._v(" "),n("a",{staticClass:"wbtn-secondary wbtn outlook d-flex align-items-center d-flex-inline",attrs:{href:t.saveToIcal,download:"event.ics"}},[n("WapImage",{attrs:{faIcon:["fab","windows"],size:"md"}}),t._v(" "),n("span",{staticClass:"ml-2"},[t._v("Outlook")])],1),t._v(" "),n("span",{staticClass:"wbtn-secondary wbtn outlook d-flex align-items-center d-flex-inline",attrs:{role:"button"},on:{click:function(e){t.goToUrl(t.saveToOutlookOnline)}}},[n("WapImage",{attrs:{faIcon:["fab","windows"],size:"md"}}),t._v(" "),n("span",{staticClass:"ml-2"},[t._v("Outlook Live")])],1),t._v(" "),n("a",{staticClass:"wbtn-secondary wbtn d-flex align-items-center d-flex-inline",attrs:{href:t.saveToIcal,download:"event.ics"}},[n("WapImage",{attrs:{faIcon:["fab","apple"],size:"md"}}),t._v(" "),n("span",{staticClass:"ml-2"},[t._v("iCal")])],1),t._v(" "),n("span",{staticClass:"wbtn-secondary wbtn d-flex align-items-center d-flex-inline",attrs:{role:"button"},on:{click:function(e){t.goToUrl(t.saveToYahoo)}}},[n("WapImage",{attrs:{faIcon:["fab","yahoo"],size:"md"}}),t._v(" "),n("span",{staticClass:"ml-2"},[t._v("Yahoo")])],1)])},[],!1,null,null,null);e.a=c.exports},QJKy:function(t,e){t.exports=function(t){this.message=t,this.name="InvalidWeekdayError"}},Qi5d:function(t,e,n){"use strict";var i=n("FYyN"),s=n("c+oO"),o=n("ZfG2");var a,r,c={mixins:[i.a],components:{SearchDropdown:o.a},props:{preview:{type:Boolean,default:!0},title:{type:String,default:""},calendar_id:{default:!1},service_id:{default:!1},calendars:{default:null},services:{default:null},simple:{default:!1},canLockStaff:{default:!1},canLockService:{default:!1},popupInit:{default:!1}},data:function(){return{large:!1,open:!1,popup:!1,close_cross:!1,random:!1,center:!1,week:!1,staffpage:!1,titleGiven:"",active_staff_id:!1,active_service_id:!1,calendars_data:null,services_data:null,servicesService:null,calendarsService:null}},created:function(){this.titleGiven=this.title,this.active_staff_id=this.calendar_id,this.active_service_id=this.service_id,this.calendarsService=this.$vueService(new s.a),this.popup=this.popupInit,this.services&&this.calendars?this.setBaseData(this.calendars,this.services):this.loadCalendars()},methods:{setBaseData:function(t,e){this.calendars_data=t,this.services_data=e},loadCalendars:function(){this.request(this.requestCalendars,{},void 0,!1,this.loadedCalendars)},loadedCalendars:function(t){this.setBaseData(t.data.calendars,t.data.services)},requestCalendars:(a=regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.calendarsService.call("index",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}),r=function(){var t=a.apply(this,arguments);return new Promise(function(e,n){return function i(s,o){try{var a=t[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});e(r)}("next")})},function(t){return r.apply(this,arguments)})},watch:{active_staff_id:function(t){-1===[void 0,!1,""].indexOf(t)&&(this.staffpage=!1)},popup:function(t){t&&(this.center=!1,this.large=!1)},staffpage:function(t){t&&(this.random=!1)}},computed:{staffSelected:function(){return-1===[void 0,!1,""].indexOf(this.active_staff_id)},filteredCalendars:function(){if(this.active_service_id&&this.calendars_data){var t=this.active_service_id;return this.calendars_data.filter(function(e){return-1!==e.services.indexOf(t)})}return this.calendars_data},filteredServices:function(){if(this.active_staff_id&&this.services_data){var t=this.active_staff_id,e=this.calendars_data.find(function(e){return e.id==t}).services;return this.services_data.filter(function(t){return-1!==e.indexOf(t.id)})}return this.services_data},getShortCode:function(){var t='wap_widget title="'+this.titleGiven+'"';return t+=this.large?" large ":"",t+=this.open?" open ":"",t+=this.popup?" popup ":"",t+=this.close_cross?" close_cross ":"",t+=this.center?" center ":"",t+=this.week?" week ":"",t+=this.staffpage?" staff_page ":"",t+=this.random?" random ":"",t+=this.active_staff_id?' staff="'+this.active_staff_id+'" ':"",t="["+(t+=this.active_service_id?' service="'+this.active_service_id+'" ':"")+"]",this.$emit("change",t,{largeVersion:this.large,autoOpen:this.open,popup:this.popup,close_cross:this.close_cross,week:this.week,center:this.center,staffPage:this.staffpage,random:this.random,buttonTitle:this.titleGiven}),t},previewSCimg:function(){var t="widget_"+(this.open?"cal_":"")+(this.large?"lg":this.center?"sm-c":"sm")+".svg";return window.apiWappointment.resourcesUrl+"images/"+t}}},l=(n("xX18"),n("KHd+")),d=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex align-items-center justify-content-between"},[n("div",{staticClass:"commands-div"},[n("div",{attrs:{"data-tt":"Booking button's title"}},[n("label",[n("InputPh",{attrs:{ph:t.get_i18n("bwe_widget_button_title","common")},model:{value:t.titleGiven,callback:function(e){t.titleGiven=e},expression:"titleGiven"}})],1)]),t._v(" "),n("div",{attrs:{"data-tt":t.get_i18n("bwe_widget_ck_fs_popup_tip","common")}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.popup,expression:"popup"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.popup)?t._i(t.popup,null)>-1:t.popup},on:{change:function(e){var n=t.popup,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.popup=n.concat([null])):o>-1&&(t.popup=n.slice(0,o).concat(n.slice(o+1)))}else t.popup=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_fs_popup","common")))])]),t._v(" "),t.popup?n("div",{staticClass:"ml-2"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.close_cross,expression:"close_cross"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.close_cross)?t._i(t.close_cross,null)>-1:t.close_cross},on:{change:function(e){var n=t.close_cross,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.close_cross=n.concat([null])):o>-1&&(t.close_cross=n.slice(0,o).concat(n.slice(o+1)))}else t.close_cross=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_fs_popup_closes","common")))])]):t._e(),t._v(" "),n("div",{attrs:{"data-tt":"Center the widget within the container"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.center,expression:"center"}],attrs:{type:"checkbox",disabled:t.popup},domProps:{checked:Array.isArray(t.center)?t._i(t.center,null)>-1:t.center},on:{change:function(e){var n=t.center,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.center=n.concat([null])):o>-1&&(t.center=n.slice(0,o).concat(n.slice(o+1)))}else t.center=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_center","common")))])]),t._v(" "),n("div",{attrs:{"data-tt":"Opens the calendar's step automatically"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.open,expression:"open"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.open)?t._i(t.open,null)>-1:t.open},on:{change:function(e){var n=t.open,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.open=n.concat([null])):o>-1&&(t.open=n.slice(0,o).concat(n.slice(o+1)))}else t.open=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_open","common")))])]),t._v(" "),n("div",{attrs:{"data-tt":"Calendar will expand to the container's width"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.large,expression:"large"}],attrs:{type:"checkbox",disabled:t.popup},domProps:{checked:Array.isArray(t.large)?t._i(t.large,null)>-1:t.large},on:{change:function(e){var n=t.large,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.large=n.concat([null])):o>-1&&(t.large=n.slice(0,o).concat(n.slice(o+1)))}else t.large=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_full","common")))])]),t._v(" "),n("div",{attrs:{"data-tt":"Show a week view instead of the full month"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.week,expression:"week"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.week)?t._i(t.week,null)>-1:t.week},on:{change:function(e){var n=t.week,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.week=n.concat([null])):o>-1&&(t.week=n.slice(0,o).concat(n.slice(o+1)))}else t.week=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_week","common")))])]),t._v(" "),n("div",{attrs:{"data-tt":"The first screen in your booking form will be a staff selection page(if you have more than one staff)"}},[n("label",{class:{"text-muted":t.staffSelected}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.staffpage,expression:"staffpage"}],attrs:{disabled:t.staffSelected,type:"checkbox"},domProps:{checked:Array.isArray(t.staffpage)?t._i(t.staffpage,null)>-1:t.staffpage},on:{change:function(e){var n=t.staffpage,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.staffpage=n.concat([null])):o>-1&&(t.staffpage=n.slice(0,o).concat(n.slice(o+1)))}else t.staffpage=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_staff","common")))])]),t._v(" "),n("div",{attrs:{"data-tt":"Random selection of the staff"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.random,expression:"random"}],attrs:{type:"checkbox",disabled:t.staffpage},domProps:{checked:Array.isArray(t.random)?t._i(t.random,null)>-1:t.random},on:{change:function(e){var n=t.random,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.random=n.concat([null])):o>-1&&(t.random=n.slice(0,o).concat(n.slice(o+1)))}else t.random=s}}}),t._v(" "+t._s(t.get_i18n("bwe_widget_ck_random","common")))])]),t._v(" "),t.simple?t._e():[t.filteredCalendars?n("div",[n("SearchDropdown",{attrs:{ph:"Lock Calendar/Staff",elements:t.filteredCalendars,labelSearchKey:"name"},model:{value:t.active_staff_id,callback:function(e){t.active_staff_id=e},expression:"active_staff_id"}})],1):t._e(),t._v(" "),t.filteredServices?n("div",{staticClass:"mt-2"},[n("SearchDropdown",{attrs:{ph:"Lock Service",elements:t.filteredServices,labelSearchKey:"name"},model:{value:t.active_service_id,callback:function(e){t.active_service_id=e},expression:"active_service_id"}})],1):t._e()]],2),t._v(" "),t.preview?n("div",[n("img",{staticClass:"img-fluid",attrs:{src:t.previewSCimg,alt:"preview booking button shape",width:"100"}})]):t._e(),t._v(" "),n("span",{staticStyle:{display:"none"}},[t._v(t._s(t.getShortCode))])])},[],!1,null,null,null);e.a=d.exports},Qjxm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=[],s="M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z";e.definition={prefix:"fas",iconName:"save",icon:[448,512,i,"f0c7",s]},e.faSave=e.definition,e.prefix="fas",e.iconName="save",e.width=448,e.height=512,e.ligatures=i,e.unicode="f0c7",e.svgPathData=s},Qqy9:function(t,e){t.exports=function(t){this.message=t,this.name="InvalidWeekdaysError"}},Qu3J:function(t,e,n){var i=n("kcK7");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("321f0db9",i,!0,{})},"R+kQ":function(t,e,n){var i=n("Acyh");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("7b2762cc",i,!0,{})},TctJ:function(t,e,n){var i=n("H1Hz");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("2ca5c006",i,!0,{})},US5p:function(t,e,n){"use strict";var i=n("3X8r");n.n(i).a},UgAb:function(t,e,n){"use strict";var i={computed:{getMinText:function(){return void 0===this.options.general||void 0===this.options.general.min?"min":this.options.general.min}}},s=n("KHd+"),o=Object(s.a)(i,void 0,void 0,!1,null,null,null);e.a=o.exports},UrQX:function(t,e,n){"use strict";var i={classPrefix:"bbcode",newLine:!1,allowData:!1,allowClasses:!1};t.exports={render:function(t,e){var n=new RegExp("\\[(\\w+)(?:[= ]([^\\]]+))?]((?:.|[\r\n])*?)\\[/\\1]","ig");return i=Object.assign(i,e),e.newLine&&(t=t.replace(/\r?\n/g,"<br>")),t.replace(n,function(t,e,n,s){e=e.toLowerCase();var o,a,r,c="",l=function(t,e){var n={attr:{},class:[],data:{}};if(!e)return n;if(e=e.match(/[a-zA-Z0-9_-]+=(\'|").*?(\'|")/g))for(var i=0;i<e.length;i++){var s=e[i];"class"===(s=s.trim().split("=").map(function(t){return t.replace(/(^(\'|")+|(\'|")+$)/gm,"")}))[0]?n.class.push(s[1]):n[s[0].includes("data-")?"data":"attr"][s[0]]=s[1]}return n}(0,/\[(.*?)\]/g.exec(t)[1]),d={attr:l.attr,data:i.allowData?(o=l.data,a="",Object.keys(o).forEach(function(t){a+=" "+t+'="'+o[t]+'" '}),a):"",class:i.allowClasses?i.classPrefix+" "+l.class.join(" ")+" ":i.classPrefix+" "};switch(e){case"url":return c='<a class="'+d.class+'link" '+d.data,d.attr.alt&&(c+=' alt="'+d.attr.alt+'"'),c+' href="'+(void 0!==(r=d).attr.wurl?"admin.php?page="+r.attr.wurl:r.attr.url)+'">'+s+"</a>";case"b":return"<strong "+d.data+" >"+s+"</strong>";case"i":return"<em "+d.data+" >"+s+"</em>";case"u":return'<span style="text-decoration:underline" '+d.data+" >"+s+"</span>";case"s":return'<span style="text-decoration:line-through" '+d.data+" >"+s+"</span>";case"list":case"ol":case"ul":return"list"===e&&(e="ul"),c="<"+e+" "+d.data+' class="'+d.class+'">',(c+=s.replace(new RegExp("\\[li]((?:.|[\r\n])*?)\\[/li]","ig"),function(t,e){return"<li>"+e.trim()+"</li>"}))+"</"+e+">";case"span":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"<"+e+d.data+' class="'+d.class+" "+e+'">'+s+"</"+e+">";case"img":return c='<img class="'+d.class+'image" src="'+s+" "+d.data+'"',d.attr.width&&(c+=' width="'+d.attr.width+'px"'),d.attr.height&&(c+=' height="'+d.attr.height+'px"'),d.attr.title&&(c+=' title="'+d.attr.title+'"'),d.attr.alt&&(c+=' alt="'+d.attr.alt+'"'),c+">"}return t}.bind())},version:"1.0.0"}},VHDP:function(t,e,n){var i=n("+vtg");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("1140e80f",i,!0,{})},VJs4:function(t,e,n){"use strict";var i=n("5pyh"),s=n("XfSa"),o=n("OiRY");var a,r,c={extends:s.a,mixins:[o.a],props:["dataPassed","servicesService","extraOptions","buttons","minimal","params"],data:function(){return{serviceService:null,modelHolder:{name:"",duration:60,type:"",address:"",options:{countries:[],phone_required:!1,video:""}},errors:{},formKey:"form"}},created:function(){void 0!==this.dataPassed&&(this.modelHolder=Object.assign({},this.dataPassed))},computed:{errorsPassed:function(){return this.errors},schemai18n:function(){return[{type:"row",class:"d-flex flex-wrap flex-sm-nowrap align-items-top fieldthumb",classEach:"mr-2",fields:[{type:"opt-imageselect",model:"options.icon",cast:String},{type:"input",label:this.get_i18n("service_f_name","settings"),model:"name",cast:String,class:"input-360"}]},{type:"checkbox",label:this.get_i18n("service_f_sell","settings"),model:"options.woo_sellable",cast:Boolean,default:!1},{type:"address",label:this.get_i18n("service_f_sdecs","settings"),model:"options.description",address:!1,cast:String},{type:"opt-multidurations",label:this.get_i18n("service_f_duration","settings"),model:"options.durations",cast:String,class:"w-100",default:[{duration:60}],min:5,max:240,step:5,int:!0,unit:"min",required_options_props:{woo_sellable:"woo_sellable"}},{type:"opt-modality",label:this.get_i18n("service_f_modality","settings"),model:"locations_id",cast:Array,checklistOptions:{value:"id"}},{type:"opt-customfields",label:this.get_i18n("service_f_cfield","settings"),model:"options.fields",bus:!0,listenBus:!0,cast:Array,checklistOptions:{value:"namekey"}},{type:"countryselector",label:this.get_i18n("service_f_countries","settings"),model:"options.countries",cast:Array,conditions:[{model:"options.fields",values:["phone"]}],validation:["required"]}]}},methods:{schemaParsed:function(){return window.wappointmentExtends.filter("ServiceFormSchema",this.addPriceField(this.schemai18n),this.params)},generatePriceField:function(){return{type:"input",label:this.sprintf_i18n("service_f_price","settings",this.currencyText),model:"options.woo_price",cast:String,conditions:[{model:"options.woo_sellable",values:[!0]}],liveParse:function(t){var e=(t=(t=t.replace(",",".")).replace(/[^0-9.]/g,"")).indexOf(".");return-1!==e&&e<t.length-2&&(t=Number.parseFloat(t).toFixed(2)),t}}},addPriceField:function(t){for(var e=0;e<t.length;e++)"opt-multidurations"==t[e].type&&(t[e].woo_price_field=this.generatePriceField());return t},isReady:function(t){this.$emit("ready",t)},initMethod:function(){this.serviceService=void 0!==this.servicesService?this.servicesService:this.$vueService(new i.a)},saveExternal:function(){this.$refs.formgenerator.submitTrigger(!0)},save:function(t){this.modelHolder=t,this.request(this.saveServiceRequest,void 0,void 0,!1,this.saved,this.failedValidation)},failedValidation:function(t){void 0!==t.response&&void 0!==t.response.data&&void 0!==t.response.data.data&&void 0!==t.response.data.data.errors&&void 0!==t.response.data.data.errors.validations&&(this.errors=t.response.data.data.errors.validations,this.formKey="form"+(new Date).getTime()),this.$refs.fgaddservice.reRender(),this.serviceError(t)},saveServiceRequest:(a=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceService.call("save",this.modelHolder);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}),r=function(){var t=a.apply(this,arguments);return new Promise(function(e,n){return function i(s,o){try{var a=t[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});e(r)}("next")})},function(){return r.apply(this,arguments)}),saved:function(t){this.$emit("saved",t)}}},l=n("KHd+"),d=Object(l.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("WAPFormGenerator",t._b({key:t.formKey,ref:"fgaddservice",attrs:{buttons:t.buttons,schema:t.schemaParsed(),data:t.modelHolder,errors:t.errorsPassed,minimal:t.minimal},on:{submit:t.save,back:function(e){t.$emit("back")},ready:t.isReady}},"WAPFormGenerator",t.extraOptions,!1))],1)},[],!1,null,null,null);e.a=d.exports},VQM7:function(t,e,n){"use strict";var i=n("gzyJ"),s=n("5qZH"),o=n("whSN"),a=n("mkhk"),r=n("wUn3"),c=n("76M+"),l=function(t){return{component:t,loading:r.a,error:c.a,delay:100,timeout:3e4}},d=n("tOgP"),u={mixins:[o.a,a.a,d.a],props:["classEl","options","step","attributesEl"],components:{BookingButton:i.a,StyleGenerator:s.a,ViewingAppointment:function(){return l(Promise.all([n.e(5),n.e(4),n.e(21)]).then(n.bind(null,"ALPF")))},BookingForm:function(){return l(Promise.all([n.e(2),n.e(5),n.e(4),n.e(13)]).then(n.bind(null,"gIVG")))}},data:function(){return{bookForm:!1,currentStep:null,dataSent:null,opts:null,elementId:"",stepName:"",buttonTitle:"",brFixed:void 0,popup:!1,largeVersion:!1,autoPop:!0,closeCross:!1,demoAs:!1,stepChanging:!1}},created:function(){this.elementId="wapfrontwrapper-"+Date.now(),void 0!==this.step&&(this.currentStep=this.step),this.opts=void 0===this.options?Object.assign({},window.widgetWappointment):Object.assign({},this.options),this.processShortcode()},mounted:function(){this.processAutoOpens()},watch:{step:function(t){this.currentStep=t},currentStep:function(t){void 0!==t&&(this.bookForm=-1===["button"].indexOf(t))},bookForm:function(t){!1===t&&this.$emit("changedStep","button")}},computed:{attributesElProcess:function(){var t=Object.assign({},this.attributesEl);return this.getParameterByName("staff")&&(t.staffSelection=this.getParameterByName("staff")),this.isNewEventPage&&(t.staffPage=1),this.castAttributes(t)},getStepName:function(){return"step-"+(this.bookForm?this.stepName:"button")},getWidClass:function(){return{"wap-abs":this.hasCloseCross&&this.isMobilePhone&&this.autoPop,"d-flex justify-content-center":1==this.attributesEl.center}},bgEnabled:function(){return this.bookForm&&(this.isBottomRight||this.isMobilePhone||this.popup)},canPop:function(){return this.bgEnabled&&this.isMobilePhone&&this.autoPop},isExpanded:function(){return this.bookForm&&this.canPop},isPoppedUp:function(){return this.popup&&this.bookForm},hasCloseCross:function(){return this.bgEnabled&&(this.isBottomRight||this.isExpanded||this.isPoppedUp)},getDynaClasses:function(){var t={"br-fixed":this.isBottomRight,"large-version":this.largeVersion,wmobile:this.isMobilePhone,wdesk:!this.isMobilePhone,wexpanded:this.isExpanded,poppedup:this.isPoppedUp};return-1===[null,void 0,!1].indexOf(this.getWidthClass)&&(t[this.getWidthClass]=!0),-1===[null,void 0,!1].indexOf(this.getParameterByName("view"))&&(t[this.getParameterByName("view")]=!0),t},getElement:function(){return!(!this.elementId||!1!==this.stepChanging)&&document.getElementById(this.elementId)},getWidthClass:function(){if(-1===[null,!1].indexOf(this.getElement)){if(this.getElement.clientWidth>360)return"over360";if(this.getElement.clientWidth>320)return"over320";if(this.getElement.clientWidth>280)return"over280"}},isPortraitMode:function(){return window.innerHeight>window.innerWidth},isMobilePhone:function(){return window.innerWidth<500&&this.isPortraitMode},realButtonTitle:function(){return void 0!==this.options&&void 0!==this.options.button.title?this.options.button.title:this.buttonTitle},isPage:function(){return"wappointment_page"===this.classEl},isBookingPage:function(){return this.isPage&&this.isNewEventPage},isNewEventPage:function(){return"new-event"===this.getParameterByName("view")},isWidget:function(){return"wappointment_widget"===this.classEl},isBottomRight:function(){return void 0!==this.brFixed&&!0===this.brFixed},getView:function(){return this.step||this.getParameterByName("view")},hasAttributesToProcess:function(){return void 0!==this.attributesEl&&Object.keys(this.attributesEl).length>0}},methods:{serviceSelectionAttribute:function(){for(var t=-1!==this.attributesEl.serviceSelection.indexOf(",")?this.attributesEl.serviceSelection.split(","):[this.attributesEl.serviceSelection],e=0;e<t.length;e++)t[e]=parseInt(t[e]);return t},castAttributes:function(t){for(var e=["staffSelection"],n=0;n<e.length;n++){var i=e[n];t[i]&&(t[i]=parseInt(t[i]))}return void 0!==t.serviceSelection&&(t.serviceSelection=this.serviceSelectionAttribute()),t},stepChanged:function(t){this.stepName=t,this.stepChanging=!0,setTimeout(this.changedStep,200)},changedStep:function(){this.stepChanging=!1},processShortcode:function(){this.hasAttributesToProcess&&(this.buttonTitle=void 0!==this.attributesEl.buttonTitle?this.attributesEl.buttonTitle:this.buttonTitle,this.brFixed=void 0!==this.attributesEl.brcFloats,this.demoAs=void 0!==this.attributesEl.demoAs,this.largeVersion=-1===[void 0,!1].indexOf(this.attributesEl.largeVersion),this.opts.selection.check_viewweek=-1===[void 0,!1].indexOf(this.attributesEl.week),this.autoPop=-1!==[void 0,!1].indexOf(this.attributesEl.popOff),this.popup=this.attributeIsEmpty("popup")&&!this.demoAs,this.closeCross=void 0!==this.attributesEl.closeCross,this.opts.attributesEl=Object.assign({},this.attributesEl))},attributeIsEmpty:function(t){return-1===[!1,void 0].indexOf(this.attributesEl[t])},translateAttributesEl:function(){var t={};for(var e in this.attributesEl)this.attributesEl.hasOwnProperty(e)&&-1!==["buttonTitle","brFixed","demoAs","largeVersion","week","popOff","autoOpen","autoPop","staffSelection","serviceSelection"].indexOf(e)&&(t[e]=this.attributesEl[e]);return t},processAutoOpens:function(){this.hasAttributesToProcess&&-1===[void 0,!1].indexOf(this.attributesEl.autoOpen)&&(this.autoPop=-1===[void 0,!1].indexOf(this.attributesEl.autoPop),this.toggleBookForm())},backToButtonFromBg:function(){return(!this.closeCross||!this.isPoppedUp)&&(this.backToButton(),!0)},backToButton:function(){if((this.canPop||this.popup)&&(document.documentElement.classList.remove("wappo-popped"),document.body.classList.remove("wappo-popped")),this.popup){var t=document.getElementById("clone-"+this.elementId),e=t.getElementsByClassName("wap-front")[0];document.getElementById(this.elementId).appendChild(e),t.remove()}this.bookForm=!1},toggleBookForm:function(){if(this.bookForm=!this.bookForm,this.popup){var t=document.getElementById(this.elementId).getElementsByClassName("wap-front")[0],e=document.createElement("div");e.setAttribute("id","clone-"+this.elementId),document.getElementById("wap-footer-container").appendChild(e),e.appendChild(t)}(this.canPop||this.popup)&&(document.body.classList.add("wappo-popped"),document.documentElement.classList.add("wappo-popped"))}}},p=(n("squi"),n("KHd+")),h=Object(p.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:t.elementId}},[n("div",{staticClass:"wap-front",class:t.getDynaClasses},[n("StyleGenerator",{attrs:{options:t.opts,wrapper:t.elementId,largeVersion:t.largeVersion}}),t._v(" "),t.isPage?n("div",{class:"step-"+t.stepName},[t.isBookingPage?n("BookingForm",{attrs:{options:t.opts,wrapperid:t.elementId,attributesEl:t.attributesElProcess},on:{changedStep:t.stepChanged}}):n("ViewingAppointment",{attrs:{options:t.opts,view:t.getView,appointmentkey:t.getParameterByName("appointmentkey")}})],1):t._e(),t._v(" "),n("div",{staticClass:"wappo_module",class:t.getWidClass,on:{click:function(e){return e.target!==e.currentTarget?null:t.backToButtonFromBg(e)}}},[t.isWidget?n("div",{staticClass:"wap-wid wclosable",class:t.getStepName},[t.hasCloseCross?n("span",{staticClass:"wclose",on:{click:t.backToButton}}):t._e(),t._v(" "),t.bookForm?n("BookingForm",{attrs:{demoAs:t.demoAs,step:t.currentStep,options:t.opts,attributesEl:t.attributesElProcess,wrapperid:t.elementId,passedDataSent:t.dataSent},on:{changedStep:t.stepChanged}}):n("BookingButton",{staticClass:"wbtn wbtn-booking wbtn-primary",attrs:{options:t.opts},on:{click:t.toggleBookForm}},[t._v(t._s(t.realButtonTitle))])],1):t._e()]),t._v(" "),t.bgEnabled?n("div",{staticClass:"wap-bg",on:{click:t.backToButtonFromBg}}):t._e()],1)])},[],!1,null,null,null);e.a=h.exports},VaHL:function(t,e,n){"use strict";var i=n("GDSN");n.n(i).a},W79H:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-front.large-version .wap-wid.step-BookingServiceSelection {\n    max-width:100%;\n}\n",""])},WJvZ:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.progress {\n    width:40%;\n    height: 2.2rem;\n    margin-right: 2rem;\n    margin-left: 1rem;\n}\n.bg-info {\n    background-color: #d1d1d1 !important;\n    color: #4d4949;\n    font-size: .9rem;\n    font-weight: bold;\n    transition: all 0.3s ease-in;\n}\n@media (max-width: 769px) {\n.progress {\n        height: 1.6rem;\n}\n}\n\n",""])},X8YZ:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wappo-error {\n    background-color:#c86b5b;\n    color:#fff;\n    padding: .5em;\n    border-radius: .4em;\n}\n.wappo-error a {\n    color: #33c5ff;\n    text-decoration: underline;\n}\n",""])},XC6E:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!1===n){this.intervals=[];var i=e.sort(function(t,e){return t[0]>e[0]?1:-1}),s=!0,o=!1,a=void 0;try{for(var r,c=i[Symbol.iterator]();!(s=(r=c.next()).done);s=!0){var l=r.value;l.length>2?this.intervals.push({start:l[0],end:l[1],left:parseInt(l[2]),service:l[3],edit_key:l[4]}):this.intervals.push({start:l[0],end:l[1]})}}catch(t){o=!0,a=t}finally{try{!s&&c.return&&c.return()}finally{if(o)throw a}}}else this.intervals=e}return i(t,[{key:"get",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=[];if(!1===e)return new t(s,!0);var o=!0,a=!1,r=void 0;try{for(var c,l=this.intervals[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var d=c.value;if((!1===i||void 0===d.service||d.service===i)&&!(d.start>=d.end)){var u={start:e.unix(),end:n.unix()};if(this.intersecting(u,d))if(this.aContainsB(u,d)){var p=Object.assign({},d);s.push(Object.assign(p,{start:d.start,end:d.end,duration:d.end-d.start,llave:"a"}))}else{var h=Object.assign({},d);h=u.start>d.start?u.end<d.end?Object.assign(h,{start:u.start,end:u.end,duration:u.end-u.start,llave:"b1"}):Object.assign(h,{start:u.start,end:d.end,duration:d.end-u.start,llave:"b2"}):u.end<=d.end?Object.assign(h,{start:d.start,end:u.end,duration:u.end-d.start,llave:"c"}):Object.assign(h,{start:d.start,end:d.end,duration:d.end-d.start,llave:"c"}),s.push(h)}}}}catch(t){a=!0,r=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}return new t(s,!0)}},{key:"substract",value:function(e){for(var n=0;n<this.intervals.length;n++){var i=this.intervals[n];if(!Array.isArray(i)){var s=!0,o=!1,a=void 0;try{for(var r,c=e.intervals[Symbol.iterator]();!(s=(r=c.next()).done);s=!0){var l=r.value;this.intersecting(i,l)&&(this.aContainsB(i,l)?this.intervals[n]=this.aMinusBWhenContaining(i,l):this.intervals[n]=this.aMinusBWhenIntersect(i,l))}}catch(t){o=!0,a=t}finally{try{!s&&c.return&&c.return()}finally{if(o)throw a}}}}var d=[],u=!0,p=!1,h=void 0;try{for(var f,v=this.intervals[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var m=f.value;if(Array.isArray(m)){var g=!0,w=!1,b=void 0;try{for(var y,_=m[Symbol.iterator]();!(g=(y=_.next()).done);g=!0){var x=y.value;d.push(x)}}catch(t){w=!0,b=t}finally{try{!g&&_.return&&_.return()}finally{if(w)throw b}}}else m&&d.push(m)}}catch(t){p=!0,h=t}finally{try{!u&&v.return&&v.return()}finally{if(p)throw h}}return new t(d,!0)}},{key:"aMinusBWhenContaining",value:function(t,e){var n=[];return n.push({start:t.start,end:e.start,duration:e.start-t.start}),n.push({start:e.end,end:t.end,duration:e.end-t.end}),n}},{key:"aMinusBWhenIntersect",value:function(t,e){if(t.start>=e.start){if(t.end>e.end)return{start:e.end,end:t.end,duration:t.end-e.end}}else if(t.end<e.end)return{start:t.start,end:e.start,duration:e.start-t.start};return!1}},{key:"intersecting",value:function(t,e){return!(t.start>=e.end||t.end<=e.start)}},{key:"aContainsB",value:function(t,e){return t.start<e.start&&t.end>e.end}},{key:"arrayToInterval",value:function(e){return new t(e)}},{key:"splits",value:function(e){var n=[],i=!0,s=!1,o=void 0;try{for(var a,r=this.intervals[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var c=a.value;c.slots=Math.floor(c.duration/e),n.push(c)}}catch(t){s=!0,o=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw o}}return new t(n,!0)}},{key:"totalSlots",value:function(){var t=0,e=!0,n=!1,i=void 0;try{for(var s,o=this.intervals[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var a=s.value;void 0!==a.slots&&(t+=a.slots)}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}return t}}]),t}();e.a=s},Xx3G:function(t,e,n){var i=n("W79H");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("498d5bce",i,!0,{})},YctO:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wcharge {\n    font-size: .8em;\n}\n.wtotal.wsummary-section{\n    padding-left:1.1em;\n}\n\n",""])},Zq7e:function(t,e,n){"use strict";var i=n("bHQ6");n.n(i).a},a8Nn:function(t,e,n){"use strict";n.r(e),e.default={findKey:function(t,e){return t.findIndex(function(t){return t.key==e})},insertViewBefore:function(t,e,n){return t.splice(this.findKey(t,e),0,n),t},removeView:function(t,e){return t.splice(this.findKey(t,e),1),t},updateEditionsSteps:function(t,e,n){var i=!0,s=!1,o=void 0;try{for(var a,r=e[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var c=a.value;t=this.insertViewBefore(t,c.insertAt,c.insertStep)}}catch(t){s=!0,o=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw o}}var l=!0,d=!1,u=void 0;try{for(var p,h=n[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var f=p.value;t=this.removeView(t,f)}}catch(t){d=!0,u=t}finally{try{!l&&h.return&&h.return()}finally{if(d)throw u}}return t}}},aKqD:function(t,e,n){"use strict";var i=n("2RkK");n.n(i).a},aajL:function(t,e,n){var i=n("vkCh");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("a02481ce",i,!0,{})},ashb:function(t,e,n){t.exports=n.p+"e500252a27eb6af0b0c0853d856b3647.svg"},bHQ6:function(t,e,n){var i=n("3diX");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("4e36b608",i,!0,{})},cRRw:function(t,e,n){"use strict";var i=n("wyKA"),s=n("Fj/6"),o=n("PdNP"),a=(n("QJKy"),n("Qqy9")),r=n("e9Z7"),c=["January","February","March","April","May","June","July","August","September","October","November","December"],l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function d(t,e){return t.map(function(t){return t.slice(0,e||3)})}function u(t){for(var e=[],n=0;n<t;n++)e.push(1);return e}t.exports=function(t){var e=t&&!isNaN(t.abbrWeek)&&t.abbrWeek>0?t.abbrWeek:3,n=t&&!isNaN(t.abbrMonth)&&t.abbrMonth>0?t.abbrMonth:3,p=c,h=d(c,n),f=l,v=d(l,e);if(t&&t.months){if(!Array.isArray(t.months)||12!==t.months.length)throw new s("Months array must have 12 values");p=t.months,h=d(t.months,n)}if(t&&t.monthsAbbr){if(!Array.isArray(t.monthsAbbr)||12!==t.monthsAbbr.length)throw new o("Months array must have 12 values");h=t.monthsAbbr}if(t&&t.weekdays){if(!Array.isArray(t.weekdays)||7!==t.weekdays.length)throw new a("Weekdays array must have 7 values");f=t.weekdays,v=d(t.weekdays,e)}if(t&&t.weekdaysAbbr){if(!Array.isArray(t.weekdaysAbbr)||7!==t.weekdaysAbbr.length)throw new r("Weekdays array must have 7 values");v=t.weekdaysAbbr}return{months:function(){return p},monthsAbbr:function(){return h},years:function(t,e){if(t>e)throw new RangeError("The first year argument cannot be greater than the second");for(var n=[t.toString()],i=e-t+1;n.length<i;){var s=parseInt(n[n.length-1],10)+1;n.push(s.toString())}return n},yearsAbbr:function(t,e){var n=this.years(t,e).map(function(t){return t.toString().substring(2)});return n.length>1?n:n[0]},weekdays:function(){return f},weekdaysAbbr:function(){return v},generateCalendar:function(t,e,n,i,s,o,a){var r=[],c=Math.ceil((n+i)/7),l=c-1,d="function"==typeof o,p=-1*i,h=[];return u(c).forEach(function(n,i){u(7).forEach(function(n,s){var r=new Date(t,e,++p),c={date:r,day:r.getDate(),isInPrimaryMonth:r.getMonth()===e,isInLastWeekOfPrimaryMonth:i===l,index:{day:s,week:i}};if(d){var u=o(c,a);void 0!==u&&(c=u)}h.push(c)}),r.push(h),h=[]}),r},of:function(t,e,n){var i=this.detailed(t,e,function(t){return t.isInPrimaryMonth?t.day:0});return"function"==typeof n?n(i):i},detailed:function(t,e,n){if(e<0||e>11)throw new i("Month should be beetwen 0 and 11");if("number"!=typeof t||"number"!=typeof e)throw new Error("Arguments should be numbers");var s=new Date(t,e+1,0).getDate(),o=new Date(t,e,1).getDay(),a=new Date(t,e,s).getDay(),r={year:t.toString(),yearAbbr:this.yearsAbbr(t),month:this.months()[e],monthAbbr:this.monthsAbbr()[e],weekdays:this.weekdays(),weekdaysAbbr:this.weekdaysAbbr(),days:s,firstWeekday:o,lastWeekday:a},c=this.generateCalendar(t,e,s,o,a,n,r);return r.calendar=c,r},validate:function(t,e,n){var i=new Date(t,e,n);return i.getFullYear()===t&&i.getMonth()===e&&i.getDate()===n}}}},e9Z7:function(t,e){t.exports=function(t){this.message=t,this.name="InvalidWeekdaysAbbrError"}},eErJ:function(t,e,n){"use strict";var i=n("5pyh");var s,o,a={extends:n("XfSa").a,props:["dataPassed","servicesService","extraOptions","buttons"],data:function(){return{serviceService:null,modelHolder:{name:"",duration:60,type:"",address:"",options:{countries:[],phone_required:!1,video:""}},errors:{},formKey:"form"}},created:function(){void 0!==this.dataPassed&&(this.modelHolder=Object.assign({},this.dataPassed))},computed:{schemai18n:function(){return[{type:"row",class:"d-flex flex-wrap flex-sm-nowrap align-items-center",classEach:"mr-2 w-100",fields:[{type:"input",label:this.get_i18n("wizard_3_servicename","wizard"),model:"name",cast:String,styles:{"max-width":"200px"},validation:["required"]},{type:"duration",label:this.get_i18n("wizard_3_duration","wizard"),model:"duration",cast:String,class:"w-100",default:60,min:5,max:240,step:5,int:!0,unit:"min",validation:["required"]}]},{type:"checkimages",label:this.get_i18n("wizard_3_delivery","wizard"),model:"type",cast:Array,images:[{value:"zoom",name:this.get_i18n("wizard_3_delivery_video","wizard"),subname:"(Zoom, Google meet, ...)",icon:["fas","video"]},{value:"physical",name:this.get_i18n("wizard_3_delivery_address","wizard"),icon:"map-marked-alt"},{value:"phone",name:this.get_i18n("wizard_3_delivery_byphone","wizard"),icon:"phone"},{value:"skype",name:this.get_i18n("wizard_3_delivery_byskype","wizard"),icon:["fab","skype"]}],validation:["required"]},{type:"checkimages",label:this.get_i18n("wizard_3_select_video","wizard"),radioMode:!0,model:"options.video",cast:Array,images:[{value:"zoom",name:"Zoom",icon:"zoom.png",icontype:"img",realsize:!0},{value:"googlemeet",name:"Google Meet",icon:"google-meet.png",icontype:"img",realsize:!0}],conditions:[{model:"type",values:["zoom"]}],validation:["required"]},{type:"address",label:this.get_i18n("wizard_3_address","wizard"),model:"address",cast:String,conditions:[{model:"type",values:["physical"]}],validation:["required"]},{type:"checkbox",label:this.get_i18n("wizard_3_delivery_phone_require","wizard"),model:"options.phone_required",cast:Boolean},{type:"countryselector",label:this.get_i18n("wizard_3_accepted_countries","wizard"),model:"options.countries",cast:Array,conditions:[{type:"or",conda:{model:"type",values:["phone"]},condb:{model:"options.phone_required",values:[!0]}}],validation:["required"]}]},schemaParsed:function(){return window.wappointmentExtends.filter("serviceFormSchema",this.schemai18n,this.modelHolder)},errorsPassed:function(){return this.errors}},methods:{isReady:function(t){this.$emit("ready",t)},initMethod:function(){this.serviceService=void 0!==this.servicesService?this.servicesService:this.$vueService(new i.a)},saveExternal:function(){this.$refs.formgenerator.submitTrigger(!0)},save:function(t){this.modelHolder=t,this.request(this.saveServiceRequest,void 0,void 0,!1,this.saved,this.failedValidation)},failedValidation:function(t){void 0!==t.response&&void 0!==t.response.data&&void 0!==t.response.data.data&&void 0!==t.response.data.data.errors&&void 0!==t.response.data.data.errors.validations&&(this.errors=t.response.data.data.errors.validations,this.formKey="form"+(new Date).getTime()),this.serviceError(t)},saveServiceRequest:(s=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceService.call("save",this.modelHolder);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}),o=function(){var t=s.apply(this,arguments);return new Promise(function(e,n){return function i(s,o){try{var a=t[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});e(r)}("next")})},function(){return o.apply(this,arguments)}),saved:function(t){this.$emit("saved"),this.serviceSuccess(t)}}},r=n("KHd+"),c=Object(r.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("WAPFormGenerator",t._b({key:t.formKey,ref:"formgenerator",attrs:{buttons:t.buttons,schema:t.schemaParsed,data:t.modelHolder,errors:t.errorsPassed},on:{submit:t.save,back:function(e){t.$emit("back")},ready:t.isReady}},"WAPFormGenerator",t.extraOptions,!1))],1)},[],!1,null,null,null);e.a=c.exports},eNgs:function(t,e,n){"use strict";var i=n("TctJ");n.n(i).a},es6V:function(t,e,n){"use strict";var i=n("NwSl");n.n(i).a},fP5I:function(t,e,n){"use strict";var i=n("5oH9"),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i["a"]),s(e,[{key:"endpoints",value:function(){return{save:{method:"post",route:"booking"},reschedule:{method:"patch",route:"booking"},get:{method:"get",route:"booking"},delete:{method:"delete",route:"booking"},convertDate:{method:"post",route:"convertDate"}}}}]),e}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i["a"]),a(e,[{key:"endpoints",value:function(){return{get:{method:"get",route:"availability"}}}}]),e}(),c=n("+fxr"),l=n("MkfN"),d=n("eWXC"),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var p,h,f={mixins:[l.a],data:function(){return{serviceBooking:null,serviceAvailability:null,loading:!1,errorMessages:[],viewName:null,viewData:null}},created:function(){d.a.listens("beforeRequest",this.beforeRequest),this.serviceBooking=this.$vueService(new o),this.serviceAvailability=this.$vueService(new r)},components:{Loader:c.a},methods:{refreshInitValue:function(){this.loading=!0,this.initValueRequest().then(this.loaded).catch(this.serviceError)},loaded:function(t){var e=this.issueResponseDetected(t);if(e)return this.serviceError({message:"Server response altered, make sure your WordPress' site does not display server errors.",submessage:["-----------","Read this:","https://wappointment.com/docs/unidentified-error/","-----------","Error detected: ",e]}),!1;this.viewData=t.data,this.loading=!1,void 0!==this.loadedAfter&&this.loadedAfter()},issueResponseDetected:function(t){if(!this.responseDataIsObject(t)&&void 0!==t.request&&void 0!==t.request.response){var e=t.request.response.trim();if("{"!==e.charAt(0))return e.split("{")[0]}return!1},responseDataIsObject:function(t){return"object"==u(t.data)&&Object.keys(t.data).length>0},beforeRequest:function(){this.errorMessages=[]},initValueRequest:(p=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceAvailability.call("get");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}),h=function(){var t=p.apply(this,arguments);return new Promise(function(e,n){return function i(s,o){try{var a=t[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});e(r)}("next")})},function(){return h.apply(this,arguments)}),serviceError:function(t){if(this.loading=!1,void 0!==t.response)void 0!==t.response.data.message&&this.errorMessages.push(t.response.data.message),void 0!==t.response.data.data.errors&&this.lengthGreaterThan(t.response.data.data.errors,0)&&this.lengthGreaterThan(t.response.data.data.errors,0)&&(this.errorMessages=t.response.data.data.errors);else if(this.errorMessages=[],this.errorMessages.push(void 0!==t.message?t.message:"An unidentified error occured"),void 0!==t.submessage){var e=t.submessage;Array.isArray(e)||(e=[e]);var n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var r=o.value;this.errorMessages.push(r)}}catch(t){i=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw s}}}},lengthGreaterThan:function(t,e){if("object"===(void 0===t?"undefined":u(t))&&Object.keys(t).length>e||"object"===(void 0===t?"undefined":u(t))&&t.length>e)return!0}}},v=n("KHd+"),m=Object(v.a)(f,void 0,void 0,!1,null,null,null);e.a=m.exports},fbx5:function(t,e,n){"use strict";n.r(e);var i=n("5oH9"),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i["a"]),s(e,[{key:"endpoints",value:function(){return{get:{method:"get",route:"/addons",timeout:2e4},register:{method:"post",route:"/addons",timeout:2e4},install:{method:"post",route:"/addons/install",timeout:2e4},activate:{method:"post",route:"/addons/activate"},deactivate:{method:"post",route:"/addons/deactivate"},check:{method:"get",route:"/addons/check",timeout:2e4},clear:{method:"post",route:"/addons/clear"}}}}]),e}(),a=n("XfSa"),r=n("jwg7"),c=n("2DFw"),l=n("ibrO"),d=n("FYyN"),u=n("Mola"),p={components:window.wappointmentExtends.filter("AddonsSettingsComponents",{Service:r.default,Widget:c.a,Regav:l.a,AbstractListing:u.a},{extends:a.a,mixins:[d.a]}),props:["addon"],data:function(){return{currentStep:!1,addons:window.wappointmentExtends.filter("AddonsActive",window.wappointmentAdmin.addons)}},created:function(){this.currentStep=this.addon.instructions[0].step},computed:{stepAddonsSettings:function(){return"addons_settings"==this.currentStep},currentInstruction:function(){for(var t=0;t<this.addon.instructions.length;t++)if(this.addon.instructions[t].step==this.currentStep)return this.addon.instructions[t]}},methods:{showStep:function(t){this.currentStep=t}}},h=n("KHd+"),f=Object(h.a)(p,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.addon.instructions.length>1?n("ul",{staticClass:"my-4 nav nav-tabs"},t._l(t.addon.instructions,function(e,i){return n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",class:{active:t.currentStep==e.step},attrs:{href:"javascript:;"},on:{click:function(n){t.showStep(e.step)}}},[t._v("\n                "+t._s(e.button)+"\n            ")])])}),0):t._e(),t._v(" "),n("div",[void 0!==t.currentInstruction.description?n("div",[t._v(t._s(t.currentInstruction.description))]):t._e(),t._v(" "),t.stepAddonsSettings?n("div",[n(t.addon.settingKey,{tag:"component",attrs:{crumb:!1}})],1):n("div",[n(t.currentStep,{tag:"component",attrs:{crumb:!1,minimal:!0},on:{changeStep:t.showStep}})],1)])])},[],!1,null,null,null).exports,v={methods:{getPrice:function(t,e){return parseInt(t.options.prices.find(function(t){return t.number==e}).price)},roundToTwo:function(t){return t.toFixed(2)},getRealPrice:function(t){return this.roundToTwo(t/100)},packageByKey:function(t){for(var e=0;e<window.packages.length;e++)if(window.packages[e].key==t)return window.packages[e]}}},m=Object(h.a)(v,void 0,void 0,!1,null,null,null).exports,g={props:["days_left","price","renewUrl"],computed:{discounted:function(){return this.price/100*this.renewAt},licenceKey:function(){return window.licence_key},offer_valid_until:function(){return this.renewAt>40?this.is50:this.renewAt>30?this.is40:this.renewAt>20?this.is30:this.renewAt>10?this.is20:this.days_left>0?this.is10:0},is50:function(){return this.days_left-120},is40:function(){return this.days_left-90},is30:function(){return this.days_left-60},is20:function(){return this.days_left-30},is10:function(){return this.days_left-1},renewAt:function(){return this.is50>0?50:this.is40>0?40:this.is30>0?30:this.is20>0?20:this.is10>0?10:0}},methods:{convertCentsPrice:function(t){return(t/100).toFixed(2)}}},w=Object(h.a)(g,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.renewAt>0?n("div",[t.days_left<185?n("div",{staticClass:"bg-warning text-white p-1 rounded"},[n("div",{staticClass:"d-flex align-items-center justify-content-between"},[n("small",[t._v(" Renew now with "),n("strong",[t._v(t._s(t.renewAt)+"% off")]),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("(valid for the next "),n("strong",[t._v(t._s(t.offer_valid_until)+" days")]),t._v(")")])]),t._v(" "),n("div",[n("a",{attrs:{href:t.renewUrl,clasS:"btn btn-outline-primary bg-white font-weight-bold",target:"_blank"}},[t._v("Renew")])])])]):t._e()]):n("div",[n("div",{staticClass:"bg-danger text-white p-1 rounded"},[n("div",{staticClass:"d-flex align-items-center justify-content-between"},[n("small",[t._v(" Renew now in order to receive new updates")]),t._v(" "),n("div",[n("a",{attrs:{href:t.renewUrl,clasS:"btn btn-outline-primary bg-white font-weight-bold",target:"_blank"}},[t._v("Renew")])])])])])])},[],!1,null,null,null).exports,b={components:{SubscribeNewsletter:n("sHVe").a,RenewDiscount:w},mixins:[m],props:["addon","viewData","apiSite","idx"],computed:{renewUrl:function(){return this.apiSite+"/renew/site_"+this.viewData.site_key},cdnUrl:function(){return this.apiSite.replace("https://","https://cdn.")},odd:function(){return this.idx%2==0},requireSetup:function(){return this.isActivated&&void 0!==this.addon.initial_install&&this.addon.initial_install},hasWizard:function(){return this.isActivated&&void 0!==this.addon.instructions&&this.addon.instructions.length>0},hasWarning:function(){return void 0!==this.addon.warning},wizardHasBeenRanAlready:function(){return this.addon.initial_wizard||void 0===this.addon.settingKey},learnAddonUrl:function(){var t=void 0!==this.addon.options.product_page?this.addon.options.product_page:this.buyAddonUrl;return t+="?utm_source=plugin&utm_medium=link&utm_campaign=addons_"+this.addon.key+"&site="+encodeURIComponent(apiWappointment.root)+"&version="+apiWappointment.version},buyAddonUrl:function(){return this.apiSite+"/addons"},isActivated:function(){return this.isRegistered&&(this.addon.solutions.length>1||this.addon.activated)},isInstalled:function(){return this.isRegistered&&(this.addon.solutions.length>1||this.addon.installed)},isPublished:function(){return this.addon.status>0},isRegistered:function(){return void 0!==this.addon.expires_at},hasGallery:function(){return void 0!==this.addon.media&&this.addon.media.length>0},isPlugin:function(){return this.addon.plugin},getPriceSingle:function(){return this.getPrice(this.addon,1)}},methods:{getClassExpire:function(t){var e=[];return this.addon.expires_in>50?e.push(t+"success"):this.addon.expires_in<0?e.push(t+"danger"):e.push(t+"warning"),e},runInstallation:function(){this.$emit("runInstallation",this.addon)},openWizardModal:function(){this.$emit("openWizardModal",this.addon)},updatedStatuses:function(t){this.$emit("updatedStatuses",t)},install:function(){this.$emit("install",this.addon)},activate:function(){this.$emit("activate",this.addon)},deactivate:function(){this.$emit("deactivate",this.addon)},showFullScreen:function(t){this.$WapModalOn({title:this.addon.options.name,content:'<img src="'+t+'" class="img-fluid" />',screenshot:!0})}}},y=(n("AOB3"),Object(h.a)(b,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"addon addon-active d-flex flex-column align-self-start",class:{registered:t.isRegistered,"installed-addon":t.isInstalled,activated:t.isActivated,"coming-soon":!t.isPublished,odd:!t.odd}},[n("div",{staticClass:"d-flex addon-header align-items-center"},[n("img",{staticClass:"img-fluid m-auto",attrs:{src:t.cdnUrl+"/images/addon-"+t.addon.key+".svg"}})]),t._v(" "),n("div",{staticClass:"content-addon"},[n("h2",{staticClass:"pb-4 m-auto"},[t._v(t._s(t.addon.options.name))]),t._v(" "),n("div",{staticClass:"addon-desc text-muted mb-0",domProps:{innerHTML:t._s(t.addon.options.description)}})]),t._v(" "),t.isPublished?n("div",{staticClass:"footer p-4"},[t.hasGallery&&!t.isRegistered?n("div",{staticClass:"d-flex my-2"},t._l(t.addon.media,function(e){return n("img",{staticClass:"img-gallery img-fluid",attrs:{src:e},on:{click:function(n){t.showFullScreen(e)}}})}),0):t._e(),t._v(" "),t.isRegistered?n("div",{staticClass:"mt-auto"},[n("div",[n("span",{staticClass:"indicator",class:t.getClassExpire("bg-")}),t._v(" "),t.addon.expires_in>0?[n("span",[t._v("\n                        Licence "),n("strong",{class:t.getClassExpire("text-")},[t._v("\n                            "+t._s(t.addon.expires_in>50?"active":"expiring"))])]),t._v(" "),n("div",{staticClass:"small"},[t._v("Expires in "+t._s(t.addon.expires_in)+" days")]),t._v(" "),n("RenewDiscount",{attrs:{days_left:t.addon.expires_in,price:t.addon.options.prices[0].price,renewUrl:t.renewUrl}})]:[t._m(0),t._v(" "),n("RenewDiscount",{attrs:{days_left:t.addon.expires_in,price:t.addon.options.prices[0].price,renewUrl:t.renewUrl}})]],2),t._v(" "),t.isPlugin?n("div",{staticClass:"my-2"},[t.isInstalled?n("div",[t.isActivated?n("button",{staticClass:"btn btn-secondary btn-sm",on:{click:t.deactivate}},[t._v("Deactivate")]):n("button",{staticClass:"btn btn-primary",on:{click:t.activate}},[t._v("Activate")]),t._v(" "),t.requireSetup?n("button",{staticClass:"btn btn-sm",class:["btn-primary"],on:{click:t.runInstallation}},[n("span",{staticClass:"dashicons dashicons-admin-generic"}),t._v(" Run Installation\n                        ")]):t._e(),t._v(" "),!t.requireSetup&&t.hasWizard?n("button",{staticClass:"btn btn-sm",class:[t.wizardHasBeenRanAlready?"btn-secondary":"btn-primary"],on:{click:t.openWizardModal}},[n("span",{staticClass:"dashicons dashicons-admin-generic"}),t._v(" Run Wizard\n                        ")]):t._e(),t._v(" "),t.hasWarning?n("div",{staticClass:"text-danger"},[t._v("\n                            "+t._s(t.addon.warning)+"\n                        ")]):t._e()]):n("div",[n("button",{staticClass:"btn btn-primary",on:{click:t.install}},[t._v("Install")])])]):t._e()]):n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("div",[n("a",{staticClass:"btn btn-outline-primary",attrs:{target:"_blank",href:t.learnAddonUrl}},[t._v("Learn more")])])])]):n("div",{staticClass:"footer p-4"},[n("hr",{staticClass:"mt-0 mb-4"}),t._v(" "),t.isActivated?t._e():n("SubscribeNewsletter",{attrs:{list:t.addon.key,defaultEmail:t.viewData.admin_email,statuses:t.viewData.statuses},on:{updatedStatuses:t.updatedStatuses}},[n("p",{staticClass:"h6 font-italic"},[t._v("Want to know when it's out?")])])],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("\n                        Licence "),e("strong",{staticClass:"text-danger"},[this._v("expired")])])}],!1,null,null,null).exports),_={extends:y},x=(n("eNgs"),Object(h.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"addon addon-active bundle",class:{registered:t.isRegistered}},[n("div",{staticClass:"d-flex addon-header align-items-center"},[n("img",{staticClass:"img-fluid m-auto",attrs:{src:t.cdnUrl+"/images/addon-"+t.addon.key+".svg"}})]),t._v(" "),n("div",{staticClass:"p-4"},[n("h2",{staticClass:"pb-4 m-auto"},[t._v(t._s(t.addon.options.name))]),t._v(" "),t.isRegistered?t._e():n("div",{staticClass:"addon-desc text-muted mb-0",domProps:{innerHTML:t._s(t.addon.options.description)}}),t._v(" "),t.isRegistered?n("div",{staticClass:"mt-auto"},[n("div",{staticClass:"d-flex align-items-center"},[n("span",{staticClass:"indicator"}),t._v(" "),n("span",[t._v("\n                    Licence "),n("strong",{staticClass:"text-success"},[t._v("active")]),t._v(" until: "),n("u",{staticClass:"small"},[t._v(t._s(t.addon.expires_at))])])])]):n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("div",[n("a",{staticClass:"btn btn-outline-primary",attrs:{target:"_blank",href:t.learnAddonUrl}},[t._v("Learn more")])])])])])},[],!1,null,null,null).exports),S=n("udvC");function k(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(s,o){try{var a=e[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})}}var C,D,A,O,E,I,P,B,T=window.wappointmentExtends.filter("AddonsServiceInstall",{}),z={extends:a.a,mixins:[d.a],data:function(){return{serviceAddons:null,paramsBase:{},productKey:"",showModal:!1,cantShowAddons:!1,addonWizard:null,services_install:{},currentServiceAddon:null,showSettings:!1}},components:{AddonPreview:y,BundlePreview:x,AddonsWizard:f,WPScreenOptions:S.a},created:function(){if(this.serviceAddons=this.$vueService(new o),this.services_install=T,!0===window.apiWappointment.allowed)return this.request(this.requestLoadAddons,!1,void 0,!1,this.loadedAddons);this.authorizeAddons()},computed:{apiSite:function(){return window.apiWappointment.apiSite},addonWizardOn:function(){return null!==this.addonWizard},getAddons:function(){return this.viewData.addons.filter(function(t){return 1==t.solutions.length})},getBundles:function(){return this.viewData.addons.filter(function(t){return t.solutions.length>1})}},methods:{changedWappointmentAllowed:function(){this.changed(this.viewData.wappointment_allowed,"wappointment_allowed"),window.apiWappointment.allowed=this.viewData.wappointment_allowed},changed:function(t,e){this.settingSave(e,t)},runInstallation:function(t){var e=t.solutions[0].namekey.replace("-","_");void 0!==this.services_install[e]&&(this.currentServiceAddon=this.$vueService(this.services_install[e]),this.request(this.installAddon,!1,void 0,!1,this.initialSetupSuccess))},initialSetupSuccess:function(t){this.successActivate(t)},installAddon:(B=k(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.currentServiceAddon.call("install");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(){return B.apply(this,arguments)}),openWizardModal:function(t){this.addonWizard=t,this.openModal()},openModal:function(){this.showModal=!0},authorizeAddons:function(){var t=this;this.$WapModal().confirm({title:"Confirm connection to wappointment.com?",content:'<div class="small font-italic">We need to connect to \n          <a href="https://wappointment.com" target="_blank" title="Wappointment\'s website ">wappointment.com</a></div>',remember:!0}).then(function(e){!1!==e?(e.remember&&(window.apiWappointment.allowed=!0),t.loadAddons(e.remember)):t.cantShowAddons=!0})},updatedStatuses:function(t){this.viewData.statuses=t},checkLicence:function(){this.request(this.checkLicenceRequest,null,this.successInstalled,this.failedCheckRequest)},clearLicence:function(){this.request(this.clearLicenceRequest,!1,this.successInstalled)},clearLicenceRequest:(P=k(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceAddons.call("clear");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(){return P.apply(this,arguments)}),loadAddons:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.request(this.requestLoadAddons,t,void 0,!1,this.loadedAddons)},failedCheckRequest:function(t){this.failedRequest(t),this.loadAddons()},checkLicenceRequest:(I=k(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceAddons.call("check");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(){return I.apply(this,arguments)}),hideModal:function(){this.showModal=!1,this.addonWizard=null},requestLoadAddons:(E=k(regeneratorRuntime.mark(function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceAddons.call("get",{remember:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(){return E.apply(this,arguments)}),loadedAddons:function(t){this.viewData=t.data,this.$emit("fullyLoaded")},install:function(t){this.request(this.installAddonRequest,t,this.successInstalled,this.failedRequest)},installAddonRequest:(O=k(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceAddons.call("install",{addon:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(t){return O.apply(this,arguments)}),successInstalled:function(t){this.loadAddons()},successActivate:function(t){void 0!==t.data.message?(this.$WapModal().request(this.sleep(4e3)),window.location=window.apiWappointment.base_admin+"?page=wappointment_addons"):this.$WapModal().notifyError(t.data)},activate:function(t){this.request(this.activateAddonRequest,t,this.successActivate,this.failedRequest)},activateAddonRequest:(A=k(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceAddons.call("activate",{addon:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(t){return A.apply(this,arguments)}),deactivate:function(t){this.request(this.deactivateAddonRequest,t,this.successActivate,this.failedRequest)},deactivateAddonRequest:(D=k(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceAddons.call("deactivate",{addon:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(t){return D.apply(this,arguments)}),register:function(){""!=this.productKey&&this.request(this.registerWappointmentRequest,null,this.successRequestAlt,this.failedRequest)},successRequestAlt:function(t){void 0!==t.data.message&&(this.hideModal(),this.loadAddons())},registerWappointmentRequest:(C=k(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceAddons.call("register",{pkey:this.productKey});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(){return C.apply(this,arguments)})}},M=(n("9twK"),Object(h.a)(z,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-4 pb-2"},[n("WPScreenOptions",[n("div",{staticClass:"d-flex mb-2"},[n("label",{staticClass:"form-check-label w-100",attrs:{for:"allow-wappointment"}},[t.dataLoaded?n("div",{staticClass:"d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.viewData.wappointment_allowed,expression:"viewData.wappointment_allowed"}],attrs:{type:"checkbox",id:"allow-wappointment"},domProps:{checked:Array.isArray(t.viewData.wappointment_allowed)?t._i(t.viewData.wappointment_allowed,null)>-1:t.viewData.wappointment_allowed},on:{change:[function(e){var n=t.viewData.wappointment_allowed,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&t.$set(t.viewData,"wappointment_allowed",n.concat([null])):o>-1&&t.$set(t.viewData,"wappointment_allowed",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.viewData,"wappointment_allowed",s)},t.changedWappointmentAllowed]}}),t._v(" "),n("div",[t._v("Allow connection to wappointment.com")])]):t._e()])])]),t._v(" "),n("div",{staticClass:"d-flex align-items-center"},[n("h1",{staticClass:"m-2 clickable",on:{click:t.loadAddons}},[t._v("Addons")]),t._v(" "),t.dataLoaded?n("div",[n("button",{staticClass:"btn btn-secondary",on:{click:t.openModal}},[t._m(0)])]):t._e()]),t._v(" "),t.dataLoaded?n("div",[n("div",{staticClass:"small text-muted"},[t.viewData.has_addon?n("div",[n("a",{staticClass:"btn btn-secondary btn-sm",attrs:{href:"javascript:;"},on:{click:t.clearLicence}},[n("span",{staticClass:"dashicons dashicons-trash"}),t._v(" Clear licence")]),t._v(" "),t._m(1),t._v(" "),n("div",[n("span",[n("span",{staticClass:"dashicons dashicons-update"}),t._v(" "),n("a",{attrs:{href:"javascript:;"},on:{click:t.checkLicence}},[t._v("refresh licence")])])])]):t._e()]),t._v(" "),n("div",{staticClass:"addons d-flex flex-wrap"},[t._l(t.getBundles,function(e,i){return[n("BundlePreview",{attrs:{apiSite:t.apiSite,viewData:t.viewData,idx:i,addon:e}})]})],2),t._v(" "),n("div",{staticClass:"addons d-flex flex-wrap pb-4"},[t._l(t.getAddons,function(e,i){return[n("AddonPreview",{attrs:{apiSite:t.apiSite,viewData:t.viewData,idx:i,addon:e},on:{openWizardModal:t.openWizardModal,runInstallation:t.runInstallation,install:t.install,activate:t.activate,deactivate:t.deactivate}})]})],2)]):n("div",[t.cantShowAddons?n("div",{staticClass:"text-muted text-center bg-light p-4"},[t._m(2),t._v(" "),n("button",{staticClass:"btn btn-secondary",on:{click:t.authorizeAddons}},[n("span",{staticClass:"dashicons dashicons-admin-plugins"}),t._v(" Show Addons")])]):t._e()]),t._v(" "),t.showModal?n("WapModal",{attrs:{show:t.showModal,large:"",noscroll:""},on:{hide:t.hideModal}},[n("h4",{staticClass:"modal-title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.addonWizardOn?"Wizard Setup: "+t.addonWizard.options.name:"Enter licence key"))]),t._v(" "),t.addonWizardOn?n("AddonsWizard",{attrs:{addon:t.addonWizard},on:{closeWizard:t.hideModal}}):n("div",[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.productKey,expression:"productKey"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Enter licence key"},domProps:{value:t.productKey},on:{input:function(e){e.target.composing||(t.productKey=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn btn-primary",class:{disabled:""==this.productKey},on:{click:t.register}},[t._v("Register")])]),t._v(" "),n("p",{staticClass:"m-0 text-muted"},[t._v("Your licence key is given to you when you complete your order on "),n("a",{attrs:{href:"https://wappointment.com/addons"}},[t._v("Wappointment.com")])])])],1):t._e()],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex align-items-center"},[e("div",[e("span",{staticClass:"dashicons dashicons-admin-network"})]),this._v(" "),e("div",{staticClass:"ml-2"},[this._v("Enter licence key")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._v("Want to detach your licence(s) from that site? "),e("a",{attrs:{href:"https://wappointment.com/client/licences",target:"_blank"}},[this._v("detach on wappointment.com")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The addons list cannot be loaded unless you authorize the connection to "),e("a",{attrs:{href:"https://wappointment.com/"}},[this._v("Wappointment.com")])])}],!1,null,null,null));e.default=M.exports},ftQn:function(t,e,n){var i=n("3R/I");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("040ea0ad",i,!0,{})},gIVG:function(t,e,n){"use strict";n.r(e);var i=n("fP5I"),s=n("XC6E"),o=n("whSN"),a=n("G5JO"),r=n("H5HU"),c=n("Q6gv"),l=n("UgAb"),d=n("G0ds"),u=n("l8y5"),p={props:["resultBooking"]},h=n("KHd+"),f=Object(h.a)(p,function(){var t=this.$createElement;return(this._self._c||t)("div")},[],!1,null,null,null).exports,v=window.wappointmentExtends.filter("ConfirmationOptionalStep",f),m={components:{BookingAddress:r.a,SaveButtons:c.a,OptionalStep:v},mixins:[l.a,d.a,u.a],props:["appointment","service","result","isApprovalManual","timeprops","staff","options","appointment_starts_at","rescheduling","resultBooking","viewData"],data:function(){return{showSaveButtons:!1,showResult:null,locationObj:null}},created:function(){if(this.showResult=this.result,this.selection=this.showResult.type,void 0!==this.showResult.location_id&&(this.showResult.location=this.showResult.location_id),void 0!==this.service.locations){var t=!0,e=!1,n=void 0;try{for(var i,s=this.service.locations[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value;o.id==this.showResult.location&&(this.locationObj=o)}}catch(t){e=!0,n=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw n}}}void 0!==this.options.demoData?this.options.eventsBus.listens("dataDemoChanged",this.dataChanged):this.triggerWEvent(this.rescheduling?"wappo_rescheduled":"wappo_confirmed",{appointment:{start:this.appointment.start_at,end:this.appointment.end_at,key:this.appointment.edit_key},modality:this.appointment.location_label,service:this.service.name,staff:this.staff.n,client:this.result})},computed:{appointmentIsPending:function(){return 0==this.appointment.status},demoDuration:function(){return void 0!==this.service.duration?this.service.duration:this.service.options.durations[0].duration},calculateDuration:function(){return!1===this.appointment?this.demoDuration:this.appointment.duration_sec/60},getClientPhone:function(){return void 0!==this.showResult.client?this.showResult.client.options.phone:this.showResult.phone},getClientSkype:function(){return void 0!==this.showResult.client?this.showResult.client.options.skype:this.showResult.skype},getZoomWithLink:function(){var t=apiWappointment.frontPage+(-1===apiWappointment.frontPage.indexOf("?")?"?":"&")+"view=view-event&appointmentkey="+this.appointment.edit_key;return t=window.wappointmentExtends.filter("urlAppointmentKey",t,{appointment:this.appointment,ticket:this.resultBooking.ticket}),this.options.confirmation.zoom.replace("[meeting_link]",'<a href="'+t+'" target="_blank">').replace("[/meeting_link]","</a>")},phoneSelected:function(){return null!==this.locationObj?2==this.locationObj.type:"phone"==this.selectedServiceType},physicalSelected:function(){return null!==this.locationObj?1==this.locationObj.type:"physical"==this.selectedServiceType},skypeSelected:function(){return null!==this.locationObj?3==this.locationObj.type:"skype"==this.selectedServiceType}},methods:{dataChanged:function(t){this.showResult=t,this.selection=this.showResult.type,void 0!==this.options.demoData&&void 0===this.selection&&void 0!==this.service.type&&(this.selection=this.service.type[0]),this.selectedServiceType=this.showResult.type}}},g=(n("sOHC"),Object(h.a)(m,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"confirmation-cell"},[n("div",{staticClass:"success d-flex align-items-center"},[n("div",{staticClass:"bigicon"},[n("WapImage",{attrs:{faIcon:"calendar-check",size:"lg"}})],1),t._v(" "),n("div",{staticClass:"text-conf"},[t._v(t._s(t.options.confirmation.confirmation))])]),t._v(" "),n("div",{staticClass:"confirmation-summary"},[n("div",[n("span",{staticClass:"wlabel"},[t._v(t._s(t.options.confirmation.when))]),t._v(" "),n("span",[t._v(t._s(t.appointment_starts_at))])]),t._v(" "),n("div",[n("span",{staticClass:"wlabel"},[t._v(t._s(t.options.confirmation.service))]),t._v(" "),n("span",[t._v(t._s(t.service.name))])]),t._v(" "),n("div",[n("span",{staticClass:"wlabel"},[t._v(t._s(t.options.confirmation.duration))]),t._v(" "),n("span",[t._v(t._s(t.calculateDuration)+" "+t._s(t.getMinText))])])]),t._v(" "),t.isApprovalManual&&t.appointmentIsPending?n("div",{staticClass:"wdescription"},[t._v(t._s(t.options.confirmation.pending))]):t._e(),t._v(" "),t.physicalSelected?n("div",[n("div",{staticClass:"wdescription"},[t._v(t._s(t.options.confirmation.physical)+" ")]),t._v(" "),n("div",{staticClass:"address-service"},[n("BookingAddress",{attrs:{service:t.isLegacy?t.service:t.locationObj}},[n("WapImage",{attrs:{faIcon:"map-marked-alt",size:"md"}})],1)],1),t._v(" "),n("BookingAddress",{attrs:{iframe:!0,service:t.isLegacy?t.service:t.locationObj}},[n("WapImage",{attrs:{faIcon:"map-marked-alt",size:"md"}})],1)],1):t._e(),t._v(" "),t.phoneSelected?n("div",{staticClass:"wdescription"},[t._v("\n        "+t._s(t.options.confirmation.phone)+" "),n("strong",[t._v(t._s(t.getClientPhone))])]):t._e(),t._v(" "),t.skypeSelected?n("div",{staticClass:"wdescription"},[t._v("\n        "+t._s(t.options.confirmation.skype)+" "),n("strong",[t._v(t._s(t.getClientSkype))])]):t._e(),t._v(" "),t.zoomSelected?n("div",{staticClass:"wdescription",domProps:{innerHTML:t._s(t.getZoomWithLink)}}):t._e(),t._v(" "),n("div",{staticClass:"wdescription my-2 text-center"},[n("transition",{attrs:{name:"slide-fade"}},[t.showSaveButtons?n("SaveButtons",{attrs:{service:t.service,showResult:t.showResult,appointment:t.appointment,staff:t.staff,currentTz:t.timeprops.currentTz,physicalSelected:t.physicalSelected,options:t.options,ticket:t.resultBooking.ticket}}):n("span",{staticClass:"wbtn-primary-light wbtn d-flex align-items-center d-flex-inline",on:{click:function(e){t.showSaveButtons=!0}}},[n("WapImage",{attrs:{faIcon:"calendar-alt",size:"md"}}),t._v(" "),n("span",{staticClass:"ml-2"},[t._v(t._s(t.options.confirmation.savetocal))])],1)],1)],1),t._v(" "),n("OptionalStep",{attrs:{resultBooking:t.resultBooking,options:t.options,viewData:t.viewData}})],1)},[],!1,null,null,null).exports),w=n("ExVU");var b,y,_={extends:i.a,mixins:[a.a],props:["options","selectedSlot","timeprops","relations","rescheduleData"],computed:{isCompactHeader:function(){return void 0===this.options.general||-1===[void 0,!1].indexOf(this.options.general.check_header_compact_mode)}},methods:{back:function(){this.$emit("back",this.relations.prev,{selectedSlot:!1})},getLuxonFormated:function(t){return w.DateTime.fromSeconds(t).toLocaleString(w.DateTime.DATETIME_MED)},confirm:function(){var t={appointmentkey:this.timeprops.appointmentkey,time:this.selectedSlot.start,ctz:this.timeprops.ctz};this.$emit("loading",{loading:!0,dataSent:t}),this.saveRescheduleRequest(t).then(this.appointmentRescheduled).catch(this.appointmentReschedulingError)},saveRescheduleRequest:(b=regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceBooking.call("reschedule",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}),y=function(){var t=b.apply(this,arguments);return new Promise(function(e,n){return function i(s,o){try{var a=t[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});e(r)}("next")})},function(t){return y.apply(this,arguments)}),appointmentRescheduled:function(t){var e=t.data;e.appointmentkey=this.timeprops.appointmentkey,e.time=this.selectedSlot.start,e.ctz=this.timeprops.ctz,e.client=this.rescheduleData.client,this.$emit("confirmed",this.relations.next,{appointmentSavedData:t.data,isApprovalManual:0==t.data.status,appointmentSaved:!0,loading:!1,dataSent:e})},appointmentReschedulingError:function(t){this.serviceError(t)},serviceError:function(t){this.$emit("serviceError",t)}}},x=Object(h.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isCompactHeader?n("div",{staticClass:"mb-2"},[n("div",{staticClass:"wselected wclosable wmy-4 d-flex align-items-center d-flex-inline"},[n("WapImage",{attrs:{faIcon:["far","clock"],size:"auto"}}),t._v(" "),n("span",{staticClass:"welementname wml-2"},[t._v(t._s(t.getLuxonFormated(t.selectedSlot.start)))])],1)]):t._e(),t._v(" "),n("div",{staticClass:"d-flex wbtn-confirm my-2"},[n("span",{staticClass:"wbtn-secondary wbtn",attrs:{role:"button"},on:{click:t.back}},[t._v(t._s(t.options.form.back))]),t._v(" "),n("span",{staticClass:"wbtn-primary wbtn w100 m-0",attrs:{role:"button"},on:{click:t.confirm}},[t._v(t._s(t.options.form.confirm))])])])},[],!1,null,null,null).exports,S=n("cRRw"),k=n.n(S),C={computed:{minTodayHour:function(){return Math.floor(this.viewData.min_bookable)},minTodayMin:function(){return Math.floor(60*this.getDecimalPart(this.viewData.min_bookable-this.minTodayHour))},now:function(){return this.getMomentObject()().tz(this.timeprops.currentTz)}},methods:{getDecimalPart:function(t){if(Number.isInteger(t))return 0;var e=t.toString().split(".")[1];return Number("0."+e)},isTSToday:function(t){var e=new Date(1e3*t),n=new Date;return e.getDate()==n.getDate()&&e.getMonth()==n.getMonth()&&e.getFullYear()==n.getFullYear()},currentTime:function(){return Math.round(Date.now()/1e3)},getMinStart:function(){var t=this.getMomentObject().tz(this.now.clone(),this.timeprops.currentTz).add(this.minTodayHour,"hours").add(this.minTodayMin,"minutes"),e=t.clone().startOf("hour");if(this.currentTime()+3600*this.minTodayHour>=e.unix())for(var n=0;e.unix()<t.unix()&&n<13;)e.add(5,"minutes"),e.set("second",0),n++;return e}}},D=Object(h.a)(C,void 0,void 0,!1,null,null,null).exports,A=n("A5Wa"),O=n("gzyJ"),E={mixins:[a.a],props:{intervals:{type:Array},duration:{type:Number},currentTz:{type:String},time_format:{type:String},options:{type:Object},now:{type:Object},viewData:{type:Object}},data:function(){return{ready:!1,dayParts:{}}},components:{BookingButton:O.a},created:function(){this.convertIntervalsToSlots(),this.ready=!0},methods:{getDateTime:function(){return w.DateTime},getLabel:function(t){return void 0!==this.options.selection[t]?this.options.selection[t]:t},nowUnix:function(){return Date.now()/1e3},convertIntervalsToSlots:function(){var t=!0,e=!1,n=void 0;try{for(var i,s=this.intervals[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value;if(void 0===o.left)for(var a=o.end-this.duration,r=o.start;a>=r;)this.identifySlot({start:r}),r+=this.incrementType();else this.identifySlot(o)}}catch(t){e=!0,n=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw n}}},incrementType:function(){return this.viewData.more_st?60*this.viewData.starting_each:this.duration},identifySlot:function(t){var e=w.DateTime.fromSeconds(t.start).toFormat("H");e>=12&&e<18?this.insertSlotToDayPart(t,"afternoon"):e>=18&&e<=23?this.insertSlotToDayPart(t,"evening"):e>=0&&this.insertSlotToDayPart(t,"morning")},insertSlotToDayPart:function(t,e){void 0===this.dayParts[e]&&(this.dayParts[e]=[]),this.dayParts[e].push(t)}},computed:{browserLocale:function(){return null!==navigator.language&&void 0!==navigator.language?navigator.language:"en-US"},timeFormatLuxon:function(){return w.DateTime.TIME_SIMPLE},getSectionClass:function(){return"d-section ds-"+Object.keys(this.dayParts).length}}},I=(n("n0z4"),Object(h.a)(E,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"slots-panel"},[t.ready?n("div",{staticClass:"d-flex"},t._l(t.dayParts,function(e,i){return n("div",{class:"hello "+t.getSectionClass},[n("small",{staticClass:"day-part"},[t._v(t._s(t.getLabel(i)))]),t._v(" "),t._l(e,function(e,i){return[n("BookingButton",{key:"button-"+e.start,attrs:{className:"wbtn wbtn-primary wbtn-slot",options:t.options},on:{click:function(n){t.$emit("selected",e)}}},[n("span",[t._v(t._s(t.getDateTime().fromSeconds(e.start).setLocale(t.browserLocale).toLocaleString(t.timeFormatLuxon)))]),t._v(" "),e.left?n("span",{staticClass:"sleft"},[t._v(t._s(t.options.selection.slots_left.replace("[slots_left]",e.left)))]):t._e()])]})],2)}),0):t._e()])},[],!1,null,null,null).exports),P={props:["idweek","week","cachedSlots","isDemo","tooltip","selectedDay","demoSelected"],methods:{getClassAvailability:function(t,e,n){return this.isDemo&&this.demoSelected.day==t&&(this.demoSelected.week=e),{"first-day":0===n,"last-day":n===this.week.length-1,dayselected:this.isSelected(t),"no-avail wbtn wbtn-disabled":this.noAvailability(t),"wbtn-secondary wbtn wbtn-round avail":this.hasAvailability(t),"last-avail":this.lastAvailability(t),"few-avail":this.fewAvailability(t),"enough-avail":this.enoughAvailability(t),"plenty-avail":this.plentyAvailability(t),hover:this.isDemo&&this.isSelected(t),"sq d-flex align-items-center justify-content-center":!0}},hasAvailability:function(t){return void 0!==this.cachedSlots[t]?this.cachedSlots[t]:0},hasTooltip:function(t){var e=this.hasAvailability(t);return e>0&&this.tooltip.replace("[total_slots]",e)},isSelected:function(t){return!1!==this.selectedDay&&this.selectedDay==t},noAvailability:function(t){return this.hasAvailability(t)<1},lastAvailability:function(t){return 1===this.hasAvailability(t)},fewAvailability:function(t){var e=this.hasAvailability(t);return e>1&&e<=3},enoughAvailability:function(t){var e=this.hasAvailability(t);return e>3&&e<=10},plentyAvailability:function(t){return this.hasAvailability(t)>10}}},B=(n("i5bS"),Object(h.a)(P,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex ddays"},t._l(t.week,function(e,i){return n("div",[n("div",{class:t.getClassAvailability(e,t.idweek,i),attrs:{role:"button"},on:{click:function(n){t.$emit("selectDay",e,t.idweek)}}},[e>0?[n("span",{attrs:{"data-tt":t.hasTooltip(e)}},[t._v("\n                    "+t._s(e)+"\n                ")])]:n("span")],2)])}),0)},[],!1,null,null,null).exports),T=n("6uyd"),z={props:["weekHeader"],methods:{initial:function(t){return 0===Object(T.a)().indexOf("zh")?t.toUpperCase().substring(2,3):t.toUpperCase().substring(0,1)}}},M=Object(h.a)(z,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex ddays"},t._l(t.weekHeader,function(e,i){return n("div",[t._v("\n        "+t._s(t.initial(e))+"\n    ")])}),0)},[],!1,null,null,null).exports,F=n("tOgP"),R={props:["options","initIntervalsCollection","timeprops","duration","viewData","staffs","location","service"],mixins:[a.a,F.a,D],components:{DaySlots:I,DaysOfWeek:B,WeekHeader:M},data:function(){return{currentTz:"",time_format:"",currentMonth:null,yearNumber:0,monthNumber:0,dayNumber:0,startDay:1,weekLength:7,intervalsCollection:null,currentIntervals:null,totalSlots:null,cachedSlots:{},availableIntervals:{},selectedWeek:!1,selectedDay:!1,sideMonth:"right",slotsAnimation:"slide-fade-sm",mounted:!1,demoSelected:{week:!1,day:!1,init:!1},object_days:{},weekHeader:[]}},created:function(){this.intervalsCollection=this.filteredServices(),this.viewData.frontend_weekstart&&(this.startDay=this.viewData.week_starts_on)},mounted:function(){this.time_format=this.timeprops.time_format,this.currentTz=this.timeprops.currentTz,this.setMonth(this.todayYear,this.todayMonth-1,!1),this.resetIntervals(),this.mounted=!0,this.autoRunOnMount(),this.object_days=function(){for(var t=new Date,e=[],n=0;n<7;n++)e[n]={en:t.toLocaleDateString("en-US",{weekday:"long"}),locale:new Intl.DateTimeFormat(Object(T.a)(),{weekday:"long"}).format(t)},t.setDate(t.getDate()+1);return e}(),this.setWeekHeader()},updated:function(){this.isDemo&&!1===this.demoSelected.init&&!1!==this.demoSelected.day&&this.$nextTick(function(){this.daySelected(this.demoSelected.day,this.demoSelected.week),this.demoSelected.init=!0})},computed:{isDemo:function(){return void 0!==this.options.demoData},realMonthNumber:function(){return this.monthNumber+1},firstDayMonth:function(){return Object(A.a)().tz(this.currentTz).year(this.yearNumber).month(this.monthNumber).startOf("month")},lastDayMonth:function(){return this.isCurrentMonth?this.now.clone().endOf("month"):Object(A.a)().tz(this.currentTz).year(this.yearNumber).month(this.monthNumber).endOf("month")},todayIs:function(){return this.now.format()},isCurrentMonth:function(){return this.todayMonth===this.realMonthNumber&&this.todayYear===this.yearNumber},isLastMonth:function(){if(void 0!==this.lastAvailableSlot){var t=A.a.unix(this.lastAvailableSlot).tz(this.currentTz);return this.monthNumber===t.month()&&this.yearNumber===t.year()}return!0},getMonthYear:function(){return function(t){var e=new Date;e.setDate(1),e.setMonth(t);var n=e.toLocaleString(Object(T.a)(),{month:"long"});return n[0].toUpperCase()+n.substring(1)}(this.monthNumber)+" "+this.yearNumber},todayYear:function(){return parseInt(this.now.format("YYYY"))},todayDay:function(){return parseInt(this.now.format("DD"))},todayMonth:function(){return parseInt(this.now.format("M"))},reorganiseDays:function(){var t=[];this.currentMonth.firstWeekday===this.startDay-1&&t.push([0,0,0,0,0,0,1]);for(var e=0;e<this.currentMonth.calendar.length;e++){var n=this.currentMonth.calendar[e],i=this.currentMonth.calendar[e+1],s=n.slice(0,this.startDay),o=n.slice(this.startDay);if(void 0!==i){if(0===s[0]){var a=!0,r=!1,c=void 0;try{for(var l,d=s[Symbol.iterator]();!(a=(l=d.next()).done);a=!0){if(0!==l.value){for(;s.length<this.weekLength;)s.splice(0,0,0);t.push(s);break}}}catch(t){r=!0,c=t}finally{try{!a&&d.return&&d.return()}finally{if(r)throw c}}}var u=i.slice(0,this.startDay);n=o.concat(u)}else for(n=o;n.length<this.weekLength;)n.push(0);t.push(n)}return t},getSlotTooltip:function(){return void 0!==this.options&&void 0!==this.options.selection.title?this.options.selection.title:""},lastAvailableSlot:function(){return null!==this.intervalsCollection&&this.intervalsCollection.intervals.length>0?this.intervalsCollection.intervals.slice(-1)[0].end:void 0},getTzString:function(){return void 0!==this.options&&void 0!==this.options.selection.timezone?this.options.selection.timezone:""}},methods:{filteredServices:function(){var t=this.initIntervalsCollection;return window.wappointmentExtends.filter("CalendarAbstractFilterIntervals",t,this.service,this.conditionMatches)},timezoneDisplay:function(t){return this.getTzString.replace("[timezone]",t+" ["+this.now.format("Z")+"]")},autoRunOnMount:function(){this.findFirstMonthwithAvail()},findFirstMonthwithAvail:function(){for(var t=0;0==this.totalSlots&&!this.isLastMonth&&t<40;)this.changeMonth(),t++},setWeekHeader:function(){for(var t=this.currentMonth.weekdays.slice(0,this.startDay),e=this.currentMonth.weekdays.slice(this.startDay).concat(t),n=[],i=0;i<e.length;i++)n[i]=this.getLocaleDay(e[i]);this.weekHeader=n},getLocaleDay:function(t){for(var e in this.object_days)if(this.object_days.hasOwnProperty(e)){var n=this.object_days[e];if(t.toLowerCase()===n.en.toLowerCase())return n.locale}},selectFirstDayAvail:function(){for(var t=0;t<this.reorganiseDays.length;t++){var e=this.reorganiseDays[t],n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var r=o.value;if(r>0){var c=this.hasAvailability(r);if(void 0!==c&&c>0)return this.selectDay(r,t,!1)}}}catch(t){i=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw s}}}},resetWeekSelection:function(){this.selectedWeek=!1,this.resetDaySelection(),this.slotsAnimation="slide-fade-sm"},resetDaySelection:function(){this.availableIntervals={},this.selectedDay=!1},selectDay:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=100;if(e===this.selectedWeek?(this.slotsAnimation=n?"fade":"slide-fade-sm",this.resetDaySelection()):(this.slotsAnimation="slide-fade-sm",i=600,this.resetWeekSelection()),this.cachedSlots[t]<1||this.isPast(t))return!1;n?setTimeout(this.daySelected.bind("",t,e),i):this.daySelected(t,e)},selectSlot:function(t){this.triggersDemoEvent("form")||this.$emit("selectSlot",t)},daySelected:function(t,e){this.selectedWeek=e,this.selectedDay=t,this.availableIntervals=this.getDayIntervals(t)},decrementMonth:function(){var t=this.monthNumber-1,e=this.yearNumber;return t<0&&(t=11,e=this.yearNumber-1),{month:t,year:e}},incrementMonth:function(){var t=this.monthNumber+1,e=this.yearNumber;return t>11&&(t=0,e=this.yearNumber+1),{month:t,year:e}},changeMonth:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.resetWeekSelection();var n=!1===t?this.decrementMonth():this.incrementMonth();e?setTimeout(this.setMonth.bind("",n.year,n.month),600):this.setMonth(n.year,n.month,!1)},nextMonth:function(){if(!0===this.isLastMonth)return!1;this.sideMonth="left",this.changeMonth(!0,!0)},prevMonth:function(){if(!0===this.isCurrentMonth)return!1;this.sideMonth="right",this.changeMonth(!1,!0)},nowNextHour:function(){return this.now.clone().add(this.minTodayHour,"h").startOf("hour")},resetIntervals:function(){if(null===this.intervalsCollection)return!1;this.cachedSlots={},this.isCurrentMonth?this.setIntervals(this.nowNextHour(),this.lastDayMonth):this.setIntervals(this.firstDayMonth,this.lastDayMonth)},realSlotDuration:function(){return 60*(parseInt(this.duration)+parseInt(this.viewData.buffer_time))},setIntervals:function(t,e){this.currentIntervals=this.intervalsCollection.get(t,e),this.totalSlots=this.currentIntervals.splits(this.realSlotDuration()).totalSlots(),this.cacheAvailability()},cacheAvailability:function(){for(var t in this.reorganiseDays)if(this.reorganiseDays.hasOwnProperty(t)){var e=this.reorganiseDays[t];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];this.hasAvailability(i)}}},setMonth:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.monthNumber=e,this.yearNumber=t,this.selectedDay=!1,this.currentMonth=!1,n?setTimeout(this.monthSelected.bind("",t,e),100):this.monthSelected(t,e)},monthSelected:function(t,e){this.currentMonth=k()().of(t,e),this.resetIntervals(),void 0!==this.afterMonthSelected&&this.afterMonthSelected()},isPast:function(t){return!0===this.isCurrentMonth&&this.todayDay>t},hasAvailability:function(t){if(this.isPast(t)||t<1)return 0;if(void 0!==this.cachedSlots[t])return this.cachedSlots[t];var e=this.getDayIntervals(t);return this.cachedSlots[t]=e.splits(this.realSlotDuration()).totalSlots(),this.isDemo&&!1===this.demoSelected.day&&this.cachedSlots[t]>0&&(this.demoSelected.day=t,this.disabledButtons=!0),this.cachedSlots[t]},dayWeekSelected:function(t){return t===this.selectedWeek},getTodayStart:function(){return this.getMinStart()},getTodayInterval:function(){var t=this.getMinStart();return t.day()!=this.now.day()&&(t=A.a.tz(this.now.clone(),this.currentTz)),{start:t,end:t.clone().add(1,"day").startOf("day")}},getNotTodayInterval:function(t){var e=t<10?"0":"",n=this.realMonthNumber<10?"0":"",i=this.yearNumber+"-"+n+this.realMonthNumber+"-"+e+t,s=A.a.tz(i,this.currentTz).startOf("day");return{start:s,end:s.clone().add(1,"day")}},getDayIntervals:function(t){var e=this.isCurrentMonth&&t===this.todayDay?this.getTodayInterval():this.getNotTodayInterval(t);return this.formatDayInterval(e)},formatDayInterval:function(t){var e=this.getMinStart();if(e.unix()>=t.end.unix())return this.currentIntervals.get(!1);e.unix()>t.start.unix()&&(t.start=e.clone());var n=this.currentIntervals.get(t.start,t.end,this.service.id);return this.prepareDayInterval(n,t.start,t.end)},prepareDayInterval:function(t,e,n){return t},getMomentObj:function(){return A.a.tz(this.currentTz)}}},L=(n("LKNl"),Object(h.a)(R,void 0,void 0,!1,null,null,null).exports),W={extends:L,methods:{afterMonthSelected:function(){this.selectFirstDayAvail()}}},j=Object(h.a)(W,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.mounted?n("div",{staticClass:"calendarMonth"},[n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("span",{staticClass:"wbtn-secondary wbtn wbtn-round wbtn-top sq",class:{"wbtn-disabled":t.isCurrentMonth},attrs:{role:"button",disabled:t.isCurrentMonth},on:{click:t.prevMonth}},[n("span",[t._v("<")])]),t._v(" "),n("div",[t._v(t._s(t.getMonthYear))]),t._v(" "),n("span",{staticClass:"wbtn-secondary wbtn wbtn-round wbtn-top sq",class:{"wbtn-disabled":t.isLastMonth},attrs:{role:"button",disabled:t.isLastMonth},on:{click:t.nextMonth}},[n("span",[t._v(">")])])]),t._v(" "),n("weekHeader",{attrs:{weekHeader:t.weekHeader}}),t._v(" "),n("transition",{attrs:{name:"slide-fade-side-sm-"+t.sideMonth}},[t.currentMonth?n("div",t._l(t.reorganiseDays,function(e,i){return n("div",[n("DaysOfWeek",{attrs:{idweek:i,week:e,tooltip:t.getSlotTooltip,selectedDay:t.selectedDay,demoSelected:t.demoSelected,cachedSlots:t.cachedSlots,isDemo:t.isDemo},on:{selectDay:t.selectDay}}),t._v(" "),n("transition",{attrs:{name:t.slotsAnimation}},[t.dayWeekSelected(i)&&t.selectedDay?n("div",[n("div",{staticClass:"timezone"},[t._v(t._s(t.timezoneDisplay(t.currentTz)))]),t._v(" "),n("div",{staticClass:"slotsPane p-2"},[n("DaySlots",{attrs:{intervals:t.availableIntervals.intervals,duration:t.realSlotDuration(),currentTz:t.currentTz,time_format:t.time_format,options:t.options,now:t.now,viewData:t.viewData},on:{selected:t.selectSlot}})],1)]):t._e()])],1)}),0):t._e()])],1):t._e()},[],!1,null,null,null).exports,N={extends:L,data:function(){return{prevMth:!1,sideWeek:"left",changingWeek:!1}},methods:{autoRunOnMount:function(){this.findFirstMonthwithAvail();for(var t=0;void 0===this.availableIntervals.intervals&&t<10;)this.changeWeek(!0,!0),t++},changeWeek:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.sideWeek=t?"left":"right",this.changingWeek=!0;var n=!1===t?this.selectedWeek-1:this.selectedWeek+1;e?this.setWeek(n):setTimeout(this.setWeek.bind("",n),600)},setWeek:function(t){this.selectedDay=!1,this.changingWeek=!1,t<0?(this.prevMonth(),this.prevMth=!0):t>this.reorganiseDays.length-1?(this.nextMonth(),this.prevMth=!1):(this.selectedWeek=t,this.selectFirstDayAvailOfWeek())},cleanWeek:function(){0===this.reorganiseDays[this.reorganiseDays.length-1].reduce(function(t,e){return t+e})&&this.reorganiseDays.pop()},afterMonthSelected:function(){this.cleanWeek(),this.selectedWeek=this.prevMth?this.reorganiseDays.length-1:0,this.demoSelected.week=this.selectedWeek,this.selectFirstDayAvailOfWeek()},selectFirstDayAvailOfWeek:function(){for(var t=this.reorganiseDays[this.selectedWeek],e=0;e<t.length;e++){var n=t[e];if(this.hasAvailability(n))return this.selectDay(n,this.selectedWeek,!1)}},autoSkipToWeekWithAvailability:function(){"right"==this.sideWeek?this.nextWeek():this.prevWeek()},nextWeek:function(){if(!0===this.isLastWeek)return!1;this.triggerWeekChange()},prevWeek:function(){if(!0===this.isCurrentWeek)return!1;this.triggerWeekChange(!1)},triggerWeekChange:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=0;void 0!==this.availableIntervals.intervals&&(this.resetDaySelection(),e=600),setTimeout(this.changeWeek.bind("",t),e)}},computed:{isCurrentWeek:function(){return!0===this.isCurrentMonth&&this.todayWeek===this.selectedWeek},todayWeek:function(){return parseInt(Math.ceil(this.now.date()/7)-1)},isLastWeek:function(){return this.isLastMonth&&this.selectedWeek==this.reorganiseDays.length-1}}},H=Object(h.a)(N,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currentMonth?n("div",{staticClass:"calendarMonth"},[n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("span",{staticClass:"wbtn-secondary wbtn wbtn-round wbtn-top sq",class:{"wbtn-disabled":t.isCurrentWeek},attrs:{role:"button",disabled:t.isCurrentWeek},on:{click:t.prevWeek}},[n("span",[t._v("<")])]),t._v(" "),n("div",[t._v(t._s(t.getMonthYear))]),t._v(" "),n("span",{staticClass:"wbtn-secondary wbtn wbtn-round wbtn-top sq",class:{"wbtn-disabled":t.isLastWeek},attrs:{role:"button",disabled:t.isLastWeek},on:{click:t.nextWeek}},[n("span",[t._v(">")])])]),t._v(" "),n("weekHeader",{attrs:{weekHeader:t.weekHeader}}),t._v(" "),n("transition",{attrs:{name:"slide-fade-side-sm-"+t.sideWeek}},[t.changingWeek?t._e():n("div",[n("DaysOfWeek",{attrs:{idweek:t.selectedWeek,week:t.reorganiseDays[t.selectedWeek],tooltip:t.getSlotTooltip,selectedDay:t.selectedDay,demoSelected:t.demoSelected,cachedSlots:t.cachedSlots,isDemo:t.isDemo},on:{selectDay:t.selectDay}}),t._v(" "),n("transition",{attrs:{name:t.slotsAnimation}},[t.dayWeekSelected(t.selectedWeek)&&t.selectedDay?n("div",[n("div",{staticClass:"timezone"},[t._v(t._s(t.timezoneDisplay(t.currentTz)))]),t._v(" "),n("div",{staticClass:"slotsPane p-2"},[n("DaySlots",{attrs:{intervals:t.availableIntervals.intervals,duration:t.realSlotDuration(),currentTz:t.currentTz,time_format:t.time_format,options:t.options,now:t.now,viewData:t.viewData},on:{selected:t.selectSlot}})],1)]):t._e()])],1)])],1):t._e()},[],!1,null,null,null).exports,$={computed:{incrementType:function(){return this.viewData.more_st?this.viewData.starting_each:this.duration}},methods:{incrementTime:function(){return 60*this.incrementType}}},q=Object(h.a)($,void 0,void 0,!1,null,null,null).exports,V={props:["options","service","initIntervalsCollection","timeprops","staffs","duration","location","viewData","rescheduling","relations"],data:function(){return{updatedIntervals:!1,intervalId:!1,started:!1,cleanedIntervals:!1}},mixins:[a.a,D,q],components:{CalendarMonth:j,CalendarWeek:H},mounted:function(){this.cleanedIntervals=this.cleanStartingFromEnd(this.initIntervalsCollection,this.getMinStart().unix()),this.setAutoRefreshIntervals()},computed:{isWeekView:function(){return-1===[void 0,!1].indexOf(this.options.selection.check_viewweek)}},methods:{setAutoRefreshIntervals:function(){this.updatedIntervals=this.cleanedIntervals,void 0!==this.updatedIntervals.intervals[0]&&this.isTSToday(this.updatedIntervals.intervals[0].start)?(this.refreshIntervals(),setTimeout(this.initTodayInterval,100),this.intervalId=setInterval(this.refreshIntervals,6e4)):this.started=!0},initTodayInterval:function(){this.refreshIntervals(),this.started=!0},refreshIntervals:function(){var t=this.getMinStart().unix();this.updatedIntervals=!1,setTimeout(this.setNewValue.bind(null,t),50)},setNewValue:function(t){var e=this.cleanedIntervals;e=this.incrementStartingValue(e,t),e=this.cleanStartingFromEnd(e,t),this.updatedIntervals=e},cleanStartingFromEnd:function(t,e){var n=t.intervals,i=[],s=!0,o=!1,a=void 0;try{for(var r,c=n[Symbol.iterator]();!(s=(r=c.next()).done);s=!0){var l=r.value;l.end>e&&i.push(l)}}catch(t){o=!0,a=t}finally{try{!s&&c.return&&c.return()}finally{if(o)throw a}}return t.intervals=i,t},incrementStartingValue:function(t,e){var n=t.intervals;if(n[0].start<e)if(this.viewData.availability_fluid)n[0].start=e;else for(var i=this.now.unix()+3600*this.minTodayHour+60*this.minTodayMin;n[0].start<i;)n[0].start+=this.incrementTime();return t.intervals=n,t},selectSlot:function(t){var e=this.relations.next;this.intervalId&&clearInterval(this.intervalId),this.$emit("selectSlot",this.rescheduling?"RescheduleConfirm":e,{selectedSlot:t})}}},K=Object(h.a)(V,function(){var t=this,e=t.$createElement,n=t._self._c||e;return!1!==t.updatedIntervals&&t.started?n("div",[t.isWeekView?n("CalendarWeek",{attrs:{options:t.options,service:t.service,initIntervalsCollection:t.updatedIntervals,timeprops:t.timeprops,staffs:t.staffs,duration:t.duration,location:t.location,viewData:t.viewData},on:{selectSlot:t.selectSlot}}):n("CalendarMonth",{attrs:{options:t.options,service:t.service,initIntervalsCollection:t.updatedIntervals,timeprops:t.timeprops,staffs:t.staffs,duration:t.duration,location:t.location,viewData:t.viewData},on:{selectSlot:t.selectSlot}})],1):t._e()},[],!1,null,null,null).exports,U=n("l8GO"),G={data:function(){return{serviceLocked:!1,staffLocked:!1}},created:function(){this.checkServiceLocked(),this.checkStaffLocked()},methods:{checkServiceLocked:function(){return!1},checkStaffLocked:function(){return!1}}},Z=Object(h.a)(G,void 0,void 0,!1,null,null,null).exports,Y={computed:{canChangeAnything:function(){return!1===this.rescheduling},canChangeDuration:function(){return this.canChangeAnything&&void 0!==this.service.options.durations&&this.service.options.durations.length>1&&!this.appointmentSaved},canChangeService:function(){return this.canChangeAnything&&this.services.length>1&&!this.appointmentSaved},canChangeLocation:function(){return this.canChangeAnything&&void 0!==this.service.locations&&this.service.locations.length>1&&!this.appointmentSaved},canChangeStaff:function(){return this.canChangeAnything&&this.staffs.length>1&&!this.appointmentSaved&&!this.staffLocked}},methods:{changeService:function(){this.disabledButtons?this.options.eventsBus.emits("stepChanged","service_selection"):this.staff.services.length>1&&this.canChangeService&&this.$emit("changeService","BookingServiceSelection",{service:!1,location:!1,duration:!1,selectedSlot:!1})},changeDuration:function(){this.disabledButtons?this.options.eventsBus.emits("stepChanged","service_duration"):this.canChangeDuration&&this.$emit("changeDuration","BookingDurationSelection",{location:!1,duration:!1,selectedSlot:!1})},changeLocation:function(){this.disabledButtons?this.options.eventsBus.emits("stepChanged","service_location"):this.canChangeLocation&&this.$emit("changeLocation","BookingLocationSelection",{location:!1})}}},J=Object(h.a)(Y,void 0,void 0,!1,null,null,null).exports,X={mixins:[l.a,window.wappointmentExtends.filter("MixinChange",Z),J,F.a],props:{staffs:{type:Array},services:{type:Array},staff:{type:Object},options:{type:Object},service:{type:[Object,Boolean]},duration:{type:[Boolean,Number,String]},appointmentSaved:{type:Boolean},rescheduling:{type:Boolean},attributesEl:{type:Object}},methods:{showAllStaff:function(){if(!this.disabledButtons)return this.canChangeStaff?this.$emit("showStaffScreen","BookingStaffSelection",{selectedStaff:null,selectedSlot:!1,service:!1,location:!1,duration:!1}):void 0},getStyleBackground:function(t){return'background-image: url("'+t.a+'");'}},computed:{getClassWrapper:function(){return[this.itemsCenterVertically?"align-items-center":"align-items-start",this.showRightText?"":"justify-content-center"]},showRightText:function(){return this.isCompactHeader&&(this.service||this.showStaffName)||!this.isCompactHeader&&this.showStaffName},itemsCenterVertically:function(){return!this.isCompactHeader||this.isCompactHeader&&!this.showStaffName},staffSelected:function(){return null!==this.staff},staffsFilterd:function(){return this.canChangeStaff&&this.staffSelected?[this.staff]:[]},hasNoGeneralOptions:function(){return void 0===this.options.general},isCompactHeader:function(){return this.hasNoGeneralOptions||-1===[void 0,!1].indexOf(this.options.general.check_header_compact_mode)},showStaffName:function(){return this.hasNoGeneralOptions||-1!==[void 0,!1].indexOf(this.options.general.check_hide_staff_name)}}},Q=(n("IaMM"),Object(h.a)(X,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wap-head"},[t.staffSelected?n("div",{staticClass:"d-flex",class:t.getClassWrapper},[n("div",{staticClass:"staff-av",attrs:{role:"button"},on:{click:t.showAllStaff}},[n("div",{attrs:{"data-tt":t.canChangeStaff?"Change Staff":""}},[n("div",{staticClass:"wstaff-img",style:t.getStyleBackground(t.staff),attrs:{role:"img",title:t.staff.n}})])]),t._v(" "),t.showRightText?n("div",{staticClass:"staff-desc"},[t.showStaffName?n("div",{class:{"wcan-edit":t.canChangeStaff},attrs:{role:"button"},on:{click:t.showAllStaff}},[n("strong",[t._v(t._s(t.staff.n))])]):t._e(),t._v(" "),!1!==t.service&&t.isCompactHeader?n("div",{staticClass:"header-service"},[n("span",{staticClass:"compact-servicename",class:{"wcan-edit":t.canChangeService},attrs:{role:"button"},on:{click:t.changeService}},[t._v(t._s(t.service.name))]),t._v(" "),t.duration?n("span",{staticClass:"wduration",class:{"wcan-edit":t.canChangeDuration},attrs:{role:"button"},on:{click:t.changeDuration}},[t._v(t._s(t.duration)+" "+t._s(t.getMinText))]):t._e()]):t._e()]):t._e()]):t._e()])},[],!1,null,null,null).exports),tt=n("OiRY"),et={mixins:[tt.a],props:{service:{type:Object},duration:{type:[Number,Boolean]},cancellable:{type:Boolean,default:!0},options:{type:Object}},computed:{getDuration:function(){return this.duration+" "+this.options.general.min},getPrice:function(){if(void 0===this.service.options.durations)return!1;var t=!0,e=!1,n=void 0;try{for(var i,s=this.service.options.durations[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value;if(o.duration==this.duration&&-1===["",void 0].indexOf(o.woo_price))return this.formatPrice(o.woo_price)}}catch(t){e=!0,n=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw n}}}}},nt=(n("AbtR"),Object(h.a)(et,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex align-items-center"},[n("span",{staticClass:"welementname",class:{wenmax:t.duration||t.getPrice}},[t._v(t._s(t.service.name))]),t._v(" "),t.duration?n("span",{staticClass:"wduration wsep"},[t._v(t._s(t.getDuration))]):t._e(),t._v(" "),t.getPrice?n("span",{staticClass:"wprice wsep"},[t._v(t._s(t.getPrice))]):t._e(),t._v(" "),t.cancellable?n("span",{staticClass:"wclose",attrs:{role:"button"},on:{click:function(e){t.$emit("discardElement",t.service)}}}):t._e()])},[],!1,null,null,null).exports),it={mixins:[window.wappointmentExtends.filter("MixinChange",Z),J,F.a,tt.a],props:{service:{type:[Object,Boolean]},duration:{type:[Number,Boolean]},startsAt:{type:[String,Boolean]},location:{},options:{type:Object},attributesEl:{type:Object},staff:{type:Object},services:{type:Array},staffs:{type:Array},rescheduling:{},appointmentSaved:{},selectedVariation:{},selectedPackage:{type:[Object,Boolean],default:null}},components:{ElementSelected:window.wappointmentExtends.filter("ElementSelected",nt)},computed:{getLocationLabel:function(){return-1===[void 0,""].indexOf(this.location.name)?this.location.name:this.isPhysical?this.getAddress:-1!==["phone",2].indexOf(this.location)?this.options.form.byphone:-1!==["skype",3].indexOf(this.location)?this.options.form.byskype:-1!==["zoom",5].indexOf(this.location)?this.options.form.byzoom:void 0},isPhysical:function(){return-1!==["physical",1].indexOf(this.location)},getAddress:function(){return void 0!==this.service.options.address?this.service.options.address:void 0!==this.service.address?this.service.address:void 0},getMapAdress:function(){return"https://www.google.com/maps/search/?api=1&query="+this.getEncodedAdress},getEncodedAdress:function(){return encodeURIComponent(this.getAddress)},serviceHasIcon:function(){return""!=this.service.options.icon},packageHasIcon:function(){return""!=this.selectedPackage.options.icon}},methods:{hasText:function(t){for(var e=this.options,n=0;n<t.length;n++){if(![void 0,""].indexOf(e[t[n]]))return!1;e=e[t[n]]}return!0},changeTime:function(){this.$emit("changeService","BookingCalendar",{selectedSlot:!1})},changePackage:function(){this.$emit("changeService","PackagesSelection",{selectedPackage:!1,selectedVariation:!1})}}},st=(n("zcf8"),Object(h.a)(it,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appointment-summary"},[!1!==t.service?n("div",{staticClass:"wsummary-section wsec-service"},[t.hasText(["general","service"])?n("div",{staticClass:"wlabel"},[t._v(t._s(t.options.general.service))]):t._e(),t._v(" "),t.service?n("div",{staticClass:"wselected wclosable wmy-4 d-flex align-items-center d-flex-inline"},[t.serviceHasIcon?n("WapImage",{attrs:{element:t.service,desc:t.service.name,size:"auto"}}):t._e(),t._v(" "),n("span",{staticClass:"wml-2"},[n("ElementSelected",{attrs:{service:t.service,duration:t.duration,options:t.options,cancellable:!1}})],1),t._v(" "),t.canChangeService?n("span",{staticClass:"wclose",on:{click:t.changeService}}):t._e()],1):t._e()]):t._e(),t._v(" "),t.location?n("div",{staticClass:"wsummary-section wsec-location"},[t.hasText(["general","location"])?n("div",{staticClass:"wlabel"},[t._v(t._s(t.options.general.location))]):t._e(),t._v(" "),n("div",{staticClass:"wclosable wselected wmy-4 d-flex align-items-center d-flex-inline"},[n("WapImage",{attrs:{element:t.location,desc:t.location.name,size:"auto"}}),t._v(" "),t.isPhysical?n("a",{staticClass:"wml-2 map-link lnh-1",attrs:{href:t.getMapAdress,target:"_blank"}},[t._v(t._s(t.getAddress))]):n("span",{staticClass:"welementname wml-2 lnh-1"},[t._v(t._s(t.getLocationLabel))]),t._v(" "),t.canChangeLocation?n("span",{staticClass:"wclose",on:{click:t.changeLocation}}):t._e()],1)]):t._e(),t._v(" "),t.startsAt?n("div",{staticClass:"wsummary-section wsec-starts"},[t.hasText(["general","when"])?n("div",{staticClass:"wlabel"},[t._v(t._s(t.options.general.when))]):t._e(),t._v(" "),n("div",{staticClass:"wselected wclosable wmy-4 d-flex align-items-center d-flex-inline"},[n("WapImage",{attrs:{faIcon:["far","clock"],size:"auto"}}),t._v(" "),n("span",{staticClass:"welementname wml-2"},[t._v(t._s(t.startsAt))]),t._v(" "),n("span",{staticClass:"wclose",on:{click:t.changeTime}})],1)]):t._e(),t._v(" "),-1===[!1,null].indexOf(t.selectedPackage)?n("div",{staticClass:"wsummary-section wsec-package"},[t.hasText(["general","package"])?n("div",{staticClass:"wlabel"},[t._v(t._s(t.options.general.package))]):t._e(),t._v(" "),n("div",{staticClass:"wselected wclosable wmy-4 d-flex align-items-center d-flex-inline"},[t.packageHasIcon?n("WapImage",{attrs:{element:t.selectedPackage,desc:t.selectedPackage.options.name,size:"auto"}}):t._e(),t._v(" "),n("span",{staticClass:"welementname wml-2"},[t._v(t._s(t.selectedPackage.options.name))]),t._v(" "),n("span",{staticClass:"wcredits wsep"},[t._v(t._s(t.selectedVariation.credits)+" "+t._s(t.selectedPackage.type_label))]),t._v(" "),n("span",{staticClass:"wprice wsep"},[t._v(t._s(t.formatPrice(t.selectedVariation.price)))]),t._v(" "),n("span",{staticClass:"wclose",on:{click:t.changePackage}})],1)]):t._e()])},[],!1,null,null,null).exports),ot={mixins:[tt.a],props:{order:{type:Object}},methods:{hasMoreThanOne:function(t){return void 0!==t.quantity&&t.quantity>1}}},at=(n("m5ss"),Object(h.a)(ot,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.order.prices,function(e){return n("div",{staticClass:"wcharge wsummary-section"},[n("div",{staticClass:"wselected wclosable wmy-4 d-flex align-items-center d-flex-inline"},[n("span",{staticClass:"welementname"},[t._v(t._s(e.item_name)+" - "+t._s(t.formatCentsPrice(e.price_value))+" "),t.hasMoreThanOne(e)?n("span",[t._v(" x "+t._s(e.quantity))]):t._e()])])])}),t._v(" "),t.order.tax_amount>0?n("div",{staticClass:"wtotal wsummary-section"},[t._v("\n        Tax: "+t._s(t.formatCentsPrice(t.order.tax_amount))+"\n    ")]):t._e(),t._v(" "),n("div",{staticClass:"wtotal wsummary-section"},[t._v("\n        Total: "),n("strong",[t._v(t._s(t.formatCentsPrice(t.order.charge)))])])],2)},[],!1,null,null,null).exports),rt=n("SyxS"),ct=n("KH6Y"),lt=n("BDLL"),dt=n("kGR+"),ut=n("gsSy"),pt=n("9cgI"),ht=n("Jvpg"),ft={extends:L,computed:{hasIntervals:function(){return null!==this.currentIntervals&&this.currentIntervals.intervals.length>0},tooltipText:function(){return this.getSlotTooltip.replace("[total_slots]","")}},updated:function(){this.isDemo&&0==this.demoSelected.init&&!1!==this.demoSelected.day&&this.$nextTick(function(){this.selectedDay=!1,this.demoSelected.init=!0})},methods:{autoRunOnMount:function(){this.findFirstMonthwithAvail();var t=!1,e=0;for(this.selectedWeek=0;!1===t&&e<10;){var n=!0,i=!1,s=void 0;try{for(var o,a=this.reorganiseDays[this.selectedWeek][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var r=o.value;this.cachedSlots[r]>0&&(t=!0)}}catch(t){i=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw s}}t||this.changeWeek(),e++}},changeWeek:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!1===t?this.selectedWeek-1:this.selectedWeek+1;this.setWeek(e)},setWeek:function(t){this.selectedDay=!1,t<0?(this.prevMonth(),this.selectedWeek=this.reorganiseDays.length-1):t>this.reorganiseDays.length-1?(this.nextMonth(),this.selectedWeek=0):this.selectedWeek=t}}},vt=(n("2YWL"),Object(h.a)(ft,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"first-avail"},[t.hasIntervals?n("div",{staticClass:"d-flex"},[n("div",[n("div",{staticClass:"tt-here",attrs:{"data-tt":t.getMonthYear,title:t.getMonthYear}},[n("weekHeader",{attrs:{weekHeader:t.weekHeader}})],1),t._v(" "),n("DaysOfWeek",{attrs:{idweek:t.selectedWeek,week:t.reorganiseDays[t.selectedWeek],tooltip:t.tooltipText,selectedDay:t.selectedDay,demoSelected:t.demoSelected,cachedSlots:t.cachedSlots,isDemo:t.isDemo}})],1),t._v(" "),n("a",{staticClass:"ml-2 wbtn wbtn-secondary",attrs:{href:"javascript:;"},on:{click:function(e){return e.stopPropagation(),e.target!==e.currentTarget?null:t.changeWeek(e)}}},[t._v(">")])]):n("div",{staticClass:"werror"},[t._v("\n        "+t._s(t.options.general.noappointments)+"\n    ")])])},[],!1,null,null,null).exports),mt={mixins:[window.wappointmentExtends.filter("MixinChange",Z),F.a],props:["calendars","options","timeprops","viewData","attributesEl"],data:function(){return{search:"",advancedStaff:[],selectedService:!1,reload:!1,showDropdownService:!1}},components:{FirstAvailabilities:vt,ServiceButton:ht.a},watch:{selectedService:function(t){this.reload=!0,setTimeout(this.reloaded,100)}},computed:{selectedServiceObject:function(){var t=this.selectedService;return this.servicesAvailable.find(function(e){return parseInt(e.id)===parseInt(t)})},selectedLocationObject:function(){return this.selectedServiceObject.locations[0]},servicesAvailable:function(){var t=void 0!==this.attributesEl&&void 0!==this.attributesEl.serviceSelection?this.attributesEl.serviceSelection:[],e=t.length>1?this.viewData.services.filter(function(e){return-1!==t.indexOf(e.id)}):this.viewData.services,n={};return n.locations=e[0].locations,n.sorting=e[0].sorting,n.id=-1,n.name="60"+this.options.general.min,n.options={},n.options.durations=[{duration:60}],e.unshift(n),e},getServiceDuration:function(){return this.selectedServiceObject.options.durations[0].duration},getStaffBasedOnserviceFilter:function(){var t=0===(void 0!==this.attributesEl.serviceSelection&&"array"==typeof this.attributesEl.serviceSelection?this.attributesEl.serviceSelection:[]).length?this.calendars:this.calendars.filter(function(e){var n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var r=o.value;if(-1!==e.services.indexOf(r))return!0}}catch(t){i=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw s}}return!1});return t},filteredStaff:function(){var t=this.search.toLowerCase(),e=this.selectedService;return this.getStaffBasedOnserviceFilter.map(function(t){return Object.assign({name:t.n,options:{icon:{src:t.a.replace("?s=46","?s=80"),wp_id:!0}}},t)}).filter(function(n){return-1!==n.name.toLowerCase().indexOf(t)&&(e<0||e>0&&-1!==n.services.indexOf(e))})}},created:function(){this.selectedService=this.servicesAvailable[0].id,this.setAdvancedStaff()},methods:{reloaded:function(){this.reload=!1},setAdvancedStaff:function(){for(var t=0;t<this.calendars.length;t++)this.advancedStaff[t]={initIntervalsCollection:this.getIntervalsCollection(this.calendars[t])}},getFirstService:function(t){var e=t.services[0];return this.viewData.services.find(function(t){return t.id==e})},getIntervalsCollection:function(t){return new s.a(t.availability,!1)},hasIntervals:function(t){var e=this.getIntervalsCollection(t);return-1===[null,void 0].indexOf(e.intervals)&&e.intervals.length>0},selectStaff:function(t){!this.isDemo&&this.hasIntervals(t)&&this.$emit("staffSelected",t)}}},gt=(n("4iGn"),Object(h.a)(mt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.calendars.length>0?n("div",[void 0!==t.options?n("div",{staticClass:"title wtitle"},[n("div",[t._v(t._s(t.options.staff_selection.pickstaff))]),t._v(" "),t.servicesAvailable&&t.servicesAvailable.length>1?n("div",{staticClass:"d-flex text-sm justify-content-center align-items-center"},[n("span",[t._v(t._s(t.options.staff_selection.availabilityfor))]),t._v(" "),n("div",{staticClass:"mr-2 ml-2"},[t.showDropdownService?n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedService,expression:"selectedService"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedService=e.target.multiple?n:n[0]}}},t._l(t.servicesAvailable,function(e){return n("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])}),0):n("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.showDropdownService=!0}}},[t._v(t._s(t.selectedServiceObject.name))])]),t._v(" "),t.selectedService>0?n("div",[t._v("\n                "+t._s(t.getServiceDuration)+" "+t._s(t.options.general.min)+"\n            ")]):t._e()]):t._e()]):t._e(),t._v(" "),t.calendars.length>10?n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}):t._e(),t._v(" "),t.reload?t._e():n("div",{staticClass:"d-flex flex-wrap justify-content-around"},t._l(t.filteredStaff,function(e,i){return n("ServiceButton",{key:"staff-sel-"+e.id,attrs:{extraClass:"wbtn-staff",service:e,options:t.options},on:{selectService:t.selectStaff}},[n("FirstAvailabilities",{attrs:{staffs:t.filteredStaff,location:t.selectedLocationObject,options:t.options,timeprops:t.timeprops,duration:t.getServiceDuration,viewData:t.viewData,service:t.selectedServiceObject,initIntervalsCollection:t.advancedStaff[i].initIntervalsCollection}})],1)}),1)]):t._e()},[],!1,null,null,null).exports),wt=n("JpxJ"),bt={methods:{getImage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".svg";return{icon:"methods/"+t+(-1===t.indexOf(".")?e:""),alt:t,title:t}}}},yt=Object(h.a)(bt,void 0,void 0,!1,null,null,null).exports,_t=n("uAwV"),xt=n("hs9/"),St={components:{WImage:xt.a},mixins:[yt],props:{method:{type:Object},active:{type:String},icon:{type:Boolean,default:!1},tab:{type:String}},computed:{isActive:function(){return this.active==this.method.key}}},kt=(n("US5p"),{props:["methods","options"],components:{WPaymentMethod:Object(h.a)(St,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wtab",class:[t.isActive?"active":"inactive"],attrs:{role:"button"},on:{click:function(e){t.$emit("click",t.method.key)}}},[t.icon?n("WImage",{attrs:{image:t.getImage(t.method.key,".png")}}):t._e(),t._v(" "),n("span",{staticClass:"wmethod-name"},[t._v(t._s(t.tab))])],1)},[],!1,null,null,null).exports},data:function(){return{active:""}},created:function(){this.clicked(this.methods[0].key)},methods:{clicked:function(t){this.active=t,this.$emit("selected",t)}}}),Ct=Object(h.a)(kt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wtabs d-flex"},t._l(t.methods,function(e){return t.methods.length>1?n("WPaymentMethod",{key:e.key,attrs:{method:e,tab:t.options.swift_payment[e.key+"_tab"],active:t.active},on:{click:t.clicked}}):t._e()}),1)},[],!1,null,null,null).exports;var Dt={data:function(){return{scriptAsync:null,scriptAsyncLoaded:!1}},mounted:function(){this.isLoadedAlready()?this.successLoadScript(null):this.$WapModal().request(this.preloadScript(),this.successLoadScript)},methods:{preloadScript:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(s,o){try{var a=e[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})}}(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.scriptAsync){t.next=2;break}throw"scriptAsync is not defined";case 2:return t.abrupt("return",new Promise(function(t,n){var i=document.createElement("script");i.onload=function(e){t(!0)},i.src=e.scriptAsync,document.head.appendChild(i)}));case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),successLoadScript:function(t){this.recordToEnv(),void 0!==this.successAfterLoadScript&&this.successAfterLoadScript(t)},recordToEnv:function(){this.isLoadedAlready()||window.loadedScripts.push(this.scriptAsync)},isLoadedAlready:function(){void 0===window.loadedScripts&&(window.loadedScripts=[]);var t=this.scriptAsync;return window.loadedScripts.find(function(e){return e==t})}}},At=Object(h.a)(Dt,void 0,void 0,!1,null,null,null).exports,Ot={props:["options"],methods:{confirm:function(){this.$emit("confirm")}}},Et=Object(h.a)(Ot,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"p-2"},[n("div",{staticClass:"wdescription"},[t._v(t._s(t.options.swift_payment.onsite_desc))])]),t._v(" "),n("button",{staticClass:"wbtn wbtn-primary wbtn-block",on:{click:t.confirm}},[t._v(t._s(t.options.swift_payment.onsite_confirm))])])},[],!1,null,null,null).exports,It=n("LNkL");var Pt={extends:i.a,mixins:[F.a,_t.a,yt],props:["options","relations","appointmentKey","appointmentData","service","order"],components:window.wappointmentExtends.filter("PaymentMethods",{WPaymentMethods:Ct,WImage:xt.a,onsite:Et,ElementSelected:nt,Terms:It.a},{asyncLoad:At,GetImage:yt,CanFormatPrice:tt.a}),data:function(){return{servicesOrder:null,activeMethod:"",methods:window.apiWappointment.methods}},created:function(){this.servicesOrder=this.$vueService(new wt.a)},computed:{activeMethods:function(){return this.methods.filter(function(t){return t.installed>0&&t.active>0})},selectedMethod:function(){var t=this.activeMethod;return""!=t&&this.activeMethods.find(function(e){return e.key==t})},serviceDuration:function(){return(this.appointmentData.end_at-this.appointmentData.start_at)/60},durationPrice:function(){if(void 0!==this.service.options.durations){var t=this.serviceDuration;return this.service.options.durations.find(function(e){return e.duration==t})}}},methods:{loadingTransfer:function(t){this.$emit("loading",t)},selected:function(t){this.activeMethod=t},cancel:function(){},confirm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!1!==t)return this.confirmSuccess(t);this.$emit("loading",{loading:!0}),this.confirmRequest().then(this.confirmSuccess).catch(this.confirmFailure)},confirmRequest:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(s,o){try{var a=e[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})}}(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.servicesOrder.call("confirm",{transaction_id:this.order.transaction_id});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),confirmFailure:function(t){this.serviceError({message:"Error confirming order"}),this.$emit("loading",{loading:!1})},confirmSuccess:function(t){var e=void 0!==t.data.appointment?t.data.appointment:t.data.orderCompleted.appointments[0];this.$emit("confirmedPayment",this.relations.next,{appointmentSaved:!0,loading:!1,appointmentSavedData:e})}}},Bt=(n("Nd7V"),Object(h.a)(Pt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("WPaymentMethods",{attrs:{methods:t.activeMethods,options:t.options},on:{selected:t.selected}}),t._v(" "),t.activeMethod?n("div",{staticClass:"wpayment"},[n("div",{staticClass:"wfooter"},[n(t.activeMethod,{tag:"component",attrs:{order:t.order,options:t.options,method:t.selectedMethod},on:{loading:t.loadingTransfer,confirm:t.confirm,cancel:t.cancel}}),t._v(" "),n("Terms",{attrs:{options:t.options,tos:!0}})],1)]):t._e()],1)},[],!1,null,null,null).exports);var Tt={data:function(){return{converted:!1}},methods:{getFormattedDate:function(t,e,n,i,s){var o=this;return new Promise(function(a,r){!1===e?a(!1):!1===t&&("en"!==n&&"en"!==Object(T.a)().substr(0,2)?o.convertDateRequest({timezone:o.timeprops.currentTz,timestamp:e.start}).then(function(t){return a(t.data.converted)}):a(o.getMoment(e.start,i).format(s)))})},convertDateRequest:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(s,o){try{var a=e[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})}}(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceBooking.call("convertDate",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},zt=Object(h.a)(Tt,void 0,void 0,!1,null,null,null).exports,Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Q.components={DurationCell:rt.a};var Ft={BookingFormConfirmation:g,RescheduleConfirm:x,BookingCalendar:K,BookingFormInputs:U.a,BookingFormHeader:Q,BookingServiceSelection:dt.a,BookingDurationSelection:ut.a,BookingLocationSelection:pt.a,BookingStaffSelection:gt,BookingPaymentStep:Bt,DurationCell:rt.a,abstractFront:i.a,BookingFormSummary:st,AppointmentOrder:at,AppointmentTypeSelection:lt.a};Ft=window.wappointmentExtends.filter("BookingFormComp",Ft);var Rt=window.wappointmentExtends.filter("BookingFormMixins",[tt.a,o.a,a.a,u.a,zt,window.wappointmentExtends.filter("MixinChange",Z)]),Lt={extends:i.a,mixins:Rt,props:["serviceAction","appointmentkey","rescheduleData","options","step","passedDataSent","wrapperid","demoAs","attributesEl"],components:Ft,data:function(){return{viewName:"availability",viewData:null,intervalsCollection:null,currentTz:"UTC",selectedSlot:!1,time_format:"",date_format:"",appointmentSavedData:!1,resultBooking:!1,appointmentSaved:!1,appointmentKey:!1,dataloaded:!1,isApprovalManual:!1,dataSent:{},errors:null,componentsList:null,services:[],service:!1,location:!1,duration:!1,currentStep:"BookingCalendar",loadingStep:"",requiresScroll:!1,selectedStaff:null,showHeader:!0,checkCacheIntervalid:!1,order:!1,selectedVariation:!1,selectedPackage:!1,lockToServiceIDs:[],errorShortcode:!1,appointmentStartsAt:!1}},mounted:function(){this.refreshInitValue(),this.currentTz=this.tzGuess(),this.createdAt=this.getUnixNow(),null!==this.step&&(this.requiresScroll=!0),window.addEventListener("resize",this.windowResized)},beforeDestroy:function(){window.removeEventListener("resize",this.windowResized)},watch:{selectedSlot:function(t,e){if(t!=e)return this.appointmentStartsAt=w.DateTime.fromSeconds(this.selectedSlot.start).toLocaleString(w.DateTime.DATETIME_MED),""}},computed:{showStaffSelection:function(){return this.mustSelectStaff||"BookingStaffSelection"==this.loadingStep},mustSelectStaff:function(){return void 0!==this.attributesEl&&void 0!==this.attributesEl.staffPage&&1==this.attributesEl.staffPage},randomSelection:function(){return void 0!==this.attributesEl&&void 0!==this.attributesEl.random&&1==this.attributesEl.random},staffIsSelected:function(){return-1===[null,void 0,!1].indexOf(this.selectedStaff)},noStaffSelectionNeeded:function(){return!this.showStaffSelection||this.showStaffSelection&&this.staffIsSelected&&!0!==this.bfdemo},isLegacyOrNotServiceSuite:function(){return this.isLegacy||void 0!==this.service.type},isCompactHeader:function(){return void 0===this.options.general||!this.__isEmpty(this.options.general.check_header_compact_mode)},serviceSelected:function(){return!1!==this.service},durationSelected:function(){return!1!==this.duration},locationSelected:function(){return this.isLegacyOrNotServiceSuite||!1!==this.location},slotSelected:function(){return!1!==this.selectedSlot&&this.selectedSlot.start>0},serviceIsNotFree:function(){return!1!==this.service&&!0===this.service.options.woo_sellable},requiredPayment:function(){return!1!==this.resultBooking&&!0===this.resultBooking.payment_required},canSkipPayment:function(){return!1===this.serviceIsNotFree||this.serviceIsNotFree&&!1===this.requiredPayment},serviceUNotFree:function(){return!1!==this.service&&!0===this.service.options.woo_sellable&&this.service.options.woo_price>0},serviceMNotFree:function(){return!1!==this.service&&!0===this.service.options.woo_sellable&&void 0!==this.service.options.durations&&this.service.options.durations[0].woo_price>0},isStepForm:function(){return!this.appointmentSaved&&!this.reschedulingSelectedSlot&&this.selectedSlot},isStepSlotSelection:function(){return!this.appointmentSaved&&!this.reschedulingSelectedSlot&&!this.selectedSlot},rescheduling:function(){return"rescheduling"===this.serviceAction},reschedulingSelectedSlot:function(){return this.rescheduling&&this.selectedSlot},fullDateFormat:function(){return this.date_format+"["+this.viewData.date_time_union+"]"+this.time_format},canBeBooked:function(){return this.dataloaded&&(null!==this.intervalsCollection&&this.intervalsCollection.intervals.length>0||this.mustSelectStaff&&!this.staffIsSelected)},staff:function(){return this.selectedStaff},filterStaffByService:function(){var t=this.getStaffs;if(this.serviceLocked){var e=this.attributesEl.serviceSelection;t=t.filter(function(t){var n=!0,i=!1,s=void 0;try{for(var o,a=t.services[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var r=o.value;if(-1!==e.indexOf(r))return!0}}catch(t){i=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw s}}})}return t},timeprops:function(){var t={currentTz:this.currentTz,time_format:this.time_format,fullDateFormat:this.fullDateFormat,ctz:this.currentTz};return void 0!==this.appointmentkey&&(t.appointmentkey=this.appointmentkey),t},getStaffs:function(){return this.__get(this,"viewData.staffs",[])},getWapBodyId:function(){return"wapbody"+this.wrapperid}},methods:{checkForCache:function(){return void 0!==window.wappoAvailability&&window.wappoAvailability},cacheValue:function(){window.wappoAvailability=this.viewData,setTimeout(this.clearCache,12e4),window.wappoAvailabilityRunning=void 0},clearCache:function(){window.wappoAvailability=void 0},isCacheReady:function(){!0!==window.wappoAvailabilityRunning&&(clearInterval(this.checkCacheIntervalid),this.refreshInitValue())},refreshInitValue:function(){if(!0===window.wappoAvailabilityRunning)return this.checkCacheIntervalid=setInterval(this.isCacheReady,400);var t=this.checkForCache();if(t)return this.loaded({data:t});this.runRequestAvail()},runRequestAvail:function(){window.wappoAvailabilityRunning=!0,this.loading=!0,this.initValueRequest().then(this.loaded).catch(this.serviceError)},setStaff:function(t){this.selectedStaff=t,this.setAvailableServices(),this.refreshAvail(),this.autoSelectingOptions()},autoSelectingOptions:function(){this.autoSelService(),this.filterServices(),this.autoSelectDuration(),this.autoSelectModality()},filterServices:function(){if(this.lockToServiceIDs.length>0){var t=this.lockToServiceIDs;this.services=this.services.filter(function(e){return-1!==t.indexOf(e.id)})}},changeStaff:function(t){this.service=!1,this.location=!1,this.setStaff(t),this.showHeader=!1,this.currentStep="",setTimeout(this.showHeaderLater.bind(null,this.selectFirstStep("BookingServiceSelection",{service:this.service,location:this.location,duration:this.duration})),100)},showHeaderLater:function(t){this.showHeader=!0,this.childChangedStep(t)},windowResized:function(){this.checkIfRequiresScroll()},loadStep:function(t){this.loadingStep=t},formatAppointmentStartsAt:function(t){this.appointmentStartsAt=t},checkIfRequiresScrollDelay:function(){setTimeout(this.checkIfRequiresScroll,200)},checkIfRequiresScroll:function(){if(null!==this.step)return!0;var t=document.getElementById(this.wrapperid),e=t.getElementsByClassName("wap-head"),n=60;void 0!==e&&Array.isArray(e)&&void 0!==e[0]&&(n=e[0].scrollHeight);var i=t.scrollHeight-n,s=document.getElementById(this.getWapBodyId).scrollHeight;this.requiresScroll=s>i},childChangedStep:function(t,e){"object"==(void 0===e?"undefined":Mt(e))&&Object.keys(e).length>0&&this.childChangedData(e),this.eventProcesses(t),this.currentStep=t,setTimeout(this.loadStep.bind(null,t),100),this.$emit("changedStep",t)},eventProcesses:function(t){switch(t){case"BookingServiceSelection":this.refreshAvail()}},selectedLocation:function(t){this.location=t},childChangedData:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.autoSelectLocation()},getDefaultService:function(){return!(!this.dataloaded||void 0===this.viewData.services[0])&&this.viewData.services[0]},getCompProp:function(t){var e=void 0!==this.componentsList[t].props?this.componentsList[t].props:{},n={};for(var i in e)if(e.hasOwnProperty(i)){var s=e[i];if("string"==typeof s)if(-1!==s.indexOf(".")){var o=s.split("."),a=Object.assign({},this),r=!0,c=!1,l=void 0;try{for(var d,u=o[Symbol.iterator]();!(r=(d=u.next()).done);r=!0){a=a[d.value]}}catch(t){c=!0,l=t}finally{try{!r&&u.return&&u.return()}finally{if(c)throw l}}n[i]=a}else n[i]=this[s];else n[i]=s}return n},getCompRelations:function(t){return void 0!==this.componentsList[t].relations?this.componentsList[t].relations:{}},getCompListeners:function(t){var e=void 0!==this.componentsList[t].listeners?this.componentsList[t].listeners:{};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];"string"==typeof i&&(e[n]=this[i])}return e},getComp:function(t){return this.componentsList[t].name},isCompVisible:function(t){var e=void 0!==this.componentsList[t].conditions&&this.componentsList[t].conditions;if(!1!==e){var n=Object.keys(e),i=!0,s=!1,o=void 0;try{for(var a,r=n[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var c=a.value;if(!0!==this.bfdemo&&this[c]!==e[c])return void 0!==this.componentsList[t].skip&&this.conditionSkipPass(t)&&this.childChangedStep(this.componentsList[t].relations.next),!1}}catch(t){s=!0,o=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw o}}}return!0},conditionSkipPass:function(t){var e=Object.keys(this.componentsList[t].skip),n=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var r=o.value;if(this[r]!==this.componentsList[t].skip[r])return!1}}catch(t){i=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw s}}return!0},getDefaultStaff:function(){var t=[];if(void 0!==this.filterStaffByService&&this.filterStaffByService.length>1){if(this.randomSelection)return this.filterStaffByService[Math.floor(Math.random()*this.filterStaffByService.length)];for(var e=0;e<this.filterStaffByService.length;e++)this.filterStaffByService[e].services.length>0&&this.filterStaffByService[e].availability.length>0&&t.push({id:e,start:this.filterStaffByService[e].availability[0][0],end:this.filterStaffByService[e].availability[0][1]});return t.sort(function(t,e){return t.start>e.start}),this.filterStaffByService[t[0].id]}return this.filterStaffByService[0]},refreshAvail:function(){this.intervalsCollection=new s.a(this.selectedStaff.availability)},loadedAfter:function(){if(this.cacheValue(),this.time_format=Object(ct.a)(this.viewData.time_format),this.date_format=Object(ct.a)(this.viewData.date_format),this.startDay=this.viewData.week_starts_on,0!=this.viewData.staffs.length){if(this.setMomentLocale(),this.dataloaded=!0,(!this.mustSelectStaff||this.mustSelectStaff&&1==this.getStaffs.length)&&this.initServiceStaffDurationLocation(),this.setComponentLists(),this.rescheduling){this.currentStep="BookingCalendar",void 0!==this.rescheduleData.staff&&this.setStaff(this.rescheduleData.staff),this.service=this.rescheduleData.service;var t=void 0!==this.rescheduleData.appointment.options.buffer_time?60*parseInt(this.rescheduleData.appointment.options.buffer_time):0;this.duration=(this.rescheduleData.appointment.end_at-this.rescheduleData.appointment.start_at-t)/60,this.location=this.rescheduleData.location}else{var e={service:this.service,duration:this.duration,location:this.location},n=window.wappointmentExtends.filter("BFFirstStep","BookingCalendar",e);this.currentStep=this.selectFirstStep(n,e),this.autoSelectLocation()}this.$emit("changedStep",this.currentStep),this.loadStep(this.currentStep),void 0!==this.loadedInit&&this.loadedInit(this.step)}else this.dataloaded=!0},selectFirstStep:function(t,e){return!1===this.isLegacyOrNotServiceSuite?!1===e.service?this.getStepFirst():this.getStepAfterService(e):t},getStepFirst:function(){return this.noStaffSelectionNeeded?"BookingServiceSelection":"BookingStaffSelection"},getStepAfterService:function(t){return!1===t.duration?"BookingDurationSelection":this.getStepAfterDuration(t)},getStepAfterDuration:function(t){return!1===t.location?"BookingLocationSelection":"BookingCalendar"},autoSelectLocation:function(){Array.isArray(this.service.type)&&1==this.service.type.length&&(this.location=this.service.type[0])},setAvailableServices:function(){if(1==this.viewData.services.length&&void 0!==this.viewData.services[0].type)this.services=this.viewData.services.filter(function(t){return!0});else{var t=this.selectedStaff.services;this.services=this.viewData.services.filter(function(e){return-1!==t.indexOf(e.id)})}},autoSelService:function(){1==this.services.length&&(this.service=this.services[0])},demoAutoSelect:function(){!0===this.demoAs&&(!1===this.service&&(this.service=this.services[0]),!1!==this.service&&(this.duration=this.getFirstDuration(this.service),this.location=void 0===this.service.type&&(1===this.service.locations.length&&this.service.locations[0])),!1===this.service||this.location||(this.location=this.service.locations[0]))},autoSelectDuration:function(){!1===this.service||this.duration||void 0!==this.service.type||1!=this.service.options.durations.length||(this.duration=this.service.options.durations[0].duration)},autoSelectModality:function(){!1===this.service||this.location||void 0!==this.service.type||1!=this.service.locations.length||(this.location=this.service.locations[0])},initServiceStaffDurationLocation:function(){this.testLockedStaff(),this.errorShortcode||(this.testLockedService(),this.errorShortcode||(this.selectedStaff||(this.selectedStaff=this.getDefaultStaff(),this.refreshAvail()),this.setAvailableServices(),this.autoSelectingOptions(),this.demoAutoSelect()))},testLockedStaff:function(){if(void 0!==this.attributesEl&&void 0!==this.attributesEl.staffSelection){var t=!0,e=!1,n=void 0;try{for(var i,s=this.viewData.staffs[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value;if(parseInt(this.attributesEl.staffSelection)===parseInt(o.id))return this.setStaff(o)}}catch(t){e=!0,n=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw n}}this.errorShortcode="Staff "+this.attributesEl.staffSelection+" does not exist"}},testLockedService:function(){if(void 0!==this.attributesEl&&void 0!==this.attributesEl.serviceSelection){var t=this.attributesEl.serviceSelection;Array.isArray(t)?this.lockToServiceIDs=t:this.lockToServiceIDs.push(parseInt(this.attributesEl.serviceSelection)),this.viewData.services.filter(function(e){return-1!==t.indexOf(e.id)}).length<1&&(this.errorShortcode="Service "+this.attributesEl.serviceSelection.join(",")+" does not exist")}},getFirstDuration:function(t){return this.__get(t,"options.durations.0.duration")||t.duration},setComponentLists:function(){var t={BookingCalendar:{name:"BookingCalendar",conditions:{serviceSelected:!0,durationSelected:!0,locationSelected:!0,appointmentSaved:!1},props:{service:"service",initIntervalsCollection:"intervalsCollection",options:"options",duration:"duration",timeprops:"timeprops",staffs:"getStaffs",viewData:"viewData",rescheduling:"rescheduling"},listeners:{selectSlot:"childChangedStep",loading:"childChangedData"},relations:{next:"BookingFormInputs"}},RescheduleConfirm:{name:"RescheduleConfirm",conditions:{slotSelected:!0,rescheduling:!0,appointmentSaved:!1},props:{selectedSlot:"selectedSlot",timeprops:"timeprops",options:"options",rescheduleData:"rescheduleData"},listeners:{back:"childChangedStep",loading:"childChangedData",confirmed:"childChangedStep",serviceError:"serviceError"},relations:{next:"BookingFormConfirmation",prev:"BookingCalendar"}},BookingFormInputs:{name:"BookingFormInputs",conditions:{slotSelected:!0,rescheduling:!1,appointmentSaved:!1},props:{selectedSlot:"selectedSlot",selectedStaff:"selectedStaff",timeprops:"timeprops",service:"service",selectedPackage:"selectedPackage",selectedVariation:"selectedVariation",duration:"duration",location:"location",errors:"errorMessages",data:"dataSent",options:"options",relatedComps:"relatedComps",appointment_starts_at:"appointmentStartsAt",custom_fields:"viewData.custom_fields",staffs:"filterStaffByService",wpauth:"viewData.wpauth"},listeners:{back:"childChangedStep",selectedLocation:"selectedLocation",loading:"childChangedData",confirmed:"childChangedStep",serviceError:"serviceError"},relations:{next:"BookingFormConfirmation",prev:"BookingCalendar"}},BookingFormConfirmation:{name:"BookingFormConfirmation",conditions:{appointmentSaved:!0},props:{timeprops:"timeprops",service:"service",errors:"errorMessages",appointment:"appointmentSavedData",result:"dataSent",options:"options",isApprovalManual:"isApprovalManual",staff:"selectedStaff",appointment_starts_at:"appointmentStartsAt",rescheduling:"rescheduling",resultBooking:"resultBooking",viewData:"viewData"},listeners:{loading:"childChangedData"}}};this.isLegacyOrNotServiceSuite||(t=this.updateComponentList(t),void 0!==window.apiWappointment.methods&&window.apiWappointment.methods.length>0&&(t=this.setPaymentStep(t))),this.componentsList=window.wappointmentExtends.filter("componentsList",t,{service:this.service,rescheduling:this.rescheduling})},setPaymentStep:function(t){return t.BookingPaymentStep={name:"BookingPaymentStep",conditions:{appointmentSaved:!0,serviceIsNotFree:!0},skip:{canSkipPayment:!0},props:{options:"options",appointmentKey:"appointmentKey",appointmentData:"appointmentSavedData",order:"order",service:"service"},listeners:{confirmedPayment:"childChangedStep",cancelledPayment:"childChangedStep",loading:"childChangedData"},relations:{prev:"BookingFormInputs",next:"BookingFormConfirmation"}},t},updateComponentList:function(t){return t.BookingFormInputs.props.custom_fields="viewData.custom_fields",t.BookingCalendar.props.location="location",t.BookingCalendar.props.viewData="viewData",t.BookingStaffSelection={name:"BookingStaffSelection",conditions:{serviceSelected:!1,appointmentSaved:!1,rescheduling:!1,showStaffSelection:!0},props:{calendars:"filterStaffByService",options:"options",timeprops:"timeprops",viewData:"viewData",attributesEl:"attributesEl"},listeners:{staffSelected:"changeStaff"},relations:{next:"BookingServiceSelection"}},t.BookingServiceSelection={name:"BookingServiceSelection",conditions:{serviceSelected:!1,appointmentSaved:!1,rescheduling:!1,noStaffSelectionNeeded:!0},props:{services:"services",options:"options",viewData:"viewData"},listeners:{serviceSelected:"childChangedStep"},relations:{next:"BookingDurationSelection"}},t.BookingDurationSelection={name:"BookingDurationSelection",conditions:{serviceSelected:!0,durationSelected:!1,appointmentSaved:!1,rescheduling:!1},props:{service:"service",options:"options"},listeners:{durationSelected:"childChangedStep",backToService:"childChangedStep"},relations:{next:"BookingLocationSelection",prev:"BookingServiceSelection"}},t.BookingLocationSelection={name:"BookingLocationSelection",conditions:{serviceSelected:!0,durationSelected:!0,locationSelected:!1,appointmentSaved:!1,rescheduling:!1},props:{service:"service",options:"options"},listeners:{locationSelected:"childChangedStep",backToDuration:"childChangedStep"},relations:{next:"BookingCalendar",prev:"BookingDurationSelection"}},t}}},Wt=(n("IlXR"),Object(h.a)(Lt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wap-bf",class:{show:t.canBeBooked,"has-scroll":t.requiresScroll}},[t.canBeBooked&&!t.errorShortcode?[t.showHeader&&t.noStaffSelectionNeeded?n("BookingFormHeader",{attrs:{isStepSlotSelection:t.isStepSlotSelection,options:t.options,attributesEl:t.attributesEl,service:t.service,services:t.services,staffs:t.getStaffs,duration:t.duration,location:t.location,rescheduling:t.rescheduling,appointmentSaved:t.appointmentSaved,staff:t.selectedStaff,mustSelectStaff:t.mustSelectStaff},on:{changeService:t.childChangedStep,changeDuration:t.childChangedStep,changeLocation:t.childChangedStep,showStaffScreen:t.childChangedStep}}):t._e(),t._v(" "),n("div",{staticClass:"wap-form-body",attrs:{id:t.getWapBodyId}},[t.appointmentSaved||t.isCompactHeader?[t.order?n("AppointmentOrder",{attrs:{order:t.order}}):t._e()]:n("BookingFormSummary",{attrs:{isStepSlotSelection:t.isStepSlotSelection,options:t.options,attributesEl:t.attributesEl,service:t.service,duration:t.duration,services:t.services,staffs:t.getStaffs,staff:t.selectedStaff,rescheduling:t.rescheduling,startsAt:t.appointmentStartsAt,location:t.location,appointmentSaved:t.appointmentSaved,selectedPackage:t.selectedPackage,selectedVariation:t.selectedVariation},on:{changeService:t.childChangedStep,changeDuration:t.childChangedStep,changeLocation:t.childChangedStep}}),t._v(" "),n("div",{staticClass:"wrap-calendar p-2",class:"step-"+t.currentStep},[t.loading?n("div",[n("Loader")],1):t._e(),t._v(" "),""!=t.currentStep?n("div",{class:{"hide-loading":t.loading}},[t.currentStep==t.loadingStep&&t.isCompVisible(t.currentStep)?n("div",[n(t.getComp(t.currentStep),t._g(t._b({tag:"component",attrs:{relations:t.getCompRelations(t.currentStep)},on:{"hook:mounted":t.checkIfRequiresScrollDelay,"hook:updated":t.checkIfRequiresScrollDelay}},"component",t.getCompProp(t.currentStep),!1),t.getCompListeners(t.currentStep)))],1):t._e()]):t._e()])],2)]:n("div",[t.dataloaded?n("div",{staticClass:"wappointment-errors"},[t.errorShortcode?n("div",[t._v(" "+t._s(t.errorShortcode)+" ")]):n("div",[t._v(t._s(t.options.general.noappointments))])]):[t.errorMessages.length>0?n("div",{staticClass:"wappointment-errors"},t._l(t.errorMessages,function(e){return n("div",[t._v(t._s(e))])}),0):n("div",[n("Loader")],1)]],2)],2)},[],!1,null,null,null));e.default=Wt.exports},gkNc:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-front .wbtn.wbtn-cell.wbtn-secondary.wbtn-service,\n.wap-front .wbtn.wbtn-cell.wbtn-secondary.wbtn-service:not(:disabled):not(.disabled):active,\n.wap-front .wbtn.wbtn-cell.wbtn-secondary.wbtn-service:not(:disabled):not(.disabled).active{\n    width: 100%;\n    margin: .4em;\n    border: none;\n    overflow: hidden;\n    padding: .4em;\n    max-width: 340px;\n    font-size: 1em;\n}\n.wap-front .wbtn-service.d-flex .service-label .service-name\n{\n    font-size: 1.2em;\n    line-height: 1.2em;\n}\n.wap-front .wbtn-service.d-flex .service-label .description\n{\n    font-size: .8em;\n}\n.wap-front .wbtn-service.d-flex .service-price{\n    font-size: 1em;\n}\n.wap-front .wbtn-service .wap-icon-image {\n    transition: all .3s ease-in-out;\n    overflow: hidden;\n    height: 80px;\n    width: 80px;\n    background-position: center center;\n    background-size: cover;\n}\n.wap-front.large-version .wbtn.wbtn-cell.wbtn-secondary.wservice-large, \n.wap-front.large-version .wbtn.wbtn-cell.wbtn-secondary.wservice-large:not(:disabled):active {\n    max-width:none ;\n    margin:1em 0;\n}\n.wap-front .wbtn-service.wservice-large .wap-icon-image {\n    height: 160px;\n    width: 160px;\n}\n.wap-front .wbtn-service .service-label{\n    margin: 0 .5em;\n    overflow: hidden;\n    white-space: initial;\n    text-align: center;\n}\n\n\n/* pills */\n.wap-front .wbtn-service.d-flex .service-label{\n    text-align: left;\n}\n.service-price{\n    font-weight: bold;\n}\n.service-price .price-currency{\n    font-size: .7em;\n}\n.service-price.price-right{\n    margin-left: auto !important;\n}\n.wap-front .als{\n    align-self: flex-start !important;\n}\n\n",""])},gnn1:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.booking-widget-editor-wizard{\n    width: 600px;\n}\n.wrapper-widget-style{\n    box-shadow: inset 0px 0px 10px 0 rgba(0,0,0,.2);\n    padding: 1rem;\n    border-radius: 2rem;\n}\n",""])},gsSy:function(t,e,n){"use strict";var i=n("OiRY"),s=n("tOgP"),o={props:["service","relations","options"],mixins:[i.a,s.a],computed:{getClasses:function(){return void 0===window.wappointment_services||void 0===window.wappointment_services.is_admin?"wbtn wbtn-secondary wbtn-cell":"btn btn-secondary btn-cell"},durationsOrdered:function(){return this.service.options.durations.sort(function(t,e){return t.duration>e.duration?1:-1})},sellable:function(){return this.service.options.woo_sellable}},methods:{selectDuration:function(t){if(!this.triggersDemoEvent("service_location")){var e={duration:parseInt(t.duration)},n="BookingLocationSelection";1==this.service.locations.length&&(e.location=this.service.locations[0],n="BookingCalendar"),this.$emit("durationSelected",n,e)}}}},a=(n("5Kp/"),n("KHd+")),r=Object(a.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.durationsOrdered.length>0?n("div",[void 0!==t.options?n("div",{staticClass:"title wtitle"},[t._v(t._s(t.options.service_duration.select_duration))]):t._e(),t._v(" "),n("div",{staticClass:"d-flex flex-wrap justify-content-around"},t._l(t.durationsOrdered,function(e,i){return n("div",{staticClass:"wbtn wbtn-cell wbtn-duration wbtn-secondary d-flex align-items-center",attrs:{role:"button"},on:{click:function(n){t.selectDuration(e)}}},[n("span",{staticClass:"mr-2 wduration",class:{wsold:t.canSell(e)}},[t._v(t._s(e.duration)+" "+t._s(t.options.general.min))]),t._v(" "),t.canSell(e)?n("span",{staticClass:"wprice"},[t._v(t._s(t.formatPrice(e.woo_price)))]):t._e()])}),0)]):t._e()},[],!1,null,null,null);e.a=r.exports},gzyJ:function(t,e,n){"use strict";var i={props:{title:{type:String,default:""},options:{type:Object},className:{type:String,default:"wbtn wbtn-primary"}}},s=n("KHd+"),o=Object(s.a)(i,function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{class:t.className,attrs:{type:"button"},on:{click:function(e){t.$emit("click")}}},[t._t("default")],2)},[],!1,null,null,null);e.a=o.exports},hZNi:function(t,e,n){"use strict";var i=n("qqZf");n.n(i).a},hjUW:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wappointment-wrap .addons p {\n    margin-bottom: .2rem;\n}\n",""])},"hs9/":function(t,e,n){"use strict";var i={props:{image:{type:Object}},computed:{resourcesUrl:function(){return window.apiWappointment.resourcesUrl+"images/"}}},s=(n("0YK1"),n("KHd+")),o=Object(s.a)(i,function(){var t=this.$createElement;return(this._self._c||t)("img",{staticClass:"img-fluid",attrs:{title:this.image.title,src:this.resourcesUrl+this.image.icon,alt:this.image.alt}})},[],!1,null,null,null);e.a=o.exports},i5bS:function(t,e,n){"use strict";var i=n("LyZl");n.n(i).a},iBid:function(t,e,n){var i=n("HZxv");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("cb784738",i,!0,{})},ibrO:function(t,e,n){"use strict";var i=n("LB0/"),s=n("vbJd"),o=n("l9VS"),a=n("XfSa"),r=n("VyXW"),c=n("FYyN"),l={extends:a.a,components:window.wappointmentExtends.filter("RegavComponents",{RegularAvailability:i.a,TimeZones:o.a,StaffSelector:s.a,StaffPicture:r.a},{RequestMaker:c.a}),props:{noback:{},minimal:{type:Boolean,default:!1}},data:function(){return{viewName:"regav",reload:!1}},computed:{hasRegav:function(){return null!==this.viewData&&void 0!==this.viewData.regav},getRegav:function(){var t=Object.assign({},this.viewData.regav);return void 0===this.viewData.regav.precise&&(t=this.convertRegavToPrecise(t)),t}},methods:{convertRegavToPrecise:function(t){for(var e in this.viewData.regav)if(this.viewData.regav.hasOwnProperty(e))for(var n=0;n<this.viewData.regav[e].length;n++){var i=this.viewData.regav[e][n];t[e][n]=[60*i[0],60*i[1]]}return t},changed:function(){this.refreshInitValue()},updatedRA:function(t){t.precise=!0,this.settingStaffSave("regav",t)},changedABD:function(t){this.settingStaffSave("availaible_booking_days",t)},updateTimezone:function(t){this.settingStaffSave("timezone",t)},updateStaffName:function(t){this.reload=!0,this.viewData.activeStaffName=t,this.settingStaffSave("display_name",t)},updateStaff:function(t){this.reload=!0,this.settingSave("activeStaffId",t)},afterSuccess:function(t){-1!==t.config.data.indexOf("timezone")||this.reload}}},d=(n("8dkp"),n("KHd+")),u=Object(d.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.dataLoaded?n("div",[!1===t.minimal?n("div",[n("p",{staticClass:"h6 text-muted"},[n("span",{staticClass:"bullet-wap"},[t._v("1")]),t._v(" "),t.viewData.staffs.length>1?n("span",{staticClass:"bullet-title"},[t._v(" Set who provides the appointments ")]):n("span",{staticClass:"bullet-title"},[t._v(" Modify your picture ")])]),t._v(" "),t.viewData?n("div",{staticClass:"d-flex align-items-top mb-2"},[n("StaffPicture",{attrs:{src:t.viewData.activeStaffAvatar,gravatar:t.viewData.activeStaffGravatar},on:{changed:t.changed}}),t._v(" "),n("div",{staticClass:"mr-2 changename"},[n("InputPh",{attrs:{ph:"Change name"},on:{updatedValue:t.updateStaffName},model:{value:t.viewData.activeStaffName,callback:function(e){t.$set(t.viewData,"activeStaffName",e)},expression:"viewData.activeStaffName"}})],1),t._v(" "),n("div",{staticClass:"account-selector"},[n("StaffSelector",{attrs:{staffs:t.viewData.staffs,activeStaffId:t.viewData.activeStaffId},on:{updateStaff:t.updateStaff}}),t._v(" "),t._m(0)],1)],1):t._e(),t._v(" "),t._m(1),t._v(" "),t.viewData?n("TimeZones",{attrs:{classW:"d-flex",wizard:t.noback,timezones:t.viewData.timezones_list,defaultTimezone:t.viewData.timezone,typeClass:"small text-muted container-values d-flex justify-content-between align-items-center form-control"},on:{updateTimezone:t.updateTimezone}}):t._e(),t._v(" "),n("hr")],1):t._e(),t._v(" "),t.hasRegav?n("div",[!1===t.minimal?n("p",{staticClass:"h6 text-muted"},[n("span",{staticClass:"bullet-wap"},[t._v("3")]),t._v(" "),n("span",{staticClass:"bullet-title"},[t._v(" Set your standard weekly schedule")])]):t._e(),t._v(" "),n("RegularAvailability",{attrs:{initValue:t.getRegav,viewData:t.viewData,minimal:t.minimal},on:{updatedDays:t.updatedRA,changedABD:t.changedABD}})],1):t._e()]):t._e()},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("small",{staticClass:"text-muted"},[this._v(" You must select a WordPress account; you can "),e("a",{attrs:{href:"users.php",target:"_blank"}},[this._v("add a new one here")]),this._v(" (a contributor role is required at least)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"h6 text-muted"},[e("span",{staticClass:"bullet-wap"},[this._v("2")]),this._v(" "),e("span",{staticClass:"bullet-title"},[this._v(" Set your timezone")])])}],!1,null,null,null);e.a=u.exports},jwg7:function(t,e,n){"use strict";n.r(e);var i=n("XfSa"),s=n("VJs4"),o=n("eErJ"),a={extends:i.a,props:["legacy"],data:function(){return{viewName:"service",parentLoad:!1,model:{name:"",duration:60,type:"",address:"",options:{countries:[]}}}},components:{ServiceModulable:s.a,ServiceLegacy:o.a},methods:{initMethod:function(){this.request(this.initValueRequest,void 0,void 0,!1,this.loaded)},loaded:function(t){this.viewData=t.data,this.model=t.data.service,this.model.duration=parseInt(this.model.duration),-1!==["",null,void 0].indexOf(this.model.options)&&(this.model.options={countries:[]}),this.$emit("fullyLoaded")},saveTransmit:function(t){this.$emit("saved",t)}}},r=n("KHd+"),c=Object(r.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.dataLoaded?n("div",{staticClass:"container-fluid"},[t.legacy?n("ServiceLegacy",{attrs:{dataPassed:t.model,buttons:!0},on:{saved:function(e){t.$emit("saved")}}}):n("ServiceModulable",{attrs:{dataPassed:t.model,buttons:!0},on:{saved:t.saveTransmit}})],1):t._e()},[],!1,null,null,null);e.default=c.exports},k6Kb:function(t,e,n){(e=t.exports=n("I1BE")(!1)).i(n("eE7z"),""),e.push([t.i,'\n.wap-front .wsummary-section {\n    font-size: .8em;\n    padding: .4em;\n}\n.wmy-4{\n     margin: .4em 0;\n}\n.wap-front .wselected{\n    border-radius: 1em;\n    padding: .2em .7em;\n    display: inline-block;\n}\n.wselected .map-link{\n    color: var(--wappo-pri-tx) !important;\n}\n.wselected .map-link:after{\n    content: "\\2192";\n}\n\n',""])},k6XK:function(t,e,n){"use strict";var i=n("vlcP");n.n(i).a},"kGR+":function(t,e,n){"use strict";var i=n("Jvpg"),s={props:["services","relations","options","admin","viewData"],mixins:[n("tOgP").a],data:function(){return{search:""}},components:{ServiceButton:i.a},created:function(){1==this.services.length&&this.selectService(this.services[0])},computed:{getServiceFilter:function(){if(void 0===this.options.attributesEl||void 0===this.options.attributesEl.serviceSelection)return[];for(var t=-1!==this.options.attributesEl.serviceSelection.indexOf(",")?this.options.attributesEl.serviceSelection.split(","):[this.options.attributesEl.serviceSelection],e=0;e<t.length;e++)t[e]=parseInt(t[e]);return t},firstLevelServiceFilter:function(){var t=this.getServiceFilter;return t.length<1?this.services:this.services.filter(function(e){return-1!==t.indexOf(e.id)})},filteredServices:function(){var t=this.search.toLowerCase();return this.firstLevelServiceFilter.filter(function(e){return-1!==e.name.toLowerCase().indexOf(t)})}},methods:{selectService:function(t){if(!this.triggersDemoEvent("service_duration")){var e={service:t},n="";t.options.durations.length>1?n="BookingDurationSelection":(e.duration=t.options.durations[0].duration,n="BookingLocationSelection",1==t.locations.length&&(e.location=t.locations[0],n="BookingCalendar")),this.$emit("serviceSelected",n,e)}}}},o=(n("yFz+"),n("KHd+")),a=Object(o.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.services.length>0?n("div",[void 0!==t.options?n("div",{staticClass:"title wtitle"},[t._v(t._s(t.options.service_selection.select_service))]):t._e(),t._v(" "),t.services.length>10?n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}):t._e(),t._v(" "),t.options.service_selection.check_full_width?t._l(t.filteredServices,function(e,i){return n("ServiceButton",{key:"service-sel-"+i,staticClass:"wservice-large",attrs:{service:e,options:t.options,viewData:t.viewData},on:{selectService:t.selectService}})}):n("div",{staticClass:"d-flex flex-wrap justify-content-around"},t._l(t.filteredServices,function(e,i){return n("ServiceButton",{key:"service-sel-"+i,attrs:{service:e,options:t.options,viewData:t.viewData},on:{selectService:t.selectService}})}),1)],2):t._e()},[],!1,null,null,null);e.a=a.exports},kcK7:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-front .wbtn-round,\n.wap-front .calendarMonth .ddays div.wbtn {\n    border-radius: 50%;\n    text-align: center;\n    padding: 0;\n    transition: all .3s ease-in-out;\n    margin: 0 auto !important;\n}\n.wap-front .calendarMonth .ddays div.wbtn {\n    font-size: .65em;\n    max-width: 2.4em;\n}\n.wap-front.over280 .calendarMonth .ddays div.wbtn {\n    font-size: .67em;\n    max-width: 2.6em;\n}\n.wap-front.over320 .calendarMonth .ddays div.wbtn {\n    font-size: .73em;\n    max-width: 2.8em;\n}\n.wap-front.over360 .calendarMonth .ddays div.wbtn {\n    font-size: .75em;\n    max-width: 3em;\n}\n.wap-front .wbtn-top.wbtn-round {\n    min-width: 36px;\n    margin: 0 !important;\n    font-size: .7em;\n    max-width: 2.3em;\n}\n.wap-front .wbtn.wbtn-secondary.wbtn-round.wbtn-disabled, \n.wap-front .wbtn-round.wbtn-disabled:hover {\n    background-color: transparent;\n    border: none;\n    box-shadow: none;\n}\n\n",""])},l2W7:function(t,e,n){"use strict";var i=n("XfSa"),s={components:{ContactButton:n("xsJs").a},props:{step:0,total:0,nextEnabled:{type:Boolean,default:!1}},data:function(){return{pstep:0,nextEn:!1}},mounted:function(){this.pstep=window.prevStep,this.nextEn=!0===this.nextEnabled,setTimeout(this.delayMounted,50)},methods:{toggleNext:function(t){this.nextEn=t},delayMounted:function(){this.pstep=this.step},emitBack:function(){this.$emit("back")},emitNext:function(){!1!==this.nextEn&&this.$emit("next")}}},o=(n("lpFo"),n("KHd+")),a=Object(o.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("StickyBar",[n("div",{staticClass:"d-block d-md-none"},[n("div",{staticClass:"d-flex flex-wrap"},[n("div",{staticClass:"progress align-self-center"},[n("div",{staticClass:"progress-bar progress-bar-striped bg-info",style:"width:"+t.pstep/t.total*100+"%",attrs:{role:"progressbar"}},[t._v("\n                    "+t._s(t.get_i18n("wizard_wizard","wizard"))+" "+t._s(t.step)+" / "+t._s(t.total)+"\n                ")])]),t._v(" "),n("div",{staticClass:"buttons align-self-center"},[n("button",{staticClass:"btn btn-secondary btn-xs",on:{click:t.emitBack}},[t._v(t._s(t.get_i18n("wizard_back","wizard")))]),t._v(" "),n("button",{staticClass:"btn btn-primary btn-xs",class:{disabled:!t.nextEn},attrs:{disabled:!t.nextEn},on:{click:t.emitNext}},[t._v(t._s(t.get_i18n("wizard_next","wizard")))])])])]),t._v(" "),n("div",{staticClass:"d-none d-md-block"},[n("div",{staticClass:" d-flex flex-wrap"},[n("div",{staticClass:"progress align-self-center"},[n("div",{staticClass:"progress-bar progress-bar-striped bg-info",style:"width:"+t.pstep/t.total*100+"%",attrs:{role:"progressbar"}},[t._v("\n                    "+t._s(t.get_i18n("wizard_wizard","wizard"))+" "+t._s(t.step)+" / "+t._s(t.total)+"\n                ")])]),t._v(" "),n("div",{staticClass:"buttons align-self-center"},[n("button",{staticClass:"btn btn-secondary btn-xl",on:{click:t.emitBack}},[t._v(t._s(t.get_i18n("wizard_back","wizard")))]),t._v(" "),n("button",{staticClass:"btn btn-primary btn-xl",class:{disabled:!t.nextEn},attrs:{disabled:!t.nextEn},on:{click:t.emitNext}},[t._v(t._s(t.get_i18n("wizard_next","wizard")))])]),t._v(" "),n("ContactButton",{attrs:{subject:"Installation Wizard",buttonClass:"btn btn-secondary btn-sm",buttonLabel:"Help"}})],1)])])},[],!1,null,null,null).exports;function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(s,o){try{var a=e[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})}}var c,l,d={extends:i.a,components:{topPane:a},methods:{setPrevStep:function(){window.prevStep=this.currentStep},nextStep:function(){this.setPrevStep(),this.request(this.nextStepRequest,void 0,void 0,!1,this.redirectNext)},nextStepRequest:(l=r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.service.call("wizard",{step:this.currentStep+1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(){return l.apply(this,arguments)}),redirectNext:function(){this.$router.push({name:"wizard"+(this.currentStep+2)})},prevStep:function(){this.setPrevStep(),this.request(this.prevStepRequest,void 0,void 0,!1,this.redirectPrev)},prevStepRequest:(c=r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.service.call("wizard",{step:this.currentStep-1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(){return c.apply(this,arguments)}),redirectPrev:function(){this.$router.push({name:"wizard"+this.currentStep})}}},u=Object(o.a)(d,void 0,void 0,!1,null,null,null);e.a=u.exports},l8GO:function(t,e,n){"use strict";var i=n("BDLL"),s=n("fP5I"),o=n("G0ds"),a=n("xa6k");var r,c,l={methods:{confirm:function(){if(this.disabledButtons)this.options.eventsBus.emits("stepChanged","confirmation");else{var t=this.bookingFormExtended;t.time=this.selectedSlot.start,t.ctz=this.timeprops.ctz,t.service=this.service.id,t.location=this.location.id,t.duration=this.duration,this.$emit("loading",{loading:!0,dataSent:t}),this.saveBookingRequest(t).then(this.appointmentBooked).catch(this.appointmentBookingError)}},confirmLegacy:function(){if(this.disabledButtons)this.options.eventsBus.emits("stepChanged","confirmation");else{var t=this.bookingFormExtended;t.time=this.selectedSlot.start,t.type=this.selection,t.ctz=this.timeprops.ctz,this.$emit("loading",{loading:!0,dataSent:t}),this.saveBookingRequestLegacy(t).then(this.appointmentBookedLegacy).catch(this.appointmentBookingError)}},saveBookingRequestLegacy:(r=regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceBooking.call("save",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}),c=function(){var t=r.apply(this,arguments);return new Promise(function(e,n){return function i(s,o){try{var a=t[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});e(r)}("next")})},function(t){return c.apply(this,arguments)}),appointmentBookedLegacy:function(t){var e=window.wappointmentExtends.filter("AppointmentBookedNextScreen",this.relations.next,{result:t,service:this.service});this.$emit("confirmed",e,{appointmentSavedData:t.data.appointment,isApprovalManual:0==t.data.appointment.status,appointmentSaved:!0,appointmentKey:t.data.appointment.edit_key,loading:!1})},selectDefaultType:function(){this.selection=this.service.type[0]},selectType:function(t){this.selection=t;var e=Object.assign({},this.bookingForm);this.bookingForm={},this.bookingForm=e,this.bookingForm.type=t,this.$emit("selectedLocation",t)},hasError:function(t){return""===this.bookingForm[t]?"":void 0!==this.errorsOnFields[t]&&!0===this.errorsOnFields[t]?"isInvalid":"isValid"},onInput:function(t){var e=t.number,n=t.isValid;t.country;this.bookingForm.phone=e,this.phoneValid=n}}},d=(n("H7Pi"),n("KHd+")),u=Object(d.a)(l,void 0,void 0,!1,null,null,null).exports,p=n("l8y5"),h=n("H5HU"),f=n("/fjS"),v=n("tOgP"),m=n("uAwV"),g=n("OiRY"),w=n("LNkL");var b,y={extends:s.a,mixins:[o.a,u,p.a,v.a,g.a,m.a],props:["service","selectedSlot","options","errors","data","timeprops","relations","appointment_starts_at","duration","location","custom_fields","staffs","selectedStaff","selectedPackage","selectedVariation","wpauth"],components:{BookingAddress:h.a,PhoneInput:f.a,CountryStyle:function(){return n.e(26).then(n.bind(null,"dh4s"))},AppointmentTypeSelection:i.a,Terms:w.a},data:function(){return{phoneId:"",phoneValid:!1,errorsOnFields:{},mounted:!1,bookingFormExtended:null,canDisplayInputs:!1,staff:null}},created:function(){this.serviceAppointmentService=this.$vueService(new a.a),this.isLegacy?(1==this.service.type.length||this.disabledButtons)&&this.selectType(this.service.type[0]):(this.setCanDisplay(this.location),this.setStaff())},mounted:function(){this.mounted=!0},computed:{isCompactHeader:function(){return void 0===this.options.general||-1===[void 0,!1].indexOf(this.options.general.check_header_compact_mode)},requirePhoneInput:function(){return this.phoneSelected||-1===[void 0,!1,""].indexOf(this.service.options.phone_required)},skypeValid:function(){return/^[a-zA-Z][a-zA-Z0-9.\-_]{5,31}$/.test(this.bookingForm.skype)},dataEmpty:function(){for(var t in this.bookingForm)if(this.bookingForm.hasOwnProperty(t)&&""!==this.bookingForm[t])return!1;return!0},canSubmit:function(){return Object.keys(this.errorsOnFields).length<1},legacyServiceHasTypes:function(){return this.isLegacy&&this.service.type.length>1},showFormInputs:function(){return this.canDisplayInputs&&(!this.legacyServiceHasTypes||this.legacyServiceHasTypes&&"string"==typeof this.location&&""!==this.location)}},methods:{setStaff:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.staff=this.selectedStaff},getId:function(t){this.phoneId=t},selectDefaultType:function(){this.selection=this.service.type[0]},selectType:function(t){this.selection=t;var e=Object.assign({},this.bookingForm);this.bookingForm={},this.bookingForm=e,this.bookingForm.type=t,this.dataDemoChanged(this.bookingForm),this.$emit("selectedLocation",t),this.canDisplayInputs=!1,setTimeout(this.setCanDisplay,100)},setCanDisplay:function(){this.canDisplayInputs=!0},hasError:function(t){return""===this.bookingForm[t]?"":void 0!==this.errorsOnFields[t]&&!0===this.errorsOnFields[t]?"isInvalid":"isValid"},onInput:function(t){var e=t.number,n=t.isValid;t.country;this.bookingForm.phone=e,this.phoneValid=n},changedBF:function(t,e){this.bookingFormExtended=t,this.errorsOnFields=e,this.dataDemoChanged(t)},dataDemoChanged:function(t){this.disabledButtons&&(t.type=this.selection,this.options.eventsBus.emits("dataDemoChanged",t))},back:function(){this.triggersDemoEvent("selection")||this.$emit("back",this.relations.prev,{selectedSlot:!1})},confirmSwitch:function(){return this.isLegacy?this.confirmLegacy():this.confirm()},confirm:function(){if(!this.triggersDemoEvent("confirmation")){var t=this.bookingFormExtended;t.time=this.selectedSlot.start,void 0!==this.selectedSlot.edit_key&&(t.appointment_key=this.selectedSlot.edit_key),t.ctz=this.timeprops.ctz,t.service=this.service.id,t.location=this.location.id,t.duration=this.duration,t.staff_id=this.staff.id,this.selectedPackage&&(t.package_id=this.selectedPackage.id,t.package_price_id=this.selectedVariation.price_id,t.woo_pack_variation_id=this.selectedVariation.woo_pack_variation_id),this.$emit("loading",{loading:!0,dataSent:t}),this.saveBookingRequest(t).then(this.appointmentBooked).catch(this.appointmentBookingError)}},saveBookingRequest:(b=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(s,o){try{var a=e[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});t(r)}("next")})}}(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceAppointmentService.call("save",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(t){return b.apply(this,arguments)}),appointmentBooked:function(t){if(void 0!==t.data.result){var e={appointmentSavedData:t.data.appointment,order:t.data.order,isApprovalManual:0==t.data.appointment.status,appointmentSaved:!0,appointmentKey:t.data.appointment.edit_key,loading:!1,resultBooking:t.data};this.$emit("confirmed",this.mustPay&&!0===t.data.payment_required?"BookingPaymentStep":this.getAddonNextScreen(t.data.result),this.appointmentBookedDataFilter(e,t))}else this.$emit("loading",{loading:!1}),this.appointmentBookingError({message:"Error in booking request response"})},appointmentBookedDataFilter:function(t,e){return window.wappointmentExtends.filter("AppointmentBookedData",t,e)},getAddonNextScreen:function(t){return window.wappointmentExtends.filter("AppointmentBookedNextScreen",this.relations.next,{result:t,service:this.service})},appointmentBookingError:function(t){this.$emit("serviceError",t)}}},_=(n("aKqD"),Object(d.a)(y,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide-fade"}},[t.mounted?n("div",[t.isCompactHeader?n("div",{staticClass:"form-summary text-center"},[n("div",{staticClass:"my-2"},[t.appointment_starts_at?n("div",[n("div",{staticClass:"wselected wclosable wmy-4 d-flex align-items-center d-flex-inline"},[n("WapImage",{attrs:{faIcon:["far","clock"],size:"auto"}}),t._v(" "),n("span",{staticClass:"welementname wml-2"},[t._v(t._s(t.appointment_starts_at))]),t._v(" "),n("span",{staticClass:"wclose",on:{click:t.back}})],1)]):t._e()])]):t._e(),t._v(" "),t.errors.length>0?n("div",{staticClass:"wappointment-errors"},t._l(t.errors,function(e){return n("div",[t._v("\n                "+t._s(e)+"\n            ")])}),0):t._e(),t._v(" "),t.legacyServiceHasTypes?n("AppointmentTypeSelection",{attrs:{options:t.options,typeSelected:t.selection,typesAllowed:t.service.type},on:{selectType:t.selectType}}):t._e(),t._v(" "),n("transition",{attrs:{name:"slide-fade"}},[t.showFormInputs?n("div",[n("FieldsGenerated",{attrs:{custom_fields:t.custom_fields,service:t.service,location:t.location,options:t.options,selectedSlot:t.selectedSlot,wpauth:t.wpauth},on:{changed:t.changedBF,dataDemoChanged:t.dataDemoChanged}}),t._v(" "),n("Terms",{attrs:{options:t.options}})],1):t._e()]),t._v(" "),n("div",{staticClass:"d-flex wbtn-confirm"},[n("div",{staticClass:"mr-2"},[n("span",{staticClass:"wbtn-secondary wbtn",on:{click:t.back}},[t._v(t._s(t.options.form.back))])]),t._v(" "),t.canSubmit?n("span",{staticClass:"wbtn-primary wbtn flex-fill mr-0",on:{click:t.confirmSwitch}},[t._v(t._s(t.options.form.confirm))]):n("span",{staticClass:"wbtn-primary wbtn wbtn-disabled flex-fill mr-0",attrs:{disabled:""}},[t._v(t._s(t.options.form.confirm))])]),t._v(" "),n("CountryStyle")],1):t._e()])},[],!1,null,null,null));e.a=_.exports},lpFo:function(t,e,n){"use strict";var i=n("pxgz");n.n(i).a},m5ss:function(t,e,n){"use strict";var i=n("Lz4k");n.n(i).a},mhCM:function(t,e,n){var i=n("sTsL");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("102897b9",i,!0,{})},mkhk:function(t,e,n){"use strict";var i={methods:{getParameterByName:function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}}},s=n("KHd+"),o=Object(s.a)(i,void 0,void 0,!1,null,null,null);e.a=o.exports},n0z4:function(t,e,n){"use strict";var i=n("FEmh");n.n(i).a},nwuA:function(t,e,n){var i=n("wmiY");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("9428324e",i,!0,{})},o38m:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-l.wap-bar {\n  width: 92%;\n  height: auto;\n}\n",""])},"p/zG":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.bigicon{\n    font-size: 3em;\n    margin-right: .2em;\n}\n.success .text-conf{\n    text-align: left;\n    font-size: 1.6em;\n    line-height: 1.2em;\n}\n.mb-2, .my-2 {\n    margin-bottom: .5em !important;\n}\n.mt-2, .my-2 {\n    margin-top: .5em !important;\n}\n.confirmation-summary{\n    padding: 2em 1em 1.5em 1em;\n    font-size: .8em;\n}\n.confirmation-summary > div{\n    margin-bottom:.5em;\n    line-height: 1em;\n}\n.confirmation-summary .wlabel{\n    font-weight: bold;\n}\n.wdescription{\n    font-size: .8em;\n    line-height: 1.4em;\n}\n\n",""])},pxgz:function(t,e,n){var i=n("WJvZ");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("34a160b8",i,!0,{})},qqZf:function(t,e,n){var i=n("HY5A");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("1b22b6a9",i,!0,{})},s2bw:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.selected-tab{\n    background-color: #ececec;\n    padding: 0 .8em .4em 0;\n    border-radius: .4em;\n    border: 1px solid #b8b8f5;\n}\n.booking-widget-editor{\n    min-height: 300px;\n}\n.booking-widget-editor .wapmodal-content.large {\n    width: 60%;\n}\n.biggerPop .booking-widget-editor{\n    position: absolute;\n}\n.preview-book > .bordered {\n    margin: .5rem;\n    box-shadow: inset 0px 0px 10px 0 rgba(0,0,0,.2);\n    border-radius: .2rem;\n}\n.preview-book > .hover{\n    box-shadow: inset 0px 0px 10px 0 rgba(127, 126, 208, 0.6);\n}\n.preview-book > .hidestep{\n    display: none;\n}\n.booking-widget-editor [data-tt]{\n    z-index: auto;\n}\n.booking-widget-editor [data-tt]::before{\n    z-index: 1;\n}\n.booking-widget-editor .bwe-settings-bar{\n    max-height: 80vh;\n    overflow: scroll;\n}\n.preview-book > .hover[data-tt]::before, .preview-book > .hover[data-tt]::after{\n    visibility: visible;\n    opacity: 1;\n    bottom:100%;\n}\n.widget-wraper{\n    box-shadow: inset 0 0 5px #959090;\n    width: 430px;\n    border-radius: 2rem;\n}\n@media (min-width: 1410px) {\n.widget-wraper{\n        width: 850px !important;\n}\n}\n@media (max-width: 876px) {\n.widget-wraper{\n        padding: 0 !important;\n        padding-top: 1rem !important;\n}\n}\n.right-color{\n    float:right;\n}\n.widget-fields-wrapper {\n    overflow: hidden;\n    margin-bottom: .4rem;\n}\n.widget-fields{\n    opacity:.6;\n    border: 1px solid #ccc;\n    border-radius: 0.2rem;\n    padding: .6rem;\n    margin-bottom: 0.6rem;\n    height: 56px;\n    overflow: hidden;\n    box-shadow: inset 0px 0px 10px -5px rgba(0,0,0,.5);\n}\n.widget-fields.active-fields, .widget-fields:hover{\n    opacity:1;\n    height: auto;\n    box-shadow: none;\n}\n.widget-fields::before {\n    content: attr(data-step);\n    position: absolute;\n    background-color: rgba(236, 236, 236, 0.9);\n    border-radius: 0.4rem;\n    padding: 0.3rem;\n    display: block;\n    width: 85%;\n    border: 3px dashed #999;\n    text-align: center;\n    z-index: 9;\n}\n.widget-fields.active-fields::before, .widget-fields:hover::before{\n    display:none;\n}\n.widget-fields .tt-below{\n    margin-bottom: .6em;\n}\n.preview-book .wap-front{\n    min-width: 360px;\n    margin: 1rem;\n}\n.colors-fields legend {\n    display: block;\n    width: auto;\n    max-width: 100%;\n    padding: 0;\n    margin-bottom: 0;\n    font-size: 1rem;\n    line-height: inherit;\n    color: inherit;\n    white-space: normal;\n}\n.colors-fields fieldset {\n    min-width: 0;\n    padding: .4rem;\n    margin: 0;\n    border: 1px solid #ccc;\n    display: flex;\n}\n.colors-fields fieldset .wap-color-picker {\n    margin-right:.5rem;\n}\n.btn-switch-edit{\n    width: 90px;\n}\n#editor-bar{\n    position: sticky;\n    top: 6rem;\n}\n\n",""])},sEG9:function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},sHVe:function(t,e,n){"use strict";var i=n("IXoI");var s,o,a={extends:n("XfSa").a,props:{list:{type:String},defaultEmail:{type:String},buttonLabel:{type:String,default:"Subscribe"},placeholder:{type:String,default:"Enter an email"},statuses:{type:Array},subscribeOtherEmail:{type:String,default:"Use another email"}},data:function(){return{serviceWappointment:null,email:"",changeEmail:!1,serverValidationErrors:void 0}},created:function(){this.serviceWappointment=this.$vueService(new i.a),this.email=this.defaultEmail},computed:{hasEmailError:function(){return this.getFieldErrors("email")},isValid:function(){return""!=this.email},canSubscribe:function(){return!this.isSubscribed||!0===this.changeEmail},isSubscribed:function(){if(!this.statuses)return!1;var t=this.defaultEmailList;return!1!==t&&void 0!==t.lists[this.list]},defaultEmailList:function(){var t=this.defaultEmail,e=this.statuses.filter(function(e){return e.email==t});return 1==e.length&&e[0]}},methods:{getFieldErrors:function(t){return void 0!==this.serverValidationErrors&&void 0!==this.serverValidationErrors[t]&&this.serverValidationErrors[t]},subscribeAgain:function(){this.changeEmail=!0,this.email=""},successSubscribed:function(t){this.$WapModal().notifySuccess(t.data.message),void 0!==t.data.result&&void 0!==t.data.result.statuses&&this.$emit("updatedStatuses",t.data.result.statuses)},failedRequestWrap:function(t){this.failedRequest(t),void 0!==t.response&&void 0!==t.response.data.data.errors.validations&&(this.serverValidationErrors=t.response.data.data.errors.validations)},subscribe:function(){this.$WapModal().request(this.subscribeWappointmentRequest()).then(this.successSubscribed).catch(this.failedRequestWrap)},subscribeWappointmentRequest:(s=regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceWappointment.call("subscribe",{list:this.list,email:this.email});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}),o=function(){var t=s.apply(this,arguments);return new Promise(function(e,n){return function i(s,o){try{var a=t[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});e(r)}("next")})},function(t){return o.apply(this,arguments)})}},r=n("KHd+"),c=Object(r.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.canSubscribe?n("div",{staticClass:"mb-3"},[t._t("default"),t._v(" "),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:{"is-invalid":t.hasEmailError},attrs:{type:"email",placeholder:t.placeholder,"aria-label":t.placeholder},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-primary",on:{click:t.subscribe}},[n("span",{staticClass:"dashicons dashicons-email"}),t._v(" "+t._s(t.buttonLabel))])]),t._v(" "),t.hasEmailError?n("div",{staticClass:"invalid-feedback"},t._l(t.getFieldErrors("email"),function(e){return n("p",{staticClass:"m-0"},[t._v(" "+t._s(e))])}),0):t._e()])],2):n("div",{staticClass:"small"},[n("p",{staticClass:"d-flex align-items-center m-0"},[n("span",{staticClass:"dashicons dashicons-yes text-success"}),t._v(" "),n("span",[t._v("Subscribed ("+t._s(t.defaultEmail)+")")])]),t._v(" "),n("button",{staticClass:"btn btn-link btn-sm",on:{click:t.subscribeAgain}},[t._v(t._s(t.subscribeOtherEmail))])])])},[],!1,null,null,null);e.a=c.exports},sOHC:function(t,e,n){"use strict";var i=n("uNkp");n.n(i).a},sTsL:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-front .step-BookingStaffSelection .wap-form-body,\n.overflowhidden.step-staff_selection .wap-form-body{\n    margin-top: 0;\n}\n.wap-front.large-version .wap-wid.step-BookingStaffSelection {\n    max-width:100%;\n}\n\n",""])},sc10:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.bullet-title{\n    color: #777;\n    border-bottom: 1px solid #c2c1cc;\n    font-weight: bold;\n}\n.bullet-wap{\n    border: 1px solid var(--primary);\n    padding: .35rem;\n    border-radius: 1.2rem;\n    height: 2rem;\n    width: 2rem;\n    display: inline-block;\n    text-align: center;\n    font-size: 1rem;\n    color: var(--primary);\n    margin-right: .5rem;\n    background-color: #fff;\n}\n.changename .label-wrapper{\n    margin-bottom: 0 !important;\n}\n.account-selector{\n    max-width: 380px;\n}\n",""])},squi:function(t,e,n){"use strict";var i=n("R+kQ");n.n(i).a},t2Av:function(t,e,n){var i=n("AlqU");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("5412e82d",i,!0,{})},uAwV:function(t,e,n){"use strict";var i={computed:{mustPay:function(){return-1===[void 0,!1].indexOf(this.service.options.woo_sellable)&&!this.wooAddonActive},hasPaidDurations:function(){var t=!0,e=!1,n=void 0;try{for(var i,s=this.service.options.durations[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var o=i.value;if(-1===[void 0,!1,""].indexOf(o.woo_price)&&o.woo_price>0)return!0}}catch(t){e=!0,n=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw n}}}}},s=n("KHd+"),o=Object(s.a)(i,void 0,void 0,!1,null,null,null);e.a=o.exports},uChi:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n#shortcode_block{\n    border: 2px solid var(--primary);\n    border-radius: .3rem;\n    padding: 1rem;\n    text-align: center;\n}\n#shortcode_block p{\n    font-size: 1.4rem;\n}\n.shortcode-editor{\n    max-width:600px;\n}\n.shortcode-gen{\n    background-color: #f5f5f5;\n    padding: .5em;\n    border-radius: .4em;\n}\n\n",""])},uNkp:function(t,e,n){var i=n("p/zG");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("404dfd4e",i,!0,{})},unoB:function(t,e,n){var i=n("JRvF");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("4c186633",i,!0,{})},vkCh:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'\n.wap-front .staff-av {\n    position:relative;\n}\n.wap-front .staff-av .after{\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  content: "\\F463";\n  transition: .3s ease;\n  background-color: transparent;\n  border-radius: 50%;\n  opacity:0;\n}\n.wap-front .staff-av:hover .after{\n  background-color: rgba(210, 210, 210, 0.8);\n  opacity:1;\n}\n.wap-front .staff-av .ic-refresh {\n  fill: #fff;\n}\n.wap-front .wap-head {\n    position: absolute;\n    width: 100%;\n    height: 62px;\n    overflow: hidden;\n}\n.wap-front .wap-head:hover{\n    height: auto;\n    min-height:62px;\n}\n.wap-front .wap-head.showall{\n    height:100%;\n}\n.wap-front .wap-head > div {\n    padding: 8px;\n}\n.wap-front .wap-form-body{\n    max-height: calc(85vh);\n    margin-top:62px;\n}\n.wap-front .wap-bf.show.has-scroll .wap-head {\n    box-shadow: 0px 4px 10px -10px rgba(0,0,0,.9);\n}\n.wap-front .wap-head .staff-desc {\n    padding-left: .4em;\n    line-height: 1.2;\n    font-size: 1em;\n    width: 100%;\n}\n.wap-front .staff-av img{\n    max-width: 46px;\n    display: block;\n    overflow: hidden;\n    font-size: 12px;\n}\n.wap-front .header-service {\n    font-weight: normal;\n    font-size:.9em;\n}\n.wap-front .header-service .wduration{\n    font-weight: bold;\n    float: right;\n}\n.staff-av .wstaff-img{\n    width: 46px;\n    height: 46px;\n    border-radius: 50%;\n    background-size: cover;\n    margin-right: 0;\n    border:2px solid #eaeaea;\n    background-color:#fff;\n}\n.selectable-staff{\n    cursor: pointer;\n}\n.compact-servicename{\n    max-width: 75%;\n    display: inline-block;\n}\n.wcan-edit{\n    cursor: pointer;\n    text-decoration: underline;\n}\n\n',""])},vlcP:function(t,e,n){var i=n("s2bw");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("ee3a9638",i,!0,{})},wUn3:function(t,e,n){"use strict";var i={extends:n("SO17").a,data:function(){return{nItems:14,cName:"wap-bar"}}},s=(n("es6V"),n("KHd+")),o=Object(s.a)(i,void 0,void 0,!1,null,null,null);e.a=o.exports},whSN:function(t,e,n){"use strict";var i=new RegExp("[^#a-f\\d]","gi"),s=new RegExp("^#?[a-f\\d]{3}[a-f\\d]?$|^#?[a-f\\d]{6}([a-f\\d]{2})?$","i"),o={methods:{hx_rgb:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.toStringRgba(this.hexToRgbA(t),e)},toStringRgba:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"rgba("+t.r+","+t.g+","+t.b+","+(!1===e?t.a:e)+")"},hexToRgbA:function(t){if("string"!=typeof t||i.test(t)||!s.test(t))return"#ccc";var e=1;8===(t=t.replace(/^#/,"")).length&&(e=parseInt(t.slice(6,8),16)/255,t=t.slice(0,6)),4===t.length&&(e=parseInt(t.slice(3,4).repeat(2),16)/255,t=t.slice(0,3)),3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var n=parseInt(t,16);return{r:n>>16,g:n>>8&255,b:255&n,a:e}}}},a=n("KHd+"),r=Object(a.a)(o,void 0,void 0,!1,null,null,null);e.a=r.exports},wmiY:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,'\n.wap-bf{\n    transition: box-shadow ease-in-out .3s;\n}\n.wap-bf.show{\n    box-shadow: 0px 8px 10px 0 rgba(0,0,0,.08);\n    overflow: hidden;\n    position: relative;\n}\n.d-flex.ddays > div{\n    width: 14.3%;\n    text-align: center;\n}\n.wap-front .calendarMonth .ddays {\n    min-height: 1.1em;\n    margin: .4em 0;\n}\n.wap-front .mr-2,\n.wap-front .mx-2{\n    margin-right: .4em !important;\n}\nhtml[dir=rtl] .wap-front .mr-2, \nhtml[dir=rtl] .wap-front .mx-2 {\n  margin-right: 0 !important;\n  margin-left: .4em !important;\n}\n.wap-front .ml-2,\n.wap-front .mx-2{\n    margin-left: .4em !important;\n}\n.wap-front .mb-2,\n.wap-front .my-2{\n    margin-bottom: .4em !important;\n}\n.wap-front .mt-2,\n.wap-front .my-2{\n    margin-top: .4em !important;\n}\n.wap-front .p-2 {\n    padding: .5em !important;\n}\n.wap-front .pl-2 {\n    padding-left: .5em !important;\n}\n.wap-front .slotsPane{\n    box-shadow: inset 0px 0px 10px rgba(0,0,0,.14);\n    border-radius: .2em;\n    overflow: hidden;\n    margin-top: .3em;\n}\n.wap-front [data-tt]:not([data-tt=""]) {\n  cursor: pointer;\n}\n.wap-front [data-tt]:hover {\n  position: relative;\n  z-index: 2;\n}\n.wap-front [data-tt]:before,\n.wap-front [data-tt]:after {\n  visibility: hidden;\n  opacity: 0;\n  pointer-events: none;\n}\n.wap-front [data-tt]:before {\n  position: absolute;\n  bottom: 150%;\n  left: 50%;\n  margin-bottom: -5px;\n  margin-left: -48px;\n  padding: 7px;\n  width: auto;\n  border-radius: 3px;\n  content: attr(data-tt);\n  text-align: center;\n  font-size: 14px;\n  line-height: 1.2;\n}\n.wap-front .first-day[data-tt]::before {\n  left: calc( 100% + 100%/3);\n  right: auto;\n}\n.wap-front .last-day[data-tt]::before {\n  right: calc( -100% /3 );\n  left: auto;\n}\n.wap-front [data-tt]:after {\n  position: absolute;\n  bottom: 150%;\n  left: 50%;\n  margin-left: -5px;\n  width: 0;\n  border-right: 5px solid transparent;\n  border-left: 5px solid transparent;\n  content: " ";\n  font-size: 0;\n  line-height: 0;\n  margin-bottom: -10px;\n}\n.wap-front [data-tt]:hover:before,\n.wap-front [data-tt]:hover:after,\n.wap-front [data-tt].hover:before,\n.wap-front [data-tt].hover:after {\n  visibility: visible;\n  opacity: 1;\n}\n.wap-front .confirmation-cell .success,\n.wap-front .wap-form-body .success .text-conf {\n    color: var(--wappo-success-tx);\n}\n.wap-front .wap-form-body{\n    background-color: var(--wappo-body-bg);\n}\n.wclosable .wclose::before, \n.wclosable .wclose::after {\n    background-color: var(--wappo-pri-tx);\n}\n.wclosable .wclose:hover::before, \n.wclosable .wclose:hover::after {\n    background-color: #fff;\n}\n.wap-bf button {\n    font-size: .7em;\n}\n.wap-front .confirm-form form{\n    text-align: left;\n}\n.wap-front .wap-form-body .timezone {\n    text-align: center;\n    font-size: .75em;\n}\n.wap-front.large-version .wrap-calendar {\n    max-height: none;\n}\n.wap-front .wrap-calendar {\n    border-top: none;\n}\n.wap-front .wrap-calendar.step-BookingCalendar .slotsPane {\n    overflow-y: scroll;\n    overflow-x: hidden;\n    max-height: 200px;\n}\n.wap-form-body p, .wap-form-body hr{\n    margin: 0 0 .4em;\n    font-size: .9em;\n}\n.wap-front .dayselected{\n    font-weight: bold;\n    border-radius: 2em;\n    box-shadow: 0px 0px 6px rgba(0,0,0,.1);\n}\n.wap-front .dayselected span{\n    text-decoration: none !important;\n    color:#fff;\n}\n.wap-front .w100{\n    width:100%;\n}\n.wap-front .wbtn-confirm span.wbtn, \n.wap-front .wbtn-confirm .wbtn.wbtn-secondary {\n    font-size: 1em;\n    margin: 0 !important;\n}\n.wap-front .wbtn-confirm .wbtn-secondary.wbtn {\n    margin-right: .5em !important;\n}\n.slide-fade-enter-active, \n.slide-fade-leave-active, \n.slide-fade-side-sm-right-enter-active, \n.slide-fade-side-sm-right-leave-active,\n.slide-fade-side-sm-left-enter-active,  \n.slide-fade-side-sm-left-leave-active{\n  transition: all .3s ease;\n}\n.slide-fade-sm-enter-active, \n.slide-fade-sm-leave-active \n{\n  transition: all .6s ease;\n}\n.slide-fade-enter, \n.slide-fade-leave-to {\n  transform: translateY(100px);\n  opacity: 0;\n}\n.slide-fade-sm-enter-to, \n.slide-fade-sm-leave {\n  max-height: 100vh;\n  opacity:1;\n}\n.slide-fade-sm-enter, \n.slide-fade-sm-leave-to {\n  max-height: 0;\n  opacity:0;\n}\n.slide-fade-side-sm-right-leave-to, \n.slide-fade-side-sm-left-enter  {\n  transform: translateX(40px);\n  opacity: 0;\n}\n.slide-fade-side-sm-right-enter, \n.slide-fade-side-sm-left-leave-to  {\n  transform: translateX(-40px);\n  opacity: 0;\n}\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .5s;\n}\n.fade-enter, .fade-leave-to  {\n  opacity: 0;\n}\n.wap-bf .field-required inoput{\n    transition: border-right ease-in-out .3s;\n}\n.wap-front .form-control, \n.wap-front .phone-field{\n    width: 100%;\n    font-weight: 400;\n    line-height: 1.5;\n    color: var(--wappo-input-col);\n    background-color: #fff;\n    background-clip: padding-box;\n    border: 1px solid var(--wappo-input-bor);\n    border-radius: .25em;\n    transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n}\n.wap-front .form-control{\n    display: block;\n    padding: .375em .75em;\n}\n.wap-front .phone-field input.tel, \n.wap-front input.form-control {\n    font-size: 16px;\n    height: calc(2.25em + 2px);\n    margin: 0;\n}\n.wap-front .form-control::-ms-expand {\n  background-color: transparent;\n  border: 0;\n}\n.wap-front .form-control::-webkit-input-placeholder,\n.wap-front .form-control::-moz-placeholder,\n.wap-front .form-control:-ms-input-placeholder,\n.wap-front .form-control::-ms-input-placeholder,\n.wap-front .form-control::placeholder  {\n  color: var(--wappo-input-ph);\n  opacity: 1;\n}\n.wap-front .form-control:disabled, \n.form-control[readonly] {\n  background-color: #e9ecef;\n  opacity: 1;\n}\n.wap-front .field-required .phone-field{\n    width: 100%;\n}\n.wap-front .mr-0 {\n    margin-right: 0 !important;\n}\n.wap-front .m-0 {\n    margin: 0 !important;\n}\n.wap-front .hide-loading{\n    display:none;\n}\n.wap-front .max400{\n    max-width:400px;\n    margin:0 auto;\n}\n.wap-front .has-scroll .wap-form-body{\n    overflow-y: scroll;\n    overflow-x: hidden;\n}\n.wap-front .wap-form-body,\n.wap-front .wlabel,\n.wap-front .wrap-calendar div, \n.wap-front .wrap-calendar div a\n{\n    color: var(--wappo-body-tx);\n}\n.wbtn.wbtn-secondary .wduration,\n.wbtn.wbtn-secondary .wap-img svg,\n.wbtn.wbtn-secondary .service-label .service-name,\n.wbtn.wbtn-secondary .service-label .service-price,\n.wbtn.wbtn-secondary .service-label .service-price .price-currency{\n    color: var(--wappo-sec-tx);\n}\n.wap-front .wap-head .staff-desc, \n.wap-front .wap-head strong {\n    color: var(--wappo-header-tx);\n}\n.wap-front .wap-head img{\n    border-radius: 50%;\n}\n.wap-front .wbtn-cell{\n    text-align: center;\n    padding: .4em;\n}\n.wap-front .form-control:focus {\n    outline: 0;\n}\n.wap-front .confirmation-cell .success {\n    padding: .2em .8em;\n    border-radius: 5px;\n    overflow: hidden;\n    font-size: .8em;\n}\n.wap-booking-fields .wap-field{\n    margin-bottom: .4em !important;\n}\n.wap-wid.wclosable > .wclose:hover::before, \n.wap-wid.wclosable > .wclose:hover::after {\n    background-color: var(--wappo-header-tx);\n}\n\n\n/* @media only screen and (max-width: 500px) {\n    .wap-front .has-scroll .wap-form-body{\n        max-height:75vh;\n    }\n} */\n\n',""])},wyKA:function(t,e){t.exports=function(t){this.message=t,this.name="InvalidMonthError"}},xJv6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=[],s="M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z";e.definition={prefix:"fas",iconName:"edit",icon:[576,512,i,"f044",s]},e.faEdit=e.definition,e.prefix="fas",e.iconName="edit",e.width=576,e.height=512,e.ligatures=i,e.unicode="f044",e.svgPathData=s},xX18:function(t,e,n){"use strict";var i=n("LFG5");n.n(i).a},xa6k:function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"suffix",value:function(){return"wappointment/v1"}},{key:"endpoints",value:function(){return{save:{method:"post",route:"/services/booking",timeout:2e4},bookadmin:{method:"post",route:"/services/booking/admin"},fetch:{method:"post",route:"/services/booking/fetch"},get:{method:"get",route:"/services/booking"},delete:{method:"delete",route:"/services/booking"}}}}]),t}();e.a=s},y43P:function(t,e,n){"use strict";var i=n("VQM7"),s=n("XfSa"),o=n("Qi5d"),a=n("oV90"),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["a"]),r(e,[{key:"endpoints",value:function(){return{create:{method:"post",route:"/pages"}}}}]),e}();var l,d,u={extends:s.a,props:{page_id:{type:Number,default:0},page_link:{type:String},widgetDefault:{type:Object},save:{type:Boolean,default:!1},forceCreation:{type:Boolean,default:!1}},data:function(){return{bookingpage:!1,showWidget:!0,params:{autoOpen:!1,largeVersion:!1,week:!1,demoAs:!0,center:!1,popup:!0},editpagedetails:!1,booking_page_id:0,page:{title:"Booking page",slug:"booking-page",status:"publish",content:""}}},created:function(){this.serviceWPPages=this.$vueService(new c),this.booking_page_id=this.page_id,0===this.booking_page_id&&(this.bookingpage=!0)},components:{Front:i.a,ShortcodeGenerator:o.a,InputPh:window.wappoGet("InputPh")},watch:{bookingpage:function(){this.$emit("canSave",this.bookingpage)}},methods:{createPage:function(){this.request(this.createPageRequest,void 0,void 0,!1,this.successCreatedPage)},createPageRequest:(l=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceWPPages.call("create",Object.assign({},this.page));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}),d=function(){var t=l.apply(this,arguments);return new Promise(function(e,n){return function i(s,o){try{var a=t[s](o),r=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});e(r)}("next")})},function(){return d.apply(this,arguments)}),successCreatedPage:function(t){void 0!==t.data&&void 0!==t.data.id&&t.data.id>0&&(this.booking_page_id=t.data.id,this.settingSave("booking_page",this.booking_page_id),this.$emit("saved",this.booking_page_id))},updateShortCode:function(t,e){this.page.content="\x3c!-- wp:shortcode --\x3e"+t+"\x3c!-- /wp:shortcode --\x3e",this.showWidget=!1,setTimeout(this.delaychangeRefresh.bind(null,e),100)},delaychangeRefresh:function(t){for(var e in t)t.hasOwnProperty(e)&&(this.params[e]=t[e]);this.showWidget=!0}}},p=(n("VaHL"),n("KHd+")),h=Object(p.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[0===t.booking_page_id?n("div",{staticClass:"d-flex"},[n("div",{staticClass:"booking-widget-editor-wizard wrapper-widget-style"},[t.showWidget?n("Front",{attrs:{classEl:"wappointment_widget",attributesEl:t.params}}):t._e()],1),t._v(" "),n("div",{staticClass:"ml-4"},[n("div",[t.forceCreation?t._e():n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.bookingpage,expression:"bookingpage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.bookingpage)?t._i(t.bookingpage,null)>-1:t.bookingpage},on:{change:function(e){var n=t.bookingpage,i=e.target,s=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.bookingpage=n.concat([null])):o>-1&&(t.bookingpage=n.slice(0,o).concat(n.slice(o+1)))}else t.bookingpage=s}}}),t._v(" "+t._s(t.get_i18n("wizard_4_create","wizard"))+"\n                ")]),t._v(" "),t.bookingpage||t.forceCreation?n("div",[n("div",{staticClass:"d-flex"},[n("InputPh",{attrs:{ph:t.get_i18n("bwe_page_edit","common")},model:{value:t.page.title,callback:function(e){t.$set(t.page,"title",e)},expression:"page.title"}}),t._v(" "),t.editpagedetails?t._e():n("div",{staticClass:"btn btn-link btn-xs",attrs:{role:"button"},on:{click:function(e){t.editpagedetails=!0}}},[t._v(t._s(t.get_i18n("bwe_page_edit","common")))])],1),t._v(" "),t.editpagedetails?n("div",[n("InputPh",{attrs:{ph:t.get_i18n("bwe_page_slug","common")},model:{value:t.page.slug,callback:function(e){t.$set(t.page,"slug",e)},expression:"page.slug"}}),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.page.status,expression:"page.status"}],attrs:{type:"radio",id:"publish",value:"publish"},domProps:{checked:t._q(t.page.status,"publish")},on:{change:function(e){t.$set(t.page,"status","publish")}}}),t._v(" "),n("label",{attrs:{for:"male"}},[t._v("Publish")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.page.status,expression:"page.status"}],attrs:{type:"radio",id:"draft",value:"draft"},domProps:{checked:t._q(t.page.status,"draft")},on:{change:function(e){t.$set(t.page,"status","draft")}}}),t._v(" "),n("label",{attrs:{for:"female"}},[t._v("Draft")])])],1):t._e(),t._v(" "),n("div",{staticClass:"my-2"},[t._v(t._s(t.get_i18n("bwe_widget_settings","common")))]),t._v(" "),t.bookingpage||t.forceCreation?n("div",{staticClass:"pl-4 small"},[n("ShortcodeGenerator",{attrs:{title:"Book now",preview:!1,simple:!0,popupInit:!0},on:{change:t.updateShortCode}})],1):t._e(),t._v(" "),t.save?n("button",{staticClass:"btn btn-primary btn-lg btn-block",on:{click:t.createPage}},[t._v(t._s(t.get_i18n("bwe_create_bp","common")))]):t._e()]):t._e()])])]):n("div",[n("h5",{staticClass:"text-primary"},[t._v(t._s(t.get_i18n("bwe_page_bp_exist_already","common")))]),t._v(" "),n("a",{staticClass:"btn btn-secondary",attrs:{href:"post.php?post="+t.booking_page_id+"&action=edit",target:"_blank"}},[n("span",{staticClass:"dashicons dashicons-edit"}),t._v(" "+t._s(t.get_i18n("bwe_page_edit","common"))+"\n        ")]),t._v(" "),n("a",{staticClass:"btn btn-secondary",attrs:{href:t.page_link,target:"_blank"}},[n("span",{staticClass:"dashicons dashicons-calendar-alt"}),t._v(" "+t._s(t.get_i18n("bwe_page_view","common"))+"\n        ")])])])},[],!1,null,null,null);e.a=h.exports},"yFz+":function(t,e,n){"use strict";var i=n("Xx3G");n.n(i).a},zXQP:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.wap-front .wap-booking-fields label{\n    color: var(--wappo-body-tx);\n}\n.wap-front .phone-field .dropdown ul {\n    position: initial;\n    max-width: 266px;\n    min-width: 224px;\n    margin-top: 12px;\n    overflow-y: scroll !important;\n    overflow: hidden;\n}\n.wap-front .phone-field .dropdown {\n    border-radius: .2em;\n}\n.wap-front .phone-field .dropdown.open + input {\n    display:none;\n}\n.wap-front .address-service{\n    border-radius: .2em;\n    padding: .3em;\n    margin: auto;\n    text-align: left;\n    margin-bottom: .6rem;\n}\n.wap-front .address-service .icon-address{\n    padding: 0 .3em;\n}\n.wap-front .address-service address{\n    margin-left: .6em;\n}\n.wap-booking-fields label{\n    margin-bottom: 0;\n    font-size: .9em;\n}\n.wap-terms{\n    font-size: .7em;\n    text-align: left;\n    line-height: 1.4;\n    margin-bottom: .3em;\n}\n.wap-front .wrounded{\n  border-radius : 50%;\n}\n.wap-front .wshadow{\n  box-shadow: inset 0px 8px 10px 0 rgba(0,0,0,.08);\n}\n.wap-front .form-summary .wselected {\n    display: inline-flex !important;\n    font-size: .8em;\n}\n\n",""])},zcf8:function(t,e,n){"use strict";var i=n("5CGA");n.n(i).a}}]);