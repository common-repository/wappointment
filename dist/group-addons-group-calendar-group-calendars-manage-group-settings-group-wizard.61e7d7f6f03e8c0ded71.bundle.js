(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2C5f":function(t,e,n){var i=n("nmxd");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("0d3ee8fb",i,!0,{})},"6D5c":function(t,e,n){"use strict";var i=n("j2Ft");n.n(i).a},"9K17":function(t,e,n){"use strict";var i=n("TfOC");n.n(i).a},BYjS:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.ghost{\n    background-color: rgb(185, 206, 212);\n    position: absolute;\n    width: 100%;\n    border-radius:.6rem;\n}\n.drag-helper{\n    position: relative;\n    z-index: 6;\n}\n.ghost-wrapper{\n    position: relative;\n    z-index: 5;\n}\n.events{\n    position: absolute;\n    z-index: 4;\n    height: 100%;\n    width: 100%;\n}\n.timeText{\n    color:#fff;\n    font-size: .8rem;\n}\n.columnTitle{\n    font-size: .9rem;\n    text-transform: capitalize;\n    font-weight: normal;\n    color:#acacac;\n}\n.day-column{\n    min-width: 100px;\n    margin: 0 1rem;\n    text-align: center;\n    width: 100%;\n    padding-top: 38px;\n}\n.day-column .columnTitle{\n    font-weight: bold;\n}\n@media (max-width: 769px) {\n.columnTitle{\n        font-size: .8rem;\n}\n.columnTitle .dashicons, .columnTitle .dashicons-before::before {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        font-size: 14px;\n        vertical-align: sub;\n}\n}\n",""])},BzOw:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.min-w250{\n    min-width: 250px;\n}\n",""])},EjpI:function(t,e,n){"use strict";var i={methods:{hasPermission:function(t){return-1!==window.apiWappointment.wp_user.permissions.indexOf(t)}},computed:{isUserAdministrator:function(){return this.hasPermission("administrator")||this.hasPermission("wappointment_manager")},canDeleteClient:function(){return this.isUserAdministrator||this.hasPermission("wappo_clients_del")},canEditClient:function(){return this.isUserAdministrator||this.hasPermission("wappo_clients_edit")}}},s=n("KHd+"),a=Object(s.a)(i,void 0,void 0,!1,null,null,null);e.a=a.exports},ExKo:function(t,e,n){var i=n("ZCf4");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("df17caae",i,!0,{})},"HNi+":function(t,e,n){"use strict";var i={props:["elements","current","funcDisplay"],data:function(){return{toggle:!1}},methods:{selectElement:function(t){this.$emit("selected",t),this.toggle=!1}}},s=n("KHd+"),a=Object(s.a)(i,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.elements.length>1?n("div",{staticClass:"dropdown d-flex align-self-center",class:{show:t.toggle}},[n("button",{staticClass:"btn btn-link dropdown-toggle btn-xs",attrs:{type:"button"},on:{click:function(e){t.toggle=!t.toggle}}},[t._v("\n            "+t._s(t.funcDisplay(t.current))+" \n        ")]),t._v(" "),n("div",{staticClass:"dropdown-menu",class:{show:t.toggle}},t._l(t.elements,function(e){return n("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(n){t.selectElement(e)}}},[t._v(" "+t._s(t.funcDisplay(e))+" ")])}),0)]):n("div",{staticClass:"align-self-center text-muted"},[t._v("\n        "+t._s(t.funcDisplay(t.current))+" \n    ")])])},[],!1,null,null,null);e.a=a.exports},"LB0/":function(t,e,n){"use strict";function i(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)}function s(t,e,n){var s=t,a=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(function(t){return i(s[t])});if(!i(s[a]))return!1;do{if(s[a](e))return!0;if(s===n)return!1;s=s.parentNode}while(s);return!1}var a={replace:!0,name:"VueDraggableResizable",props:{active:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},extraClasses:{type:Array,default:function(){return[]}},w:{type:String,default:"200"},h:{type:Number,default:10,validator:function(t){return t>0}},minw:{type:String,default:"100%"},minh:{type:Number,default:10,validator:function(t){return t>0}},x:{type:Number,default:0,validator:function(t){return"number"==typeof t}},y:{type:Number,default:0,validator:function(t){return"number"==typeof t}},z:{type:[String,Number],default:"auto",validator:function(t){return"string"==typeof t?"auto"===t:t>=0}},handles:{type:Array,default:function(){return["tm","bm"]},validator:function(t){var e=new Set(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Set(t.filter(function(t){return e.has(t)})).size===t.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"y",validator:function(t){return-1!==["x","y","both"].indexOf(t)}},grid:{type:Array,default:function(){return[100,50]}},parent:{type:Boolean,default:!0},maximize:{type:Boolean,default:!1}},created:function(){this.parentX=0,this.parentW=9999,this.parentY=0,this.parentH=9999,this.mouseX=0,this.mouseY=0,this.lastMouseX=0,this.lastMouseY=0,this.mouseOffX=0,this.mouseOffY=0,this.elmX=0,this.elmY=0,this.elmW=0,this.elmH=0},mounted:function(){document.documentElement.addEventListener("mousemove",this.handleMove,!0),document.documentElement.addEventListener("mousedown",this.deselect,!0),document.documentElement.addEventListener("mouseup",this.handleUp,!0),document.documentElement.addEventListener("touchmove",this.handleMove,!0),document.documentElement.addEventListener("touchend touchcancel",this.deselect,!0),document.documentElement.addEventListener("touchstart",this.toucheStart,!0),this.elmX=parseInt(this.$el.style.left),this.elmY=parseInt(this.$el.style.top),this.elmW=this.$el.offsetWidth||this.$el.clientWidth,this.elmH=this.$el.offsetHeight||this.$el.clientHeight,this.reviewDimensions()},beforeDestroy:function(){document.documentElement.removeEventListener("mousemove",this.handleMove,!0),document.documentElement.removeEventListener("mousedown",this.deselect,!0),document.documentElement.removeEventListener("mouseup",this.handleUp,!0),document.documentElement.removeEventListener("touchmove",this.handleMove,!0),document.documentElement.removeEventListener("touchend touchcancel",this.deselect,!0),document.documentElement.removeEventListener("touchstart",this.toucheStart,!0)},data:function(){return{top:this.y,left:this.x,width:"100%",height:this.h,resizing:!1,dragging:!1,enabled:this.active,handle:null,zIndex:this.z}},methods:{getHandleClass:function(t){return["handle-"+t,this.enabled?"handle-show":""]},getClasses:function(){for(var t={draggable:this.draggable,resizable:this.resizable,active:this.enabled,dragging:this.dragging,resizing:this.resizing},e=0;e<this.extraClasses.length;e++)t[this.extraClasses[e]]=!0;return t},enabledFunc:function(){this.enabled||(this.enabled=!0,this.$emit("activated"),this.$emit("update:active",!0))},showControls:function(t){this.dragging||this.resizing||(this.enabledFunc(),this.$emit("toggleControls",!0))},hideControls:function(t){this.dragging||this.resizing||(this.disableFunc(),this.$emit("toggleControls",!1))},reviewDimensions:function(){if(this.minw>this.w&&(this.width=this.minw),this.minh>this.h&&(this.height=this.minh),this.parent){var t=parseInt(this.$el.parentNode.clientWidth,10),e=parseInt(this.$el.parentNode.clientHeight,10);this.parentW=t,this.parentH=e,this.w>this.parentW&&(this.width=t),this.h>this.parentH&&(this.height=e),this.x+this.w>this.parentW&&(this.width=t-this.x),this.y+this.h>this.parentH&&(this.height=e-this.y)}this.elmW=this.width,this.elmH=this.height,this.$emit("resizing",this.left,this.top,this.width,this.height)},elmDown:function(t){var e=t.target||t.srcElement;if(this.$el.contains(e)){if(this.dragHandle&&!s(e,this.dragHandle,this.$el)||this.dragCancel&&s(e,this.dragCancel,this.$el))return;this.reviewDimensions(),this.enabledFunc(),this.draggable&&(this.dragging=!0)}},touchDragStart:function(t){this.reviewDimensions(),this.draggable&&(this.dragging=!0)},touchHandleStart:function(t,e){this.handleDown(t,e)},touchDragComplete:function(t){return!1===this.enabled?this.enabledFunc():this.disableFunc(),this.handleUp(t,!0)},touchHandleComplete:function(t,e){this.handleUp(e)},toggleFunc:function(){this.enabled?this.enabled=!1:this.enabledFunc()},deselect:function(t){-1!==t.type.indexOf("touch")?(this.mouseX=t.changedTouches[0].clientX,this.mouseY=t.changedTouches[0].clientY):(this.mouseX=t.pageX||t.clientX+document.documentElement.scrollLeft,this.mouseY=t.pageY||t.clientY+document.documentElement.scrollTop),this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY;var e=t.target||t.srcElement,n=new RegExp("handle-([trmbl]{2})","");this.$el.contains(e)||n.test(e.className)||this.disableFunc()},disableFunc:function(){this.enabled&&(this.enabled=!1,this.$emit("deactivated"),this.$emit("update:active",!1))},handleDown:function(t,e){this.handle=t,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.resizing=!0},fillParent:function(t){var e=this;if(this.parent&&this.resizable&&this.maximize){var n=!1;window.requestAnimationFrame(function t(){n||window.requestAnimationFrame(t),"x"===e.axis?e.width===e.parentW&&e.left===e.parentX&&(n=!0):"y"===e.axis?e.height===e.parentH&&e.top===e.parentY&&(n=!0):"both"===e.axis&&e.width===e.parentW&&e.height===e.parentH&&e.top===e.parentY&&e.left===e.parentX&&(n=!0),"x"!==e.axis&&"both"!==e.axis||(e.width<e.parentW&&(e.width++,e.elmW++),e.left>e.parentX&&(e.left--,e.elmX--)),"y"!==e.axis&&"both"!==e.axis||(e.height<e.parentH&&(e.height++,e.elmH++),e.top>e.parentY&&(e.top--,e.elmY--)),e.$emit("resizing",e.left,e.top,e.width,e.height)})}},handleMove:function(t){var e=-1!==t.type.indexOf("touchmove");this.mouseX=e?t.touches[0].clientX:t.pageX||t.clientX+document.documentElement.scrollLeft,this.mouseY=e?t.touches[0].clientY:t.pageY||t.clientY+document.documentElement.scrollTop;var n=this.mouseX-this.lastMouseX+this.mouseOffX,i=this.mouseY-this.lastMouseY+this.mouseOffY;this.mouseOffX=this.mouseOffY=0,this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY;var s=n,a=i;if(this.resizing){this.handle.indexOf("t")>=0&&(this.elmH-a<this.minh?this.mouseOffY=a-(i=this.elmH-this.minh):this.parent&&this.elmY+a<this.parentY&&(this.mouseOffY=a-(i=this.parentY-this.elmY)),this.elmY+=i,this.elmH-=i),this.handle.indexOf("b")>=0&&(this.elmH+a<this.minh?this.mouseOffY=a-(i=this.minh-this.elmH):this.parent&&this.elmY+this.elmH+a>this.parentH&&(this.mouseOffY=a-(i=this.parentH-this.elmY-this.elmH)),this.elmH+=i),this.handle.indexOf("l")>=0&&(this.elmW-s<this.minw?this.mouseOffX=s-(n=this.elmW-this.minw):this.parent&&this.elmX+s<this.parentX&&(this.mouseOffX=s-(n=this.parentX-this.elmX)),this.elmX+=n,this.elmW-=n),this.handle.indexOf("r")>=0&&(this.elmW+s<this.minw?this.mouseOffX=s-(n=this.minw-this.elmW):this.parent&&this.elmX+this.elmW+s>this.parentW&&(this.mouseOffX=s-(n=this.parentW-this.elmX-this.elmW)),this.elmW+=n),this.left=Math.round(this.elmX/this.grid[0])*this.grid[0],this.width=Math.round(this.elmW/this.grid[0])*this.grid[0];var o=this.top,r=(Math.floor(this.elmY/this.grid[1]),this.grid[1],this.height),l=Math.floor(this.elmH/this.grid[1])*this.grid[1];"tm"==this.handle&&l!=r&&(this.top=o-(l-r)),this.height=l,l!=r&&this.$emit("resizesnapped",this.top,this.height),this.$emit("resizing",this.left,this.top,this.width,this.height)}else if(this.dragging){this.parent&&(this.elmX+s<this.parentX?this.mouseOffX=s-(n=this.parentX-this.elmX):this.elmX+this.elmW+s>this.parentW&&(this.mouseOffX=s-(n=this.parentW-this.elmX-this.elmW)),this.elmY+a<this.parentY?this.mouseOffY=a-(i=this.parentY-this.elmY):this.elmY+this.elmH+a>this.parentH&&(this.mouseOffY=a-(i=this.parentH-this.elmY-this.elmH))),this.elmX+=n,this.elmY+=i;var c=this.top;"x"!==this.axis&&"both"!==this.axis||(this.left=Math.round(this.elmX/this.grid[0])*this.grid[0]),"y"!==this.axis&&"both"!==this.axis||(this.top=Math.round(this.elmY/this.grid[1])*this.grid[1]),this.top!=c&&this.$emit("snapped",this.top)}},toucheStart:function(t){return this.handleUp(t)},handleUp:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];-1!==t.type.indexOf("touch")&&(this.lastMouseX=t.changedTouches[0].clientX,this.lastMouseY=t.changedTouches[0].clientY),this.handle=null,this.resizing&&(this.resizing=!1,this.$emit("resizestop",this.top,this.height)),this.dragging&&(this.dragging=!1,this.$emit("dragstop",this.left,this.top)),this.elmX=this.left,this.elmY=this.top}},computed:{style:function(){return{top:this.top+"px",height:this.height+"px",zIndex:this.zIndex}}},watch:{active:function(t){this.enabled=t},z:function(t){(t>=0||"auto"===t)&&(this.zIndex=t)}}},o=(n("zzVz"),n("KHd+")),r={props:["y","h","daykey","tblockid","timeBlock","minHour","heightUnit"],data:function(){return{maxHour:0,start:0,end:0,editableBlock:!1}},components:{VueDraggableResizable:Object(o.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vdr",class:t.getClasses(),style:t.style,on:{mousedown:function(e){return e.stopPropagation(),t.elmDown(e)},touchstart:function(e){return e.preventDefault(),e.stopPropagation(),t.touchDragStart(e)},touchend:function(e){return e.stopPropagation(),e.preventDefault(),t.touchDragComplete(e)},touchcancel:function(e){return e.stopPropagation(),e.preventDefault(),t.touchDragComplete(e)},dblclick:t.fillParent,mouseover:t.showControls,mouseout:t.hideControls}},[n("div",{staticClass:"handle handle-actions",class:{"handle-show":t.enabled}},[n("div",{staticClass:"d-block dashicons dashicons-trash",on:{touchstart:function(e){if(e.preventDefault(),e.target!==e.currentTarget)return null;t.$emit("delete")},click:function(e){t.$emit("delete")}}}),t._v(" "),t.editable?n("div",{staticClass:"tt-left",attrs:{"data-tt":"Set conditions"}},[n("div",{staticClass:"d-block dashicons dashicons-filter",on:{touchstart:function(e){if(e.preventDefault(),e.target!==e.currentTarget)return null;t.$emit("editBlock")},click:function(e){t.$emit("editBlock")}}})]):t._e()]),t._v(" "),t._l(t.handles,function(e){return t.resizable?n("div",{key:e,staticClass:"handle handle-arrows",class:t.getHandleClass(e),on:{mousedown:function(n){n.stopPropagation(),n.preventDefault(),t.handleDown(e,n)},touchstart:function(n){n.stopPropagation(),n.preventDefault(),t.touchHandleStart(e,n)},touchend:function(n){n.stopPropagation(),n.preventDefault(),t.touchHandleComplete(e,n)},touchcancel:function(n){n.stopPropagation(),n.preventDefault(),t.touchHandleComplete(e,n)}}},[n("div",{class:{"dashicons dashicons-arrow-up-alt":"tm"==e,"dashicons dashicons-arrow-down-alt":"bm"==e}})]):t._e()}),t._v(" "),t._t("default")],2)},[],!1,null,null,null).exports},created:function(){this.maxHour=this.$parent.maxHour,this.start=this.timeBlock[0],this.end=this.timeBlock[1]},mounted:function(){this.$emit("deactive")},computed:{getGrid:function(){return[100,this.heightUnit]}},methods:{convertMinutesToTime:function(t){return this.get_i18n("regav_h","common").replace("%s",Math.floor(t/60))+t%60},toggleControls:function(t){this.showControls=t},keepActive:function(){this.$emit("active")},onResizeStop:function(t,e){this.y==t&&this.h==e||this.$emit("updatedBlock",this.tblockid,this.getHourStart(t),this.getHourEnd(t,e),this.timeBlock),this.$emit("deactive")},onDragstop:function(t,e){this.y!=e&&this.$emit("updatedBlock",this.tblockid,this.getHourStart(e),this.getHourEnd(e,this.h),this.timeBlock),this.$emit("deactive")},onDragSnapped:function(t){this.start=this.getHourStart(t),this.end=this.getHourEnd(t,this.h)},onResizeSnapped:function(t,e){this.start=this.getHourStart(t),this.end=this.getHourEnd(t,e)},getHourStart:function(t){return t+60*this.minHour},getHourEnd:function(t,e){return e+this.getHourStart(t)},getHeightColumn:function(){return(this.maxHour-this.minHour)*this.heightUnit},editBlock:function(){this.$emit("editBlock",this.tblockid)},deleteBlock:function(){this.$emit("deletedBlock",this.tblockid)}}},l=(n("a+0J"),Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vue-draggable-resizable",{attrs:{editable:t.editableBlock,grid:t.getGrid,y:t.y,h:t.h},on:{toggleControls:t.toggleControls,snapped:t.onDragSnapped,resizesnapped:t.onResizeSnapped,dragging:t.keepActive,resizing:t.keepActive,resizestop:t.onResizeStop,dragstop:t.onDragstop,delete:t.deleteBlock,editBlock:t.editBlock}},[n("div",{staticClass:"controls"},[n("div",{staticClass:"timeText"},[n("strong",{key:t.start+t.end,staticClass:"timeText"},[t._v(t._s(t.convertMinutesToTime(t.start))+" - "+t._s(t.convertMinutesToTime(t.end))+" ")])])])])},[],!1,null,null,null).exports),c={props:["daykey","openedTimes","minHour","maxHour","classColumn","heightUnit","precision","newCalendar"],data:function(){return{notchSize:1,startDragAt:0,currentDrag:0,isDragging:!1,ghost:[],lastLayerY:0,active:!1,activeBlock:[],hiddenTimes:!1}},components:window.wappointmentExtends.filter("RegavTimeBlockComponent",{timeBlock:l}),computed:{isAtLeastOneSlot:function(){return this.isDragging&&this.ghost[1]-this.ghost[0]!=0},getGhostStyle:function(){return this.ghost.length>0?"height:"+this.getHeight(this.ghost)+"px;top:"+this.getY(this.ghost[0])+"px;":""},getWrapperGhostStyle:function(){return this.ghost.length>0?"position:absolute;height: 100%;width: 100%;":""},getHeightColumn:function(){return this.totalIntervals*this.heightUnit},totalIntervals:function(){return(this.maxHour-this.minHour)*this.intervalsPerHour},intervalsPerHour:function(){return 60/this.precision}},mounted:function(){this.deactiveDay()},methods:{convertMinutesToTime:function(t){return this.get_i18n("regav_h","common").replace("%s",Math.floor(t/60))+(t%60==0?"":t%60)},activeDay:function(){this.active=!0},deactiveDay:function(){this.active=!1},startCreate:function(t){this.initGhost(t)},getYPositionInCol:function(t){var e=document.getElementById(this.daykey).getBoundingClientRect();return-1!==t.type.indexOf("touch")?t.changedTouches[0].clientY-e.top:t.layerY},initGhost:function(t){this.startDragAt=this.getYPositionInCol(t),this.currentDrag=this.startDragAt+this.heightUnit},toucheComplete:function(t){this.stopCreate(t)},stopCreate:function(t){this.isDragging&&this.createBlock(t),this.ghost=[],this.deactiveDay()},dragging:function(t){this.initGhost(t),this.isDragging=!0,this.activeDay()},touchMove:function(t){return this.draggingMove(t)},draggingMove:function(t){!this.isDragging||"events"!=t.target.className&&"drag-helper"!=t.target.className&&"ghost"!=t.target.className||("events"!=t.target.className&&"drag-helper"!=t.target.className||(this.lastLayerY=t.layerY),this.currentDrag=this.getYPositionInCol(t),"ghost"==t.target.className&&(this.currentDrag+=this.lastLayerY),this.ghost=this.startDragAt>this.currentDrag?[this.convertYToHour(this.currentDrag),this.convertYToHour(this.startDragAt)]:[this.convertYToHour(this.startDragAt),this.convertYToHour(this.currentDrag)])},getHeight:function(t){return t[1]-t[0]},getY:function(t){return t-60*this.minHour},openingTimes:function(){for(var t=[],e=this.minHour;e<this.maxHour;e++)t.push(this.sprintf_i18n("regav_h","common",e));return t},deletedBlock:function(t){var e=this.openedTimes;e.splice(t,1),this.$emit("updatedSlots",this.daykey,e)},createBlock:function(t){this.currentDrag=this.startDragAt=0,this.isDragging=!1;var e=this.openedTimes;0==this.ghost.length&&(this.ghost=[this.convertYToHour(t.layerY),this.convertYToHour(t.layerY+this.heightUnit)]),e.push(this.ghost),this.$emit("updatedSlots",this.daykey,e),this.ghost=[]},updatedBlock:function(t,e,n,i){var s=this.openedTimes;i[0]=e,i[1]=n,s[t]=i,this.hiddenTimes=!0,this.$emit("updatedSlots",this.daykey,s),this.$nextTick(),this.hiddenTimes=!1,this.$nextTick()},editBlock:function(t,e,n,i){this.$emit("editBlock",this.daykey,e,n,i)},convertYToHour:function(t){return 60*this.minHour+Math.floor(t/this.heightUnit)*this.heightUnit}}},h=(n("6D5c"),Object(o.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.classColumn},[n("strong",{staticClass:"columnTitle"},[t._v(t._s(t.daykey))]),t._v(" "),n("div",{class:t.active?"box-shadow active":"box-shadow",style:"height:"+t.getHeightColumn+"px",attrs:{id:t.daykey,draggable:"true"},on:{mousedown:function(e){return e.preventDefault(),e.stopPropagation(),t.dragging(e)},touchstart:function(e){return e.preventDefault(),e.stopPropagation(),t.dragging(e)},mousemove:t.draggingMove,touchmove:t.touchMove,dragstart:function(e){return e.preventDefault(),e.target!==e.currentTarget?null:t.startCreate(e)},mouseup:function(e){return e.preventDefault(),e.stopPropagation(),t.stopCreate(e)},touchend:function(e){return e.preventDefault(),e.stopPropagation(),t.toucheComplete(e)},touchcancel:function(e){return e.preventDefault(),e.stopPropagation(),t.toucheComplete(e)}}},[n("div",{staticClass:"drag-helper",style:t.getWrapperGhostStyle}),t._v(" "),n("div",{staticClass:"ghost-wrapper",style:t.getWrapperGhostStyle},[t.isAtLeastOneSlot?n("div",{staticClass:"ghost",style:t.getGhostStyle},[n("strong",{staticClass:"timeText"},[t._v(t._s(t.convertMinutesToTime(t.ghost[0]))+" - "+t._s(t.convertMinutesToTime(t.ghost[1])))])]):t._e()]),t._v(" "),t.hiddenTimes?t._e():n("div",{staticClass:"events"},t._l(t.openedTimes,function(e,i){return n("timeBlock",{key:t.minHour+t.maxHour+t.daykey+i+e[0]+e[1],attrs:{tblockid:i,timeBlock:e,daykey:t.daykey,y:t.getY(e[0]),h:t.getHeight(e),minHour:t.minHour,heightUnit:t.heightUnit,newCalendar:t.newCalendar},on:{deletedBlock:t.deletedBlock,updatedBlock:t.updatedBlock,active:t.activeDay,deactive:t.deactiveDay,editBlock:t.editBlock}})}),1)])])},[],!1,null,null,null).exports),u={props:["openingTimes","heightUnit","precision"],components:{HoursDropdown:n("HNi+").a},data:function(){return{edittime:!1,durations:[5,10,15,20,30,60]}},computed:{intervals:function(){return 60/this.precision},heightUnitMinusBorder:function(){return this.heightUnit-1/this.intervals}},methods:{changePrecision:function(t){this.$emit("changedPrecision",t)},funcDisplay:function(t){return this.sprintf_i18n("regav_min","common",t)},editTimes:function(){this.edittime=!0},cancelEditTimes:function(){this.edittime=!1},addMin:function(){this.$emit("addMin")},addMax:function(){this.$emit("addMax")},removeMin:function(){this.$emit("removeMin")},removeMax:function(){this.$emit("removeMax")}}},d=(n("XjKC"),Object(o.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hours-col text-center",on:{mouseover:t.editTimes,mouseout:t.cancelEditTimes}},[n("strong",{staticClass:"columnTitle "},[t._v(t._s(t.get_i18n("regav_hours","common")))]),t._v(" "),n("div",{staticClass:"d-flex justify-content-center commands-hours commands-top"},[n("button",{staticClass:"btn btn-secondary btn-xs",attrs:{"data-tt":"Show less hours"},on:{click:t.removeMin}},[t._v("-")]),t._v(" "),n("div",{attrs:{"data-tt":"Change precision each 5min, 10min, 20min etc..."}},[n("HoursDropdown",{attrs:{elements:t.durations,current:t.precision,funcDisplay:t.funcDisplay},on:{selected:t.changePrecision}})],1),t._v(" "),n("button",{staticClass:"btn btn-secondary btn-xs",attrs:{"data-tt":"Show more hours"},on:{click:t.addMin}},[t._v("+")])]),t._v(" "),n("div",{class:t.edittime?"box-shadow box-times active":"box-shadow box-times"},t._l(t.openingTimes,function(e,i){return n("div",{staticClass:"hour-cell"},[n("div",{staticClass:"d-flex align-items-center justify-content-between"},[n("div",t._l(t.intervals,function(e){return n("div",{class:{"hr-interval":e!==t.intervals},style:"height: "+t.heightUnitMinusBorder+"px;"})}),0),t._v(" "),n("div",[t._v(t._s(e))]),t._v(" "),n("div",t._l(t.intervals,function(e){return n("div",{class:{"hr-interval":e!==t.intervals},style:"height: "+t.heightUnitMinusBorder+"px;"})}),0)])])}),0),t._v(" "),n("div",{staticClass:"d-flex justify-content-center commands-hours commands-bottom"},[n("button",{staticClass:"btn btn-secondary  btn-xs",attrs:{"data-tt":"Show less hours"},on:{click:t.removeMax}},[t._v("-")]),t._v(" "),n("div",{attrs:{"data-tt":"Change precision each 5min, 10min, 20min etc..."}},[n("HoursDropdown",{attrs:{elements:t.durations,current:t.precision,funcDisplay:t.funcDisplay},on:{selected:t.changePrecision}})],1),t._v(" "),n("button",{staticClass:"btn btn-secondary  btn-xs",attrs:{"data-tt":"Show more hours"},on:{click:t.addMax}},[t._v("+")])])])},[],!1,null,null,null).exports),m={props:["value","alwaysShow"],data:function(){return{revealed:!1,initvalue:null,definition:{min:1,max:120,step:1,int:!0,unit:"days",classWrapper:"min-w250"}}},components:{FormFieldSlider:n("KmLJ").a},created:function(){this.initvalue=this.value},methods:{changed:function(t){this.$emit("change",t)}}},f=(n("Un0O"),Object(o.a)(m,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.revealed||t.alwaysShow?n("FormFieldSlider",{attrs:{value:t.initvalue,definition:t.definition},on:{change:t.changed}}):n("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.revealed=!0}}},[t._v(" "+t._s(t.initvalue+" "+t.definition.days))])],1)},[],!1,null,null,null).exports),p=n("k8Y/"),g=n.n(p),v={props:{initValue:{},viewData:{},minimal:{type:Boolean,default:!1}},data:function(){return{classColumn:"day-column",notchSize:1,precision:60,minHour:7,maxHour:21,openedDays:{},openedDaysConditional:{},timezone:{},showControls:!1,leftValue:0,scrollStep:133,widthWeekWrapper:0,isMounted:!1,isSmallScreen:window.document.documentElement.clientWidth<1100}},components:{dayColumn:h,hourColumn:d,ClickRevealSlider:f},created:function(){this.openedDays=this.initValue,this.setMinAndMax()},mounted:function(){this.leftValue=this.$refs.regavwrap.scrollLeft,this.widthWeekWrapper=this.$refs.regavwrap.clientWidth,this.isMounted=!0},computed:{controlsShown:function(){return this.isSmallScreen||this.showControls},scrolledAtTheStart:function(){return 0==this.leftValue},scrolledAtTheEnd:function(){var t=this.$refs.regavwrap.scrollWidth-this.$refs.regavwrap.clientWidth;return this.leftValue==t},openingTimes:function(){for(var t=[],e=this.minHour;e<this.maxHour;e++)t.push(this.sprintf_i18n("regav_h","common",e));return t},hourSplits:function(){return 60/this.precision}},methods:{changedPrecision:function(t){this.precision=t},changedCRS:function(t){this.$emit("changedABD",t)},editBlock:function(){},scrolledTrigger:function(){this.leftValue=this.$refs.regavwrap.scrollLeft},scrollToStart:function(){this.$refs.regavwrap.scrollLeft=0,this.leftValue=0},scrollToPrev:function(){var t=this.$refs.regavwrap.scrollLeft-this.scrollStep;this.$refs.regavwrap.scrollLeft=t,this.leftValue=t},scrollToNext:function(){var t=this.$refs.regavwrap.scrollLeft+this.scrollStep;this.$refs.regavwrap.scrollLeft=t,this.leftValue=t},scrollToEnd:function(){var t=this.$refs.regavwrap.scrollWidth-this.$refs.regavwrap.clientWidth;this.$refs.regavwrap.scrollLeft=t,this.leftValue=t},insertHourColumn:function(t){if(-1!==["monday","wednesday","friday","sunday"].indexOf(t))return!0},setMinAndMax:function(){for(var t in this.openedDays){var e=this.openedDays[t];if(Array.isArray(e))for(var n=0;n<e.length;n++){var i=this.convertPrToh(e[n][0]),s=this.convertPrToh(e[n][1]);i<this.minHour&&(this.minHour=i>0?i-1:0),s>this.maxHour&&(this.maxHour=s<24?s+1:24)}}},convertPrToh:function(t){return void 0===this.openedDays.precise?t:Math.floor(t/60)},addMin:function(){this.minHour>0&&(this.minHour--,this.parseOpenedDays())},removeMin:function(){this.minHour++,this.parseOpenedDays()},addMax:function(){this.maxHour<24&&(this.maxHour++,this.parseOpenedDays())},removeMax:function(){this.maxHour--,this.parseOpenedDays()},parseOpenedDays:function(){var t=!1;for(var e in this.openedDays)for(var n=this.openedDays[e],i=0;i<n.length;i++){var s=n[i];s[0]<60*this.minHour&&(t=!0,s[0]=60*this.minHour),s[1]>60*this.maxHour&&(t=!0,s[1]=60*this.maxHour),s[0]==s[1]?this.openedDays[e].splice(i,1):this.openedDays[e][i]=s}t&&this.updatedRegav()},updatedSlots:function(t,e){var n=this.openedDays;n[t]=e,this.openedDays=[],this.openedDays=n,this.refreshTimeBlocks(t)},refreshTimeBlocks:function(t){var e=this.openedDays;this.openedDays=[],e[t]=g()(this.cleanSlots(e[t])),this.openedDays=e,this.updatedRegav()},updatedRegav:function(){this.$emit("updatedDays",this.openedDays)},cleanSlots:function(t){for(var e=[],n=!1,i=0;i<t.length;i++){if(!1===n)for(var s=0;s<t.length;s++)s!==i&&(this.blocksDoNotTouch(t[i],t[s])||(n=[i,s]));(!1===n||!1!==n&&-1===n.indexOf(i))&&e.push(t[i])}return!1!==n?(e.push(this.mergeBlocks(t[n[0]],t[n[1]])),this.cleanSlots(e)):e},mergeBlocks:function(t,e){var n=t[0]<=e[0]?t[0]:e[0],i=t[1]>=e[1]?t[1]:e[1];return n<i?[n,i]:[i,n]},blocksDoNotTouch:function(t,e){return t[1]<e[0]||e[1]<t[0]}}},b=(n("vCwr"),Object(o.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[!1===t.minimal?n("div",{staticClass:"d-flex w100"},[n("div",{staticClass:"columnTitle",attrs:{"data-tt":"Open your calendar for bookings for X days in the future"}},[t._v(t._s(t.get_i18n("regav_step3_avb","common")))]),t._v(" "),n("ClickRevealSlider",{attrs:{alwaysShow:!0,value:t.viewData.avb},on:{change:t.changedCRS}})],1):t._e(),t._v(" "),n("div",{staticClass:"commands-frame d-flex",on:{mouseover:function(e){t.showControls=!0},mouseout:function(e){t.showControls=!1}}},[t.isMounted&&t.controlsShown?n("div",{staticClass:"scroll-top"},[t.scrolledAtTheEnd?n("div",{staticClass:"btn btn-link btn-xs",attrs:{role:"button"},on:{click:t.scrollToStart}},[t._v("<< Start")]):t._e(),t._v(" "),t.widthWeekWrapper<389&&!t.scrolledAtTheStart?n("div",{staticClass:"btn btn-link btn-xs",attrs:{role:"button"},on:{click:t.scrollToPrev}},[t._v("< Prev")]):t._e(),t._v(" "),t.widthWeekWrapper<389&&!t.scrolledAtTheEnd?n("div",{staticClass:"btn btn-link btn-xs",attrs:{role:"button"},on:{click:t.scrollToNext}},[t._v("Next >")]):t._e(),t._v(" "),t.scrolledAtTheEnd?t._e():n("div",{staticClass:"btn btn-link btn-xs",attrs:{role:"button"},on:{click:t.scrollToEnd}},[t._v("End >>")])]):t._e(),t._v(" "),t.precision?n("hourColumn",{attrs:{heightUnit:t.precision,openingTimes:t.openingTimes,precision:t.precision},on:{addMin:t.addMin,addMax:t.addMax,changedPrecision:t.changedPrecision,removeMin:t.removeMin,removeMax:t.removeMax}}):t._e(),t._v(" "),n("div",{ref:"regavwrap",staticClass:"regular-availability d-flex",attrs:{id:"regav-wrapper"},on:{scroll:t.scrolledTrigger}},[t._l(t.openedDays,function(e,i){return["precise"!==i?n("dayColumn",{key:i,class:t.classColumn,attrs:{heightUnit:t.precision,daykey:i,openedTimes:e,minHour:t.minHour,maxHour:t.maxHour,precision:t.precision},on:{updatedSlots:t.updatedSlots,editBlock:t.editBlock}}):t._e()]})],2)],1)])},[],!1,null,null,null));e.a=b.exports},LL4c:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.clickable.label-wrapper,\n.elementsContainer .label-wrapper{\n    margin-bottom: 0!important;\n}\n",""])},P7vD:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.vdr {\n  position: absolute;\n  box-sizing: border-box;\n  padding: 1rem 0;\n  border-radius:.6rem;\n}\n.vdr.draggable {\n    width: 100%;\n}\n.handle {\n  transition: all .3s ease-in-out;\n  opacity: 0;\n  position: absolute;\n  font-size: 1px;\n  z-index:-1;\n}\n.handle-actions .dashicons{\n  cursor: pointer;\n  margin: .2em;\n}\n.handle-arrows {\n  box-sizing: border-box;\n  width: 10px;\n  height: 10px;\n  background: #EEE;\n  border: 1px solid #333;\n}\n.handle-arrows:hover, \n.handle-actions:hover {\n  opacity:1;\n}\n.handle-tm {\n  top: 0;\n  left: 50%;\n  margin-left: -5px;\n  cursor: n-resize;\n}\n.handle-bm {\n  bottom: 0;\n  left: 50%;\n  margin-left: -5px;\n  cursor: s-resize;\n}\n.handle-tm.handle-show {\n  top: -10px;\n}\n.handle-bm.handle-show {\n  bottom: -10px;\n}\n.handle-show{\n  opacity:.4;\n}\n@media only screen and (max-width: 768px) {\n  /* For mobile phones: */\n[class*=\"handle-\"]:before {\n    content: '';\n    left: -10px;\n    right: -10px;\n    bottom: -10px;\n    top: -10px;\n    position: absolute;\n}\n}\n",""])},Rpva:function(t,e,n){var i=n("aGgd");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("161a69be",i,!0,{})},TfOC:function(t,e,n){var i=n("LL4c");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("2a14af44",i,!0,{})},Un0O:function(t,e,n){"use strict";var i=n("u8Zi");n.n(i).a},VyXW:function(t,e,n){"use strict";var i=n("XfSa"),s=n("Hu6n"),a={extends:i.a,components:{WPMedias:s.a},props:{src:"",gravatar:""},data:function(){return{edit:!1,gallery:!1,selectedId:!1,search_term:"",galleryShow:!1}},methods:{changePicture:function(){this.edit=!0},openGallery:function(){this.galleryOn()},close:function(){this.edit=!1,this.gallery=!1},selectedFromGallery:function(t){this.selectedId=t.id},revertToGravatar:function(){this.saveGravatarRequest()},saveNewAvatar:function(t){if(!this.selectedId)return!1;this.saveNewAvatarRequest()},saveGravatarRequest:function(){this.afterSuccess(!1)},saveNewAvatarRequest:function(){this.afterSuccess(this.selectedId)},afterSuccess:function(t){this.close(),this.selectedId=!1,this.$emit("changed",t)},refreshGallery:function(){this.gallery=!1,setTimeout(this.galleryOn,100)},galleryOn:function(){this.gallery=!0}},computed:{styleGravatar:function(){return'background-image: url("'+this.gravatar+'");'},isGravatar:function(){return this.src==this.gravatar}}},o=(n("Zl2H"),n("KHd+")),r=Object(o.a)(a,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"picture-edit"},[n("div",{staticClass:"text-center mr-2 preview-avatar",on:{click:t.changePicture}},[n("div",{staticClass:"avatar-edit"},[n("img",{staticClass:"img-fluid wrounded",attrs:{src:t.src||t.gravatar,width:"40",alt:"avatar"}}),t._v(" "),n("span",{staticClass:"small text-primary",attrs:{href:"javascript:;"}},[t._v(t._s(t.get_i18n("edit","common")))])])]),t._v(" "),t.edit?n("div",{staticClass:"avatar-selection"},[n("span",{staticClass:"close close-gallery",on:{click:t.close}}),t._v(" "),n("div",{staticClass:"d-flex justify-content-around"},[n("button",{staticClass:"staff-av btn btn-secondary d-flex align-items-center",class:[t.isGravatar?"selected":""],on:{click:t.revertToGravatar}},[n("span",{staticClass:"wstaff-img",style:t.styleGravatar,attrs:{role:"img"}}),t._v("\n                Gravatar\n            ")]),t._v(" "),n("button",{staticClass:"staff-av btn btn-secondary d-flex align-items-center",class:[t.isGravatar?"":"selected"],on:{click:t.openGallery}},[t.isGravatar?t._e():n("span",{staticClass:"dashicons dashicons-format-image mr-2",attrs:{role:"img"}}),t._v("\n                 Browse Media gallery\n            ")])]),t._v(" "),t.gallery?n("div",{staticClass:"gallery"},[n("div",{staticClass:"pt-4 px-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search_term,expression:"search_term"}],attrs:{type:"text"},domProps:{value:t.search_term},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.refreshGallery(e)):null},input:function(e){e.target.composing||(t.search_term=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.refreshGallery(e)}}},[t._v(t._s(t.get_i18n("search","common")))])]),t._v(" "),n("hr"),t._v(" "),n("WPMedias",{attrs:{search:t.search_term,sizeSelect:!1},on:{selected:t.selectedFromGallery,confirmed:t.saveNewAvatar}}),t._v(" "),n("div",{staticClass:"bg-white pt-3"},[n("button",{staticClass:"btn btn-secondary",on:{click:t.close}},[t._v("Close")])])],1):t._e()]):t._e()])},[],!1,null,null,null);e.a=r.exports},XjKC:function(t,e,n){"use strict";var i=n("fPZm");n.n(i).a},ZCf4:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.box-shadow{\n    border: 2px solid #f3f3f3;\n    position: relative;\n    border-radius: .6rem;\n}\n.box-shadow .draggable{\n    background-color: rgb(162, 195, 204);\n    transition: transform .3s ease-in-out;\n    padding: .5em;\n}\n.box-shadow .draggable:hover {\n    cursor: grab;\n}\n.box-shadow .draggable.dragging {\n    transform: scale(1.01);\n}\n.box-shadow .draggable.dragging:hover {\n    cursor: grabbing;\n}\n.box-shadow .draggable .handle{\n    width: 30%;\n    height: 20px;\n    left: 32px;\n    margin-left: 0;\n    color: #fff;\n    background-color: rgb(134, 174, 185);\n    border: none;\n    text-align: center;\n    margin: 0 auto;\n}\n.box-shadow .draggable .handle.handle-actions{\n    left: 0;\n    top: 7px;\n    background: rgb(157, 166, 168);\n    padding: .2em;\n    color: #fff;\n    border-radius: 6px;\n    min-height : 30px;\n    height:auto;\n}\n.box-shadow .draggable .handle-actions.handle-show {\n    left: -26px;\n}\n.box-shadow .draggable .handle:hover{\n    background-color: rgb(134, 174, 185, .8);\n}\n.box-shadow .draggable .handle-tm {\n    border-radius: 6px 6px 0 0;\n}\n.box-shadow .draggable .handle-bm {\n    border-radius: 0 0  6px 6px;\n}\n.box-shadow .draggable .handle-tm.handle-show {\n    top: -20px;\n}\n.box-shadow .draggable .handle-bm.handle-show {\n    bottom: -20px;\n}\n.box-shadow {\n    transition: all .3s ease-in-out;\n    box-shadow: 0 0 0 0 rgba(0,0,0,.1);\n}\n.box-shadow.active{\n    border-color: #c5c5c5;\n}\n.regular-availability .col-sm{\n    max-width: 13%;\n    text-align: center;\n}\n.regular-availability  .col-sm-1{\n    text-align: center;\n}\n.regular-availability{\n    overflow-x: scroll;\n    overflow-y: hidden;\n}\n.scroll-top{\n    display:none;\n}\n.commands-frame{\n    position: relative;\n    padding-top:2rem;\n}\n@media (max-width: 1152px) {\n.scroll-top{\n        display:block;\n        position: absolute;\n        z-index: 2;\n        top: 0;\n        right: 0;\n}\n.scroll-top.scrolled-end{\n        left:0;\n        right:auto;\n}\n.regular-availability{\n        scroll-behavior: smooth;\n}\n}\n\n",""])},Zl2H:function(t,e,n){"use strict";var i=n("Rpva");n.n(i).a},"a+0J":function(t,e,n){"use strict";var i=n("2C5f");n.n(i).a},aGgd:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.staff-av {\n    cursor: pointer;\n}\n.avatar-selection{\n    position: absolute;\n    background-color: #fff;\n    z-index: 9;\n    border-radius: .6rem;\n    box-shadow: 0 .2rem 1rem 0 rgba(0,0,0,.08);\n    border: 1px solid #ececec;\n    padding: 2rem;\n    max-width: 730px;\n}\n.gallery{\n        background-color: #eee;\n}\n.wapmodal-content .close.close-gallery::before, \n.wapmodal-content .close.close-gallery::after,\n.close.close-gallery::before, \n.close.close-gallery::after {\n    height: 16px;\n    width: 3px;\n    position: absolute;\n    background-color: #555;\n    right: 30px;\n    top: 10px;\n}\n.preview-avatar{\n    cursor: pointer;\n}\n.preview-avatar .wrounded{\n    border: 1px solid #eee;\n}\n.preview-avatar:hover .wrounded{\n    border: 2px solid #6664cb;\n}\n.avatar-edit{\n    position:relative;\n}\n.avatar-edit span{\n    position: absolute;\n    display: none;\n    bottom: -15px;\n    left: 8px;\n}\n.avatar-edit:hover span{\n    display: block;\n}\n.wstaff-img{\n    width: 46px;\n    height: 46px;\n    border-radius: 50%;\n    background-size: cover;\n    margin-right: 1rem;\n}\n\n",""])},"c+oO":function(t,e,n){"use strict";var i=n("5oH9"),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i["a"]),s(e,[{key:"endpoints",value:function(){return{save:{method:"post",route:"/calendars"},index:{method:"get",route:"/calendars"},delete:{method:"delete",route:"/calendars"},reorder:{method:"post",route:"/calendars/reorder"},saveService:{method:"post",route:"/calendars/services"},saveCustomFields:{method:"post",route:"/calendars/customfields"},loadCustomFields:{method:"get",route:"/calendars/customfields"},savePermission:{method:"post",route:"/calendars/permissions"},toggle:{method:"post",route:"/calendars/toggle"},getAvatar:{method:"post",route:"/calendars/avatar"},saveCal:{method:"post",route:"/calendars/savecal",timeout:3e4},refreshCalendars:{method:"post",route:"/calendars/refreshcalendars"},disconnectCal:{method:"post",route:"/calendars/disconnect"}}}}]),e}();e.a=a},c4LW:function(t,e,n){var i=n("P7vD");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("ee190b26",i,!0,{})},fPZm:function(t,e,n){var i=n("lwVY");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("1ad4b85f",i,!0,{})},j2Ft:function(t,e,n){var i=n("BYjS");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("5489f3c2",i,!0,{})},lwVY:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.hours-col{\n    padding: 0 .5rem;\n    min-width: 80px;\n    box-shadow: 0 .2rem 1rem 0 rgba(0,0,0,.08);\n}\n.hour-cell{\n    position: relative;\n}\n.box-times > div{\n    text-align: center;\n    padding: 0;\n    font-size: .9rem;\n    font-weight: normal;\n    color:#727272;\n}\n.hr-interval{\n    border-bottom: 1px solid #ccc;\n    width: 6px;\n}\n.box-times .hour-cell{\n    border-bottom: 1px solid #f3f3f3;\n}\n.commands-hours{\n    border-radius: 6px;\n    padding: .4em 0;\n    background-color: #fff;\n}\n\n",""])},nmxd:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"\n.controls .dashicons{\n    cursor:pointer;\n    color: #fff;\n    font-size: 1.2rem;\n}\n.controls .dashicons:hover{\n    cursor:pointer;\n    color:#b75241;\n}\n.controls {\n    position: relative;\n    top: 10%;\n    text-align: center;\n    font-size: .8rem;\n}\n\n",""])},u8Zi:function(t,e,n){var i=n("BzOw");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("5e6b9687",i,!0,{})},vCwr:function(t,e,n){"use strict";var i=n("ExKo");n.n(i).a},vbJd:function(t,e,n){"use strict";var i=n("7dWI"),s=n("ZfG2"),a=n("oV90"),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["a"]),o(e,[{key:"endpoints",value:function(){return{create:{method:"post",route:"/users"}}}}]),e}(),l=n("FYyN"),c=n("EjpI"),h={methods:{toAlphaNum:function(t){return t.replace(/[\W_]+/g,"")}}},u=n("KHd+"),d=Object(u.a)(h,void 0,void 0,!1,null,null,null).exports;var m,f,p={mixins:[l.a,c.a,d],components:{SearchStaff:s.a},props:{staffs:null,activeStaffId:!1,labelDefault:"",autoselect:!0},data:function(){return{staffId:!1,generatedPassword:"",search_term:"",accountCreated:!1,staffsPassed:[],serviceWPUser:null,defaultLabel:""}},created:function(){-1===[!1,void 0,""].indexOf(this.activeStaffId)?this.staffId=this.activeStaffId:this.staffId=!!this.autoselect&&this.staffs[0].ID,this.defaulLabel=""!=this.labelDefault?this.get_i18n("regav_step1_email","common"):this.labelDefault,this.serviceWPUser=this.$vueService(new r),this.staffsPassed=[].concat(this.staffs)},methods:{createAccount:function(){this.request(this.createAccountRequest,void 0,void 0,!1,this.successCreatedAccount)},createAccountRequest:(m=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={username:this.toAlphaNum(this.search_term),email:this.search_term,password:this.generatedPassword,roles:["wappointment_staff"]},t.next=3,this.serviceWPUser.call("create",e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}),f=function(){var t=m.apply(this,arguments);return new Promise(function(e,n){return function i(s,a){try{var o=t[s](a),r=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(r).then(function(t){i("next",t)},function(t){i("throw",t)});e(r)}("next")})},function(){return f.apply(this,arguments)}),successCreatedAccount:function(t){void 0!==t.data&&void 0!==t.data.id&&t.data.id>0&&(this.accountCreated=t.data,this.staffsPassed.push({ID:t.data.id,display_name:"",user_email:t.data.email,gravatar:t.data.avatar_urls[48]}),this.staffId=t.data.id)},searching:function(t,e){parseInt(e)>0?this.search_term="":(this.search_term=t,this.generatePass())},generatePass:function(){this.generatedPassword=Math.random().toString(36).slice(-12)},displayElementFunc:function(t){return void 0!==t?t.user_email+(t.used>0?" (used:"+t.used+")":""):"Unknown"},findUserById:function(t){return this.staffsPassed.find(function(e){return e.ID==t})}},computed:{isEmailWithNoValue:function(){return""!==this.search_term&&Object(i.a)(this.search_term)},staffLoaded:function(){return void 0!==this.staffs}},watch:{staffId:function(t,e){this.$emit("updateStaff",this.findUserById(t))}}},g=(n("9K17"),Object(u.a)(p,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.staffLoaded?n("SearchStaff",{attrs:{ph:t.defaulLabel,elements:t.staffsPassed,idKey:"ID",labelSearchKey:"display_name",groupKey:"role",displayElement:t.displayElementFunc},on:{searching:t.searching},model:{value:t.staffId,callback:function(e){t.staffId=e},expression:"staffId"}}):t._e(),t._v(" "),t.isEmailWithNoValue&&t.isUserAdministrator?n("div",{staticClass:"bg-secondary p-2 rounded mt-2 border border-primary"},[!1===t.accountCreated?n("h4",[t._v("Create a new account? ")]):n("h4",{staticClass:"text-success"},[n("span",{staticClass:"dashicons dashicons-yes-alt"}),t._v(" Account Created ")]),t._v(" "),n("div",{staticClass:"d-flex justify-content-between"},[n("div",[n("div",[t._v("Email: "),n("strong",[t._v(t._s(this.search_term))])]),t._v(" "),n("div",[t._v("Password: "),n("strong",[t._v(t._s(this.generatedPassword))]),t._v(" "),!1===t.accountCreated?n("a",{attrs:{href:"javascript:;","data-tt":"Regenerate"},on:{click:t.generatePass}},[n("span",{staticClass:"dashicons dashicons-image-rotate"})]):t._e()])]),t._v(" "),!1===t.accountCreated?n("button",{staticClass:"btn btn-primary",on:{click:t.createAccount}},[t._v("Create")]):t._e()])]):t._e()],1)},[],!1,null,null,null));e.a=g.exports},zzVz:function(t,e,n){"use strict";var i=n("c4LW");n.n(i).a}}]);